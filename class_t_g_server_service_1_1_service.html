<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tgstation-server: TGServerService.Service Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tgs.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tgstation-server
   &#160;<span id="projectnumber">3.1.6.6</span>
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_t_g_server_service.html">TGServerService</a></li><li class="navelem"><a class="el" href="class_t_g_server_service_1_1_service.html">Service</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_t_g_server_service_1_1_service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TGServerService.Service Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The windows service the application runs as  
 <a href="class_t_g_server_service_1_1_service.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for TGServerService.Service:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service__inherit__graph.png" border="0" usemap="#_t_g_server_service_8_service_inherit__map" alt="Inheritance graph"/></div>
<map name="_t_g_server_service_8_service_inherit__map" id="_t_g_server_service_8_service_inherit__map">
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_tests_1_1_service_accessor.html" title="For accessing service control methods of Service " alt="" coords="72,155,271,196"/>
<area shape="rect" id="node2" href="class_service_base.html" title="ServiceBase" alt="" coords="5,5,100,32"/>
<area shape="rect" id="node3" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html" title="Interface for managing the service " alt="" coords="125,5,218,32"/>
<area shape="rect" id="node4" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html" title="Used for testing connections to the service without authentication " alt="" coords="242,5,354,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TGServerService.Service:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service__coll__graph.png" border="0" usemap="#_t_g_server_service_8_service_coll__map" alt="Collaboration graph"/></div>
<map name="_t_g_server_service_8_service_coll__map" id="_t_g_server_service_8_service_coll__map">
<area shape="rect" id="node2" href="class_service_base.html" title="ServiceBase" alt="" coords="23,5,118,32"/>
<area shape="rect" id="node3" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html" title="Interface for managing the service " alt="" coords="24,56,117,83"/>
<area shape="rect" id="node4" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html" title="Used for testing connections to the service without authentication " alt="" coords="15,107,127,133"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a500b9c8dc623291779fbe0d61a073600"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a500b9c8dc623291779fbe0d61a073600">Service</a> ()</td></tr>
<tr class="memdesc:a500b9c8dc623291779fbe0d61a073600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up ServiceName and <a class="el" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12" title="Singleton instance ">ActiveService</a>  <a href="#a500b9c8dc623291779fbe0d61a073600">More...</a><br /></td></tr>
<tr class="separator:a500b9c8dc623291779fbe0d61a073600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd5b55add385cb0a45b294074b5ed3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#aabd5b55add385cb0a45b294074b5ed3d">VerifyConnection</a> ()</td></tr>
<tr class="memdesc:aabd5b55add385cb0a45b294074b5ed3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API   <a href="#aabd5b55add385cb0a45b294074b5ed3d">More...</a><br /></td></tr>
<tr class="separator:aabd5b55add385cb0a45b294074b5ed3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af610c63c1113cd743cc2c240d5b1fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a7af610c63c1113cd743cc2c240d5b1fc">PrepareForUpdate</a> ()</td></tr>
<tr class="memdesc:a7af610c63c1113cd743cc2c240d5b1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next stop of the service will not close DD and sets a flag for it to reattach once it restarts   <a href="#a7af610c63c1113cd743cc2c240d5b1fc">More...</a><br /></td></tr>
<tr class="separator:a7af610c63c1113cd743cc2c240d5b1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3832427713c1d9a1e89c95c603f71e03"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a3832427713c1d9a1e89c95c603f71e03">RemoteAccessPort</a> ()</td></tr>
<tr class="memdesc:a3832427713c1d9a1e89c95c603f71e03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port used for remote operation   <a href="#a3832427713c1d9a1e89c95c603f71e03">More...</a><br /></td></tr>
<tr class="separator:a3832427713c1d9a1e89c95c603f71e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d3d03864d6d3dddd839ffa06bd7f09"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#ae8d3d03864d6d3dddd839ffa06bd7f09">SetRemoteAccessPort</a> (ushort port)</td></tr>
<tr class="memdesc:ae8d3d03864d6d3dddd839ffa06bd7f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the port used for remote operation Requires a service restart to take effect   <a href="#ae8d3d03864d6d3dddd839ffa06bd7f09">More...</a><br /></td></tr>
<tr class="separator:ae8d3d03864d6d3dddd839ffa06bd7f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2bf19a85493e100eae48ccf8843f6f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a1a2bf19a85493e100eae48ccf8843f6f">Version</a> ()</td></tr>
<tr class="memdesc:a1a2bf19a85493e100eae48ccf8843f6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve's the service's version   <a href="#a1a2bf19a85493e100eae48ccf8843f6f">More...</a><br /></td></tr>
<tr class="separator:a1a2bf19a85493e100eae48ccf8843f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdb38171925330315461b0ee025ae24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#acfdb38171925330315461b0ee025ae24">SetPythonPath</a> (string path)</td></tr>
<tr class="memdesc:acfdb38171925330315461b0ee025ae24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the path to the python 2.7 installation   <a href="#acfdb38171925330315461b0ee025ae24">More...</a><br /></td></tr>
<tr class="separator:acfdb38171925330315461b0ee025ae24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af90e43b785ee8ff8bb1dad5b7f137e66"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#af90e43b785ee8ff8bb1dad5b7f137e66">PythonPath</a> ()</td></tr>
<tr class="memdesc:af90e43b785ee8ff8bb1dad5b7f137e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the path to the python 2.7 installation   <a href="#af90e43b785ee8ff8bb1dad5b7f137e66">More...</a><br /></td></tr>
<tr class="separator:af90e43b785ee8ff8bb1dad5b7f137e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1238e3562599d24e76fe7551e25d577a"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="class_t_g_service_interface_1_1_instance_metadata.html">InstanceMetadata</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a1238e3562599d24e76fe7551e25d577a">ListInstances</a> ()</td></tr>
<tr class="memdesc:a1238e3562599d24e76fe7551e25d577a"><td class="mdescLeft">&#160;</td><td class="mdescRight">List instances   <a href="#a1238e3562599d24e76fe7551e25d577a">More...</a><br /></td></tr>
<tr class="separator:a1238e3562599d24e76fe7551e25d577a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44796f0b39871f5104d4a08b0f6c890b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b">CreateInstance</a> (string Name, string path)</td></tr>
<tr class="memdesc:a44796f0b39871f5104d4a08b0f6c890b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new server instance   <a href="#a44796f0b39871f5104d4a08b0f6c890b">More...</a><br /></td></tr>
<tr class="separator:a44796f0b39871f5104d4a08b0f6c890b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602684a72a2b6c933779ed5682d432c6"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6">ImportInstance</a> (string path)</td></tr>
<tr class="memdesc:a602684a72a2b6c933779ed5682d432c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an existing server instance   <a href="#a602684a72a2b6c933779ed5682d432c6">More...</a><br /></td></tr>
<tr class="separator:a602684a72a2b6c933779ed5682d432c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76f237bd1c470a81363ae5c4e7db2f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#ae76f237bd1c470a81363ae5c4e7db2f4">InstanceEnabled</a> (string Name)</td></tr>
<tr class="memdesc:ae76f237bd1c470a81363ae5c4e7db2f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if an instance is online   <a href="#ae76f237bd1c470a81363ae5c4e7db2f4">More...</a><br /></td></tr>
<tr class="separator:ae76f237bd1c470a81363ae5c4e7db2f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3198184dea17357f249757cba2647c77"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77">SetInstanceEnabled</a> (string Name, bool enabled)</td></tr>
<tr class="memdesc:a3198184dea17357f249757cba2647c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an instance's enabled status   <a href="#a3198184dea17357f249757cba2647c77">More...</a><br /></td></tr>
<tr class="separator:a3198184dea17357f249757cba2647c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5faffc551d8f0ef082208b53394a9aea"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea">RenameInstance</a> (string name, string new_name)</td></tr>
<tr class="memdesc:a5faffc551d8f0ef082208b53394a9aea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renames an instance, this will restart the instance if it is enabled   <a href="#a5faffc551d8f0ef082208b53394a9aea">More...</a><br /></td></tr>
<tr class="separator:a5faffc551d8f0ef082208b53394a9aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3002f3d9ef01874bb73b676f5eb110"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110">DetachInstance</a> (string name)</td></tr>
<tr class="memdesc:a4a3002f3d9ef01874bb73b676f5eb110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables and unregisters an instance, allowing the folder and data to be manipulated manually   <a href="#a4a3002f3d9ef01874bb73b676f5eb110">More...</a><br /></td></tr>
<tr class="separator:a4a3002f3d9ef01874bb73b676f5eb110"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac3397831deffcbd077a20f4ceb86f7c7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#ac3397831deffcbd077a20f4ceb86f7c7">CancelImpersonation</a> ()</td></tr>
<tr class="memdesc:ac3397831deffcbd077a20f4ceb86f7c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels WCF's user impersonation to allow clean access to writing log files  <a href="#ac3397831deffcbd077a20f4ceb86f7c7">More...</a><br /></td></tr>
<tr class="separator:ac3397831deffcbd077a20f4ceb86f7c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4beb99d9b8b74015aef3ea5e7c0a57"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a> (string message, <a class="el" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a> id, EventLogEntryType eventType, byte loggingID)</td></tr>
<tr class="memdesc:a7c4beb99d9b8b74015aef3ea5e7c0a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an event to Windows the event log  <a href="#a7c4beb99d9b8b74015aef3ea5e7c0a57">More...</a><br /></td></tr>
<tr class="separator:a7c4beb99d9b8b74015aef3ea5e7c0a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6e95310be3be5a0cebd4f0c00fc83123"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">LoggingID</a> = 0</td></tr>
<tr class="memdesc:a6e95310be3be5a0cebd4f0c00fc83123"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logging ID used for <a class="el" href="class_t_g_server_service_1_1_service.html" title="The windows service the application runs as ">Service</a> events  <a href="#a6e95310be3be5a0cebd4f0c00fc83123">More...</a><br /></td></tr>
<tr class="separator:a6e95310be3be5a0cebd4f0c00fc83123"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a088c62d8706172788f1889e68074e574"><td class="memItemLeft" align="right" valign="top">static readonly string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a088c62d8706172788f1889e68074e574">VersionString</a> = &quot;/tg/station 13 Server <a class="el" href="class_t_g_server_service_1_1_service.html">Service</a> v&quot; + FileVersionInfo.GetVersionInfo(System.Reflection.Assembly.GetExecutingAssembly().Location).FileVersion</td></tr>
<tr class="memdesc:a088c62d8706172788f1889e68074e574"><td class="mdescLeft">&#160;</td><td class="mdescRight">The service version string based on the FileVersionInfo  <a href="#a088c62d8706172788f1889e68074e574">More...</a><br /></td></tr>
<tr class="separator:a088c62d8706172788f1889e68074e574"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a78d03d1ce1ea982ffc9b4eb2c4254fa3"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a78d03d1ce1ea982ffc9b4eb2c4254fa3">Dispose</a> (bool disposing)</td></tr>
<tr class="memdesc:a78d03d1ce1ea982ffc9b4eb2c4254fa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears <a class="el" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12" title="Singleton instance ">ActiveService</a>  <a href="#a78d03d1ce1ea982ffc9b4eb2c4254fa3">More...</a><br /></td></tr>
<tr class="separator:a78d03d1ce1ea982ffc9b4eb2c4254fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb8fb7f15c6f001175ce52d70ef903e"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e">OnStart</a> (string[] args)</td></tr>
<tr class="memdesc:a4bb8fb7f15c6f001175ce52d70ef903e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the Windows service manager. Initializes and starts configured <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>s  <a href="#a4bb8fb7f15c6f001175ce52d70ef903e">More...</a><br /></td></tr>
<tr class="separator:a4bb8fb7f15c6f001175ce52d70ef903e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbfb4436b03982b6d7e466fde1763d7"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a2dbfb4436b03982b6d7e466fde1763d7">OnStop</a> ()</td></tr>
<tr class="memdesc:a2dbfb4436b03982b6d7e466fde1763d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down all active ServiceHosts and calls IDisposable.Dispose on it's <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#a2dbfb4436b03982b6d7e466fde1763d7">More...</a><br /></td></tr>
<tr class="separator:a2dbfb4436b03982b6d7e466fde1763d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa6dedd0eb3bb12503c8bbbc6cb76f3f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#aa6dedd0eb3bb12503c8bbbc6cb76f3f7">MigrateSettings</a> (int oldVersion)</td></tr>
<tr class="memdesc:aa6dedd0eb3bb12503c8bbbc6cb76f3f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Migrates the .NET config from <em>oldVersion</em>  to <em>oldVersion</em>  + 1  <a href="#aa6dedd0eb3bb12503c8bbbc6cb76f3f7">More...</a><br /></td></tr>
<tr class="separator:aa6dedd0eb3bb12503c8bbbc6cb76f3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5c6694977d1c65dcc661dbfd7edb97"><td class="memItemLeft" align="right" valign="top">IEnumerable&lt; <a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a> ()</td></tr>
<tr class="memdesc:a9b5c6694977d1c65dcc661dbfd7edb97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates configured <a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a>s. Detaches those that fail to load  <a href="#a9b5c6694977d1c65dcc661dbfd7edb97">More...</a><br /></td></tr>
<tr class="separator:a9b5c6694977d1c65dcc661dbfd7edb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b7d6185818aa22a4edcf4865ec2bb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a68b7d6185818aa22a4edcf4865ec2bb0">ChangePortFromCommandLine</a> (string[] args)</td></tr>
<tr class="memdesc:a68b7d6185818aa22a4edcf4865ec2bb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides and saves the configured Properties.Settings.RemoteAccessPort if requested by command line parameters  <a href="#a68b7d6185818aa22a4edcf4865ec2bb0">More...</a><br /></td></tr>
<tr class="separator:a68b7d6185818aa22a4edcf4865ec2bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeed60cf886ff66bfcaa160f028f0022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#afeed60cf886ff66bfcaa160f028f0022">PrePrepConfig</a> ()</td></tr>
<tr class="memdesc:afeed60cf886ff66bfcaa160f028f0022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes some changes to the Properties.Settings that always need to be done.  <a href="#afeed60cf886ff66bfcaa160f028f0022">More...</a><br /></td></tr>
<tr class="separator:afeed60cf886ff66bfcaa160f028f0022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed52895c6c15b9f1270f73369958347"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a3ed52895c6c15b9f1270f73369958347">SetupConfig</a> ()</td></tr>
<tr class="memdesc:a3ed52895c6c15b9f1270f73369958347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upgrades up the service configuration  <a href="#a3ed52895c6c15b9f1270f73369958347">More...</a><br /></td></tr>
<tr class="separator:a3ed52895c6c15b9f1270f73369958347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e851175c71de84bae17d2f43c8b3301"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a1e851175c71de84bae17d2f43c8b3301">SetupService</a> ()</td></tr>
<tr class="memdesc:a1e851175c71de84bae17d2f43c8b3301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the ServiceHost for ITGSService  <a href="#a1e851175c71de84bae17d2f43c8b3301">More...</a><br /></td></tr>
<tr class="separator:a1e851175c71de84bae17d2f43c8b3301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a61f954b4c3ea04d88d73bfb095ead6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a6a61f954b4c3ea04d88d73bfb095ead6">OnlineAllHosts</a> ()</td></tr>
<tr class="memdesc:a6a61f954b4c3ea04d88d73bfb095ead6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens all created ServiceHosts  <a href="#a6a61f954b4c3ea04d88d73bfb095ead6">More...</a><br /></td></tr>
<tr class="separator:a6a61f954b4c3ea04d88d73bfb095ead6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74c8e27919681ca6333d98088e482b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9">SetupInstances</a> ()</td></tr>
<tr class="memdesc:ab74c8e27919681ca6333d98088e482b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates ServiceHosts for all <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>s as listed in Properties.Settings.InstancePaths, detaches bad ones  <a href="#ab74c8e27919681ca6333d98088e482b9">More...</a><br /></td></tr>
<tr class="separator:ab74c8e27919681ca6333d98088e482b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43203a881d0bd7376cfeb73182a847cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc">UnlockLoggingID</a> (byte ID)</td></tr>
<tr class="memdesc:a43203a881d0bd7376cfeb73182a847cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks a <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afbfb768a2d7c05237dd2650892cf6266" title="Used to assign the instance to event IDs ">ServerInstance.LoggingID</a> acquired with <a class="el" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID ">LockLoggingID</a>  <a href="#a43203a881d0bd7376cfeb73182a847cc">More...</a><br /></td></tr>
<tr class="separator:a43203a881d0bd7376cfeb73182a847cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8321586d223cb2326e14360b8af7d8e"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e">LockLoggingID</a> ()</td></tr>
<tr class="memdesc:af8321586d223cb2326e14360b8af7d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets and locks a <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afbfb768a2d7c05237dd2650892cf6266" title="Used to assign the instance to event IDs ">ServerInstance.LoggingID</a>  <a href="#af8321586d223cb2326e14360b8af7d8e">More...</a><br /></td></tr>
<tr class="separator:af8321586d223cb2326e14360b8af7d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9fbc7211bc275fbfbb1bd6fcf4f94d0"><td class="memItemLeft" align="right" valign="top">ServiceHost&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0">SetupInstance</a> (<a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a> config)</td></tr>
<tr class="memdesc:af9fbc7211bc275fbfbb1bd6fcf4f94d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and starts a ServiceHost for a <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> at <em>config</em>   <a href="#af9fbc7211bc275fbfbb1bd6fcf4f94d0">More...</a><br /></td></tr>
<tr class="separator:af9fbc7211bc275fbfbb1bd6fcf4f94d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70efdca1b28c2d1a30df7e46bd48bc40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40">AddEndpoint</a> (ServiceHost host, Type typetype)</td></tr>
<tr class="memdesc:a70efdca1b28c2d1a30df7e46bd48bc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a WCF endpoint for a component <em>typetype</em>   <a href="#a70efdca1b28c2d1a30df7e46bd48bc40">More...</a><br /></td></tr>
<tr class="separator:a70efdca1b28c2d1a30df7e46bd48bc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd9fa33a5f51db6f4f44cdd8eaae281"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281">SetupOneInstance</a> (<a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a> config)</td></tr>
<tr class="memdesc:a7bd9fa33a5f51db6f4f44cdd8eaae281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts and onlines an instance located at <em>config</em>   <a href="#a7bd9fa33a5f51db6f4f44cdd8eaae281">More...</a><br /></td></tr>
<tr class="separator:a7bd9fa33a5f51db6f4f44cdd8eaae281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a985af3b9cd637f80b406c0395599f2"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2">SetInstanceEnabledImpl</a> (string Name, bool enabled, out string path)</td></tr>
<tr class="memdesc:a4a985af3b9cd637f80b406c0395599f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>'s enabled status  <a href="#a4a985af3b9cd637f80b406c0395599f2">More...</a><br /></td></tr>
<tr class="separator:a4a985af3b9cd637f80b406c0395599f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aab8893f216482bd3ac65029838ada7fd"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#aab8893f216482bd3ac65029838ada7fd">CheckInstanceName</a> (string instanceName)</td></tr>
<tr class="memdesc:aab8893f216482bd3ac65029838ada7fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks an <em>instanceName</em>  for illegal characters  <a href="#aab8893f216482bd3ac65029838ada7fd">More...</a><br /></td></tr>
<tr class="separator:aab8893f216482bd3ac65029838ada7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd51696063d87ec7fc00054a19b345d9"><td class="memItemLeft" align="right" valign="top">static ServiceHost&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9">CreateHost</a> (object singleton, string endpointPostfix)</td></tr>
<tr class="memdesc:abd51696063d87ec7fc00054a19b345d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a ServiceHost for <em>singleton</em>  using the default pipe, CloseTimeout for the ServiceHost, and the configured Properties.Settings.RemoteAccessPort  <a href="#abd51696063d87ec7fc00054a19b345d9">More...</a><br /></td></tr>
<tr class="separator:abd51696063d87ec7fc00054a19b345d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9fb024e6ebb361ab16de6eda9d741043"><td class="memItemLeft" align="right" valign="top">ServiceHost&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">serviceHost</a></td></tr>
<tr class="memdesc:a9fb024e6ebb361ab16de6eda9d741043"><td class="mdescLeft">&#160;</td><td class="mdescRight">The WCF host that contains ITGSService connects to  <a href="#a9fb024e6ebb361ab16de6eda9d741043">More...</a><br /></td></tr>
<tr class="separator:a9fb024e6ebb361ab16de6eda9d741043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84d7c573dcaddfa8411b826c1d4fc53"><td class="memItemLeft" align="right" valign="top">IDictionary&lt; string, ServiceHost &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a></td></tr>
<tr class="memdesc:ad84d7c573dcaddfa8411b826c1d4fc53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of <a class="el" href="class_t_g_server_service_1_1_instance_config.html#a7da592ea91a0b4ddf0806e25aa5d3b77" title="The name of the ServerInstance ">InstanceConfig.Name</a> to the respective ServiceHost hosting the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#ad84d7c573dcaddfa8411b826c1d4fc53">More...</a><br /></td></tr>
<tr class="separator:ad84d7c573dcaddfa8411b826c1d4fc53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1f5d700a3a39457ce637e1d8e62290"><td class="memItemLeft" align="right" valign="top">IList&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">UsedLoggingIDs</a> = new List&lt;int&gt;()</td></tr>
<tr class="memdesc:aed1f5d700a3a39457ce637e1d8e62290"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afbfb768a2d7c05237dd2650892cf6266" title="Used to assign the instance to event IDs ">ServerInstance.LoggingID</a>s in use  <a href="#aed1f5d700a3a39457ce637e1d8e62290">More...</a><br /></td></tr>
<tr class="separator:aed1f5d700a3a39457ce637e1d8e62290"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ac2057d36e9866b9fc8483ba5e56eca12"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_g_server_service_1_1_service.html">Service</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">ActiveService</a></td></tr>
<tr class="memdesc:ac2057d36e9866b9fc8483ba5e56eca12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton instance  <a href="#ac2057d36e9866b9fc8483ba5e56eca12">More...</a><br /></td></tr>
<tr class="separator:ac2057d36e9866b9fc8483ba5e56eca12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The windows service the application runs as </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00018">18</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a500b9c8dc623291779fbe0d61a073600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TGServerService.Service.Service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up ServiceName and <a class="el" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12" title="Singleton instance ">ActiveService</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00072">72</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            ServiceName = <span class="stringliteral">&quot;TG Station Server&quot;</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">ActiveService</a> != null)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;There is already a Service instance running!&quot;</span>);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">ActiveService</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_ac2057d36e9866b9fc8483ba5e56eca12"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">TGServerService.Service.ActiveService</a></div><div class="ttdeci">static Service ActiveService</div><div class="ttdoc">Singleton instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00033">Service.cs:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a70efdca1b28c2d1a30df7e46bd48bc40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.AddEndpoint </td>
          <td>(</td>
          <td class="paramtype">ServiceHost&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Type&#160;</td>
          <td class="paramname"><em>typetype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a WCF endpoint for a component <em>typetype</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>The service host to add the component to</td></tr>
    <tr><td class="paramname">typetype</td><td>The type of the component</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00365">365</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_interface_8cs_source.html#l00092">TGServiceInterface.Interface.TransferLimitLocal</a>, and <a class="el" href="_interface_8cs_source.html#l00097">TGServiceInterface.Interface.TransferLimitRemote</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00324">TGServerService.Service.SetupInstance()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00233">TGServerService.Service.SetupService()</a>.</p>
<div class="fragment"><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            var bindingName = typetype.Name;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            host.AddServiceEndpoint(typetype, <span class="keyword">new</span> NetNamedPipeBinding() { SendTimeout = <span class="keyword">new</span> TimeSpan(0, 0, 30), MaxReceivedMessageSize = <a class="code" href="class_t_g_service_interface_1_1_interface.html">Interface</a>.<a class="code" href="class_t_g_service_interface_1_1_interface.html#aa5ccca53bb7e2bd6fd609ee68099bbd2">TransferLimitLocal</a> }, bindingName);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            var httpsBinding = <span class="keyword">new</span> WSHttpBinding()</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                SendTimeout = <span class="keyword">new</span> TimeSpan(0, 0, 40),</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                MaxReceivedMessageSize = <a class="code" href="class_t_g_service_interface_1_1_interface.html">Interface</a>.<a class="code" href="class_t_g_service_interface_1_1_interface.html#a00d88d167689139612f0e7c4444eb35d">TransferLimitRemote</a></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            };</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            var requireAuth = typetype.Name != typeof(<a class="code" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html">ITGConnectivity</a>).Name;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            httpsBinding.Security.Transport.ClientCredentialType = HttpClientCredentialType.None;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            httpsBinding.Security.Mode = requireAuth ? SecurityMode.TransportWithMessageCredential : SecurityMode.Transport;    <span class="comment">//do not require auth for a connectivity check</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            httpsBinding.Security.Message.ClientCredentialType = requireAuth ? MessageCredentialType.UserName : MessageCredentialType.None;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            host.AddServiceEndpoint(typetype, httpsBinding, bindingName);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div><div class="ttc" id="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity_html"><div class="ttname"><a href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html">TGServiceInterface.Components.ITGConnectivity</a></div><div class="ttdoc">Used for testing connections to the service without authentication </div><div class="ttdef"><b>Definition:</b> <a href="_connectivity_8cs_source.html#l00009">Connectivity.cs:9</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_interface_html_aa5ccca53bb7e2bd6fd609ee68099bbd2"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html#aa5ccca53bb7e2bd6fd609ee68099bbd2">TGServiceInterface.Interface.TransferLimitLocal</a></div><div class="ttdeci">const long TransferLimitLocal</div><div class="ttdoc">The maximum message size to and from a local server </div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00092">Interface.cs:92</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_interface_html_a00d88d167689139612f0e7c4444eb35d"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html#a00d88d167689139612f0e7c4444eb35d">TGServiceInterface.Interface.TransferLimitRemote</a></div><div class="ttdeci">const long TransferLimitRemote</div><div class="ttdoc">The maximum message size to and from a remote server </div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00097">Interface.cs:97</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_interface_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html">TGServiceInterface.Interface</a></div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00082">Interface.cs:82</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a70efdca1b28c2d1a30df7e46bd48bc40_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a70efdca1b28c2d1a30df7e46bd48bc40_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a70efdca1b28c2d1a30df7e46bd48bc40_icgraph" id="class_t_g_server_service_1_1_service_a70efdca1b28c2d1a30df7e46bd48bc40_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="220,168,387,209"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#a1e851175c71de84bae17d2f43c8b3301" title="Creates the ServiceHost for ITGSService " alt="" coords="220,233,387,275"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9" title="Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones " alt="" coords="435,172,601,213"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="435,105,601,147"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="649,233,816,275"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="649,103,816,144"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6" title="Registers an existing server instance &#160;" alt="" coords="649,168,816,209"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="649,37,816,79"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="864,5,1031,47"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="864,71,1031,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="1079,5,1245,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac3397831deffcbd077a20f4ceb86f7c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TGServerService.Service.CancelImpersonation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancels WCF's user impersonation to allow clean access to writing log files </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00038">38</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00156">TGServerService.ServerInstance.DeleteFile()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00019">TGServerService.ServerInstance.ReadText()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00104">TGServerService.ServerInstance.WriteText()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            WindowsIdentity.Impersonate(IntPtr.Zero);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_ac3397831deffcbd077a20f4ceb86f7c7_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_ac3397831deffcbd077a20f4ceb86f7c7_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_ac3397831deffcbd077a20f4ceb86f7c7_icgraph" id="class_t_g_server_service_1_1_service_ac3397831deffcbd077a20f4ceb86f7c7_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#acf09f63e7c88913016493dc9b487f902" title="Deletes the target static file &#160;" alt="" coords="220,5,431,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a5b2fcd99212aba5406674cdf3175b9a1" title="Read from a static file &#160;" alt="" coords="220,71,431,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#abdf26641e717823f8958ac46db3c0cc8" title="Write to a static file &#160;" alt="" coords="220,136,431,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a68b7d6185818aa22a4edcf4865ec2bb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.ChangePortFromCommandLine </td>
          <td>(</td>
          <td class="paramtype">string[]&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overrides and saves the configured Properties.Settings.RemoteAccessPort if requested by command line parameters </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>The command line parameters for the <a class="el" href="class_t_g_server_service_1_1_service.html" title="The windows service the application runs as ">Service</a></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00154">154</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00181">TGServerService.Service.OnStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">for</span> (var I = 0; I &lt; args.Length - 1; ++I)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">if</span> (args[I].ToLower() == <span class="stringliteral">&quot;-port&quot;</span>)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        var res = Convert.ToUInt16(args[I + 1]);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        <span class="keywordflow">if</span> (res == 0)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                            <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Cannot bind to port 0&quot;</span>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                        Config.RemoteAccessPort = res;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                    }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Invalid argument for \&quot;-port\&quot;&quot;</span>, e);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    Config.Save();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a68b7d6185818aa22a4edcf4865ec2bb0_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a68b7d6185818aa22a4edcf4865ec2bb0_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a68b7d6185818aa22a4edcf4865ec2bb0_icgraph" id="class_t_g_server_service_1_1_service_a68b7d6185818aa22a4edcf4865ec2bb0_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="256,5,423,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aab8893f216482bd3ac65029838ada7fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string TGServerService.Service.CheckInstanceName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>instanceName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks an <em>instanceName</em>  for illegal characters </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instanceName</td><td>The <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> name to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if <em>instanceName</em>  contains no illegal characters, error message otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00060">60</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00472">TGServerService.Service.CreateInstance()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00628">TGServerService.Service.RenameInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="keywordtype">char</span>[] bannedCharacters = { <span class="charliteral">&#39;;&#39;</span>, <span class="charliteral">&#39;&amp;&#39;</span>, <span class="charliteral">&#39;=&#39;</span>, <span class="charliteral">&#39;%&#39;</span> };</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> bannedCharacters)</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="keywordflow">if</span> (instanceName.Contains(I.ToString()))</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Instance names may not contain the following characters: &#39;;&#39;, &#39;&amp;&#39;, &#39;=&#39;, or &#39;%&#39;&quot;</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_aab8893f216482bd3ac65029838ada7fd_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_aab8893f216482bd3ac65029838ada7fd_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_aab8893f216482bd3ac65029838ada7fd_icgraph" id="class_t_g_server_service_1_1_service_aab8893f216482bd3ac65029838ada7fd_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="220,71,387,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abd51696063d87ec7fc00054a19b345d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ServiceHost TGServerService.Service.CreateHost </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>singleton</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>endpointPostfix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a ServiceHost for <em>singleton</em>  using the default pipe, CloseTimeout for the ServiceHost, and the configured Properties.Settings.RemoteAccessPort </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">singleton</td><td>The ServiceHost.SingletonInstance</td></tr>
    <tr><td class="paramname">endpointPostfix</td><td>The URL to access components on the ServiceHost</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created ServiceHost</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00257">257</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00324">TGServerService.Service.SetupInstance()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00233">TGServerService.Service.SetupService()</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> ServiceHost(singleton, <span class="keyword">new</span> Uri[] { <span class="keyword">new</span> Uri(String.Format(<span class="stringliteral">&quot;net.pipe://localhost/{0}&quot;</span>, endpointPostfix)), <span class="keyword">new</span> Uri(String.Format(<span class="stringliteral">&quot;https://localhost:{0}/{1}&quot;</span>, Properties.Settings.Default.RemoteAccessPort, endpointPostfix)) })</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                CloseTimeout = <span class="keyword">new</span> TimeSpan(0, 0, 5)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            };</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_abd51696063d87ec7fc00054a19b345d9_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_abd51696063d87ec7fc00054a19b345d9_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_abd51696063d87ec7fc00054a19b345d9_icgraph" id="class_t_g_server_service_1_1_service_abd51696063d87ec7fc00054a19b345d9_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="220,168,387,209"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#a1e851175c71de84bae17d2f43c8b3301" title="Creates the ServiceHost for ITGSService " alt="" coords="220,233,387,275"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9" title="Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones " alt="" coords="435,172,601,213"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="435,105,601,147"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="649,233,816,275"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="649,103,816,144"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6" title="Registers an existing server instance &#160;" alt="" coords="649,168,816,209"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="649,37,816,79"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="864,5,1031,47"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="864,71,1031,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="1079,5,1245,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44796f0b39871f5104d4a08b0f6c890b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.CreateInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new server instance  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a4b0e712b66b0866bf80e90084fa9a94f">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00472">472</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00060">TGServerService.Service.CheckInstanceName()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, <a class="el" href="_instance_config_8cs_source.html#l00132">TGServerService.InstanceConfig.Save()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00511">TGServerService.Service.SetupOneInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            var res = <a class="code" href="class_t_g_server_service_1_1_service.html#aab8893f216482bd3ac65029838ada7fd">CheckInstanceName</a>(Name);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">if</span> (File.Exists(path) || Directory.Exists(path))</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot create instance at pre-existing path!&quot;</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keywordflow">if</span> (Config.InstancePaths.Contains(path))</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance at {0} already exists!&quot;</span>, path);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">foreach</span> (var oic <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a>())</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                    <span class="keywordflow">if</span> (Name == oic.Name)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance named {0} already exists!&quot;</span>, oic.Name);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                InstanceConfig ic;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                    ic = <span class="keyword">new</span> InstanceConfig(path)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                    {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                        Name = Name</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    };</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    Directory.CreateDirectory(path);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                    ic.Save();</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    Properties.Settings.Default.InstancePaths.Add(path);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281">SetupOneInstance</a>(ic);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_aab8893f216482bd3ac65029838ada7fd"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#aab8893f216482bd3ac65029838ada7fd">TGServerService.Service.CheckInstanceName</a></div><div class="ttdeci">static string CheckInstanceName(string instanceName)</div><div class="ttdoc">Checks an instanceName  for illegal characters </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00060">Service.cs:60</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a7bd9fa33a5f51db6f4f44cdd8eaae281"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281">TGServerService.Service.SetupOneInstance</a></div><div class="ttdeci">string SetupOneInstance(InstanceConfig config)</div><div class="ttdoc">Starts and onlines an instance located at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00511">Service.cs:511</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9b5c6694977d1c65dcc661dbfd7edb97"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">TGServerService.Service.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; InstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured InstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00124">Service.cs:124</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a44796f0b39871f5104d4a08b0f6c890b_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a44796f0b39871f5104d4a08b0f6c890b_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a44796f0b39871f5104d4a08b0f6c890b_cgraph" id="class_t_g_server_service_1_1_service_a44796f0b39871f5104d4a08b0f6c890b_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#aab8893f216482bd3ac65029838ada7fd" title="Checks an instanceName &#160;for illegal characters " alt="" coords="222,5,389,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="222,71,389,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_instance_config.html#a9d77e1404ff1815cd19ca1c6f5401987" title="Saves the InstanceConfig to it&#39;s ServerInstance Directory " alt="" coords="220,136,391,177"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="222,201,389,243"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="439,41,609,83"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="657,100,824,141"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="441,201,607,243"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="657,165,824,207"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="657,231,824,272"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="657,296,824,337"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a3002f3d9ef01874bb73b676f5eb110"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.DetachInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables and unregisters an instance, allowing the folder and data to be manipulated manually  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a348741ee4536caa3dca654ac2f11bd45">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00677">677</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00580">TGServerService.Service.SetInstanceEnabledImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                var res = <a class="code" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2">SetInstanceEnabledImpl</a>(name, <span class="keyword">false</span>, out <span class="keywordtype">string</span> path);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">if</span> (path == null)    <span class="comment">//gotta find it ourselves</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <span class="keywordflow">foreach</span> (var ic <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a>())</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                        <span class="keywordflow">if</span> (ic.Name == name)</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                            path = ic.Directory;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <span class="keywordflow">if</span> (path == null)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;No instance named {0} exists!&quot;</span>, name);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                Properties.Settings.Default.InstancePaths.Remove(path);</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a9b5c6694977d1c65dcc661dbfd7edb97"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">TGServerService.Service.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; InstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured InstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00124">Service.cs:124</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a4a985af3b9cd637f80b406c0395599f2"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2">TGServerService.Service.SetInstanceEnabledImpl</a></div><div class="ttdeci">string SetInstanceEnabledImpl(string Name, bool enabled, out string path)</div><div class="ttdoc">Sets a ServerInstance&amp;#39;s enabled status </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00580">Service.cs:580</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a4a3002f3d9ef01874bb73b676f5eb110_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a4a3002f3d9ef01874bb73b676f5eb110_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a4a3002f3d9ef01874bb73b676f5eb110_cgraph" id="class_t_g_server_service_1_1_service_a4a3002f3d9ef01874bb73b676f5eb110_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="435,64,601,105"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="220,128,387,169"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="649,5,820,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="868,64,1035,105"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="435,129,601,171"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc" title="Unlocks a ServerInstance.LoggingID acquired with LockLoggingID " alt="" coords="435,195,601,236"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="651,129,818,171"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="868,129,1035,171"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="868,195,1035,236"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="868,260,1035,301"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a78d03d1ce1ea982ffc9b4eb2c4254fa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void TGServerService.Service.Dispose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposing</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears <a class="el" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12" title="Singleton instance ">ActiveService</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disposing</td><td>if this method was invoked from IDisposable.Dispose, otherwise it was invoked by the finalizer</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00084">84</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00084">TGServerService.Service.Dispose()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00084">TGServerService.Service.Dispose()</a>, and <a class="el" href="_test_service_8cs_source.html#l00016">TGServerService.Tests.TestService.TestInstantiation()</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">ActiveService</a> = null;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            base.<a class="code" href="class_t_g_server_service_1_1_service.html#a78d03d1ce1ea982ffc9b4eb2c4254fa3">Dispose</a>(disposing);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a78d03d1ce1ea982ffc9b4eb2c4254fa3"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a78d03d1ce1ea982ffc9b4eb2c4254fa3">TGServerService.Service.Dispose</a></div><div class="ttdeci">override void Dispose(bool disposing)</div><div class="ttdoc">Clears ActiveService </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00084">Service.cs:84</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ac2057d36e9866b9fc8483ba5e56eca12"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">TGServerService.Service.ActiveService</a></div><div class="ttdeci">static Service ActiveService</div><div class="ttdoc">Singleton instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00033">Service.cs:33</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_cgraph" id="class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_cgraph">
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_icgraph" id="class_t_g_server_service_1_1_service_a78d03d1ce1ea982ffc9b4eb2c4254fa3_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_tests_1_1_test_service.html#a6587758eab5e33ac910ce779fb8bee59" title="Test Service.Service can execute successfully " alt="" coords="220,29,403,71"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9b5c6694977d1c65dcc661dbfd7edb97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IEnumerable&lt;<a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a>&gt; TGServerService.Service.GetInstanceConfigs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enumerates configured <a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a>s. Detaches those that fail to load </p>
<dl class="section return"><dt>Returns</dt><dd>Each configured <a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a></dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">124</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_instance_config_8cs_source.html#l00144">TGServerService.InstanceConfig.Load()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00050">TGServerService.Service.WriteEntry()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00472">TGServerService.Service.CreateInstance()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00677">TGServerService.Service.DetachInstance()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00530">TGServerService.Service.ImportInstance()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00456">TGServerService.Service.ListInstances()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00628">TGServerService.Service.RenameInstance()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00580">TGServerService.Service.SetInstanceEnabledImpl()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00268">TGServerService.Service.SetupInstances()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            var pathsToRemove = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                var IPS = Properties.Settings.Default.InstancePaths;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> IPS)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    InstanceConfig ic;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                        ic = InstanceConfig.Load(I);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a>(String.Format(<span class="stringliteral">&quot;Unable load instance config at path {0}. Error: {1} Detaching...&quot;</span>, I, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InstanceInitializationFailure, EventLogEntryType.Error, <a class="code" href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">LoggingID</a>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        pathsToRemove.Add(I);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    yield <span class="keywordflow">return</span> ic;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> pathsToRemove)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    IPS.Remove(I);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the ServerInstance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a6e95310be3be5a0cebd4f0c00fc83123"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">TGServerService.Service.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Service events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00023">Service.cs:23</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a7c4beb99d9b8b74015aef3ea5e7c0a57"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">TGServerService.Service.WriteEntry</a></div><div class="ttdeci">static void WriteEntry(string message, EventID id, EventLogEntryType eventType, byte loggingID)</div><div class="ttdoc">Writes an event to Windows the event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00050">Service.cs:50</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_cgraph" id="class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="220,5,391,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="222,95,389,136"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_icgraph" id="class_t_g_server_service_1_1_service_a9b5c6694977d1c65dcc661dbfd7edb97_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="435,127,601,168"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6" title="Registers an existing server instance &#160;" alt="" coords="220,123,387,164"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a1238e3562599d24e76fe7551e25d577a" title="List instances &#160;" alt="" coords="220,188,387,229"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="649,283,816,324"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="220,253,387,295"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9" title="Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones " alt="" coords="220,371,387,412"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="435,253,601,295"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="435,371,601,412"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a602684a72a2b6c933779ed5682d432c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.ImportInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers an existing server instance  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#ad0bbe38e4aa80ccdae456919a5961b58">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00530">530</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, <a class="el" href="_instance_config_8cs_source.html#l00144">TGServerService.InstanceConfig.Load()</a>, <a class="el" href="_instance_config_8cs_source.html#l00034">TGServerService.InstanceConfig.Name</a>, <a class="el" href="_instance_config_8cs_source.html#l00132">TGServerService.InstanceConfig.Save()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00511">TGServerService.Service.SetupOneInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">if</span> (Config.InstancePaths.Contains(path))</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance at {0} already exists!&quot;</span>, path);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordflow">if</span>(!Directory.Exists(path))</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;There is no instance located at {0}!&quot;</span>, path);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                InstanceConfig ic;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    ic = InstanceConfig.Load(path);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    <span class="keywordflow">foreach</span>(var oic <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a>())</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                        <span class="keywordflow">if</span>(ic.Name == oic.Name)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                            <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance named {0} already exists!&quot;</span>, oic.Name);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                    ic.Save();</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    Properties.Settings.Default.InstancePaths.Add(path);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281">SetupOneInstance</a>(ic);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a7bd9fa33a5f51db6f4f44cdd8eaae281"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281">TGServerService.Service.SetupOneInstance</a></div><div class="ttdeci">string SetupOneInstance(InstanceConfig config)</div><div class="ttdoc">Starts and onlines an instance located at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00511">Service.cs:511</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9b5c6694977d1c65dcc661dbfd7edb97"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">TGServerService.Service.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; InstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured InstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00124">Service.cs:124</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a602684a72a2b6c933779ed5682d432c6_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a602684a72a2b6c933779ed5682d432c6_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a602684a72a2b6c933779ed5682d432c6_cgraph" id="class_t_g_server_service_1_1_service_a602684a72a2b6c933779ed5682d432c6_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="222,64,389,105"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="439,5,609,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_instance_config.html#a9d77e1404ff1815cd19ca1c6f5401987" title="Saves the InstanceConfig to it&#39;s ServerInstance Directory " alt="" coords="220,129,391,171"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="222,195,389,236"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="657,64,824,105"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="441,195,607,236"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="657,129,824,171"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="657,195,824,236"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="657,260,824,301"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae76f237bd1c470a81363ae5c4e7db2f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.Service.InstanceEnabled </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if an instance is online  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a8052e9ed86baf55433be5a4d3b96599a">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00558">558</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00628">TGServerService.Service.RenameInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            lock(<span class="keyword">this</span>)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>.ContainsKey(Name);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_ae76f237bd1c470a81363ae5c4e7db2f4_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_ae76f237bd1c470a81363ae5c4e7db2f4_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_ae76f237bd1c470a81363ae5c4e7db2f4_icgraph" id="class_t_g_server_service_1_1_service_ae76f237bd1c470a81363ae5c4e7db2f4_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="220,5,387,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1238e3562599d24e76fe7551e25d577a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="class_t_g_service_interface_1_1_instance_metadata.html">InstanceMetadata</a>&gt; TGServerService.Service.ListInstances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List instances  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a79746acca6c942d9b8aef2b14fa529e2">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00456">456</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, and <a class="el" href="_instance_metadata_8cs_source.html#l00015">TGServiceInterface.InstanceMetadata.Name</a>.</p>
<div class="fragment"><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            var result = <span class="keyword">new</span> List&lt;InstanceMetadata&gt;();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                foreach (var ic in <a class="code" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a>()) </div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    result.Add(new <a class="code" href="class_t_g_service_interface_1_1_instance_metadata.html">InstanceMetadata</a></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        Name = ic.<a class="code" href="class_t_g_service_interface_1_1_instance_metadata.html#aa4e0f82b2fef9af8fe214531d1951c9b">Name</a>,</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                        Path = ic.Directory,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                        Enabled = ic.Enabled,</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">LoggingID</a> = (byte)(ic.Enabled ? ((ServerInstance)<a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>[ic.Name].SingletonInstance).LoggingID : 0)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    });</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a6e95310be3be5a0cebd4f0c00fc83123"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">TGServerService.Service.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Service events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00023">Service.cs:23</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9b5c6694977d1c65dcc661dbfd7edb97"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">TGServerService.Service.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; InstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured InstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00124">Service.cs:124</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_instance_metadata_html_aa4e0f82b2fef9af8fe214531d1951c9b"><div class="ttname"><a href="class_t_g_service_interface_1_1_instance_metadata.html#aa4e0f82b2fef9af8fe214531d1951c9b">TGServiceInterface.InstanceMetadata.Name</a></div><div class="ttdeci">string Name</div><div class="ttdoc">The name of the Components.ITGInstance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_metadata_8cs_source.html#l00015">InstanceMetadata.cs:15</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_instance_metadata_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_instance_metadata.html">TGServiceInterface.InstanceMetadata</a></div><div class="ttdoc">Metadata about an Components.ITGInstance </div><div class="ttdef"><b>Definition:</b> <a href="_instance_metadata_8cs_source.html#l00009">InstanceMetadata.cs:9</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a1238e3562599d24e76fe7551e25d577a_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a1238e3562599d24e76fe7551e25d577a_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a1238e3562599d24e76fe7551e25d577a_cgraph" id="class_t_g_server_service_1_1_service_a1238e3562599d24e76fe7551e25d577a_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="220,51,387,92"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="435,5,605,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="437,95,603,136"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af8321586d223cb2326e14360b8af7d8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte TGServerService.Service.LockLoggingID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets and locks a <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afbfb768a2d7c05237dd2650892cf6266" title="Used to assign the instance to event IDs ">ServerInstance.LoggingID</a> </p>
<dl class="section return"><dt>Returns</dt><dd>A logging ID for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> must be released using <a class="el" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc" title="Unlocks a ServerInstance.LoggingID acquired with LockLoggingID ">UnlockLoggingID(byte)</a></dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00305">305</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00324">TGServerService.Service.SetupInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">UsedLoggingIDs</a>)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keywordflow">for</span> (byte I = 1; I &lt; 100; ++I)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">UsedLoggingIDs</a>.Contains(I))</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">UsedLoggingIDs</a>.Add(I);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        <span class="keywordflow">return</span> I;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;All logging IDs in use!&quot;</span>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_aed1f5d700a3a39457ce637e1d8e62290"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">TGServerService.Service.UsedLoggingIDs</a></div><div class="ttdeci">IList&lt; int &gt; UsedLoggingIDs</div><div class="ttdoc">List of ServerInstance.LoggingIDs in use </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00101">Service.cs:101</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_af8321586d223cb2326e14360b8af7d8e_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_af8321586d223cb2326e14360b8af7d8e_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_af8321586d223cb2326e14360b8af7d8e_icgraph" id="class_t_g_server_service_1_1_service_af8321586d223cb2326e14360b8af7d8e_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="220,72,387,113"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9" title="Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones " alt="" coords="435,23,601,64"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="435,120,601,161"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="649,5,816,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="649,71,816,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6" title="Registers an existing server instance &#160;" alt="" coords="649,136,816,177"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="649,201,816,243"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="864,168,1031,209"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="864,233,1031,275"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="1079,168,1245,209"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa6dedd0eb3bb12503c8bbbc6cb76f3f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.MigrateSettings </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oldVersion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Migrates the .NET config from <em>oldVersion</em>  to <em>oldVersion</em>  + 1 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oldVersion</td><td>The version to migrate from</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00107">107</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_deprecated_instance_config_8cs_source.html#l00020">TGServerService.DeprecatedInstanceConfig.CreateFromNETSettings()</a>, and <a class="el" href="_instance_config_8cs_source.html#l00132">TGServerService.InstanceConfig.Save()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00210">TGServerService.Service.SetupConfig()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">switch</span> (oldVersion)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordflow">case</span> 6: <span class="comment">//switch to per-instance configs</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    var IC = DeprecatedInstanceConfig.CreateFromNETSettings();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    IC.Save();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    Config.InstancePaths.Add(IC.Directory);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_cgraph" id="class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_deprecated_instance_config.html#a283d7b133be485f8aa82efa41cb91e2f" title="Convert the settings version 6 .NET settings file to a config json " alt="" coords="220,13,472,54"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_instance_config.html#a9d77e1404ff1815cd19ca1c6f5401987" title="Saves the InstanceConfig to it&#39;s ServerInstance Directory " alt="" coords="261,78,431,119"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_deprecated_instance_config.html#a36cae6e31f427c44793cedca5d691138" title="Construct a DeprecatedInstanceConfig. Used by the deserializer " alt="" coords="520,5,747,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_icgraph" id="class_t_g_server_service_1_1_service_aa6dedd0eb3bb12503c8bbbc6cb76f3f7_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a3ed52895c6c15b9f1270f73369958347" title="Upgrades up the service configuration " alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="435,5,601,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a61f954b4c3ea04d88d73bfb095ead6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.OnlineAllHosts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens all created ServiceHosts </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00244">244</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00181">TGServerService.Service.OnStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">serviceHost</a>.Open();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                I.Value.Open();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9fb024e6ebb361ab16de6eda9d741043"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">TGServerService.Service.serviceHost</a></div><div class="ttdeci">ServiceHost serviceHost</div><div class="ttdoc">The WCF host that contains ITGSService connects to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00093">Service.cs:93</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a6a61f954b4c3ea04d88d73bfb095ead6_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a6a61f954b4c3ea04d88d73bfb095ead6_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a6a61f954b4c3ea04d88d73bfb095ead6_icgraph" id="class_t_g_server_service_1_1_service_a6a61f954b4c3ea04d88d73bfb095ead6_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="220,5,387,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4bb8fb7f15c6f001175ce52d70ef903e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void TGServerService.Service.OnStart </td>
          <td>(</td>
          <td class="paramtype">string[]&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the Windows service manager. Initializes and starts configured <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>s </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Command line arguments for the <a class="el" href="class_t_g_server_service_1_1_service.html" title="The windows service the application runs as ">Service</a></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00181">181</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00154">TGServerService.Service.ChangePortFromCommandLine()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00244">TGServerService.Service.OnlineAllHosts()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00210">TGServerService.Service.SetupConfig()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00268">TGServerService.Service.SetupInstances()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00233">TGServerService.Service.SetupService()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            Environment.CurrentDirectory = Directory.CreateDirectory(Path.GetTempPath() + <span class="stringliteral">&quot;/TGStationServerService&quot;</span>).FullName;  <span class="comment">//MOVE THIS POINTER BECAUSE ONE TIME I ALMOST ACCIDENTALLY NUKED MYSELF BY REFACTORING! http://imgur.com/zvGEpJD.png</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a3ed52895c6c15b9f1270f73369958347">SetupConfig</a>();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a68b7d6185818aa22a4edcf4865ec2bb0">ChangePortFromCommandLine</a>(args);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a1e851175c71de84bae17d2f43c8b3301">SetupService</a>();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9">SetupInstances</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a6a61f954b4c3ea04d88d73bfb095ead6">OnlineAllHosts</a>();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a6a61f954b4c3ea04d88d73bfb095ead6"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a6a61f954b4c3ea04d88d73bfb095ead6">TGServerService.Service.OnlineAllHosts</a></div><div class="ttdeci">void OnlineAllHosts()</div><div class="ttdoc">Opens all created ServiceHosts </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00244">Service.cs:244</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a1e851175c71de84bae17d2f43c8b3301"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a1e851175c71de84bae17d2f43c8b3301">TGServerService.Service.SetupService</a></div><div class="ttdeci">void SetupService()</div><div class="ttdoc">Creates the ServiceHost for ITGSService </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00233">Service.cs:233</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a3ed52895c6c15b9f1270f73369958347"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a3ed52895c6c15b9f1270f73369958347">TGServerService.Service.SetupConfig</a></div><div class="ttdeci">void SetupConfig()</div><div class="ttdoc">Upgrades up the service configuration </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00210">Service.cs:210</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ab74c8e27919681ca6333d98088e482b9"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9">TGServerService.Service.SetupInstances</a></div><div class="ttdeci">void SetupInstances()</div><div class="ttdoc">Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00268">Service.cs:268</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a68b7d6185818aa22a4edcf4865ec2bb0"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a68b7d6185818aa22a4edcf4865ec2bb0">TGServerService.Service.ChangePortFromCommandLine</a></div><div class="ttdeci">void ChangePortFromCommandLine(string[] args)</div><div class="ttdoc">Overrides and saves the configured Properties.Settings.RemoteAccessPort if requested by command line ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00154">Service.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a4bb8fb7f15c6f001175ce52d70ef903e_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a4bb8fb7f15c6f001175ce52d70ef903e_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a4bb8fb7f15c6f001175ce52d70ef903e_cgraph" id="class_t_g_server_service_1_1_service_a4bb8fb7f15c6f001175ce52d70ef903e_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a68b7d6185818aa22a4edcf4865ec2bb0" title="Overrides and saves the configured Properties.Settings.RemoteAccessPort if requested by command line ..." alt="" coords="220,5,423,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a6a61f954b4c3ea04d88d73bfb095ead6" title="Opens all created ServiceHosts " alt="" coords="238,71,405,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a3ed52895c6c15b9f1270f73369958347" title="Upgrades up the service configuration " alt="" coords="238,136,405,177"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9" title="Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones " alt="" coords="238,231,405,272"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_service.html#a1e851175c71de84bae17d2f43c8b3301" title="Creates the ServiceHost for ITGSService " alt="" coords="471,369,637,411"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#aa6dedd0eb3bb12503c8bbbc6cb76f3f7" title="Migrates the .NET config from oldVersion &#160;to oldVersion &#160;+ 1 " alt="" coords="471,56,637,97"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#afeed60cf886ff66bfcaa160f028f0022" title="Writes some changes to the Properties.Settings that always need to be done. " alt="" coords="471,121,637,163"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_deprecated_instance_config.html#a283d7b133be485f8aa82efa41cb91e2f" title="Convert the settings version 6 .NET settings file to a config json " alt="" coords="685,71,937,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_instance_config.html#a9d77e1404ff1815cd19ca1c6f5401987" title="Saves the InstanceConfig to it&#39;s ServerInstance Directory " alt="" coords="726,5,897,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_deprecated_instance_config.html#a36cae6e31f427c44793cedca5d691138" title="Construct a DeprecatedInstanceConfig. Used by the deserializer " alt="" coords="985,63,1212,119"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="471,187,637,228"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="728,239,895,280"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="471,304,637,345"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="726,149,897,191"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="728,304,895,345"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="728,435,895,476"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="728,369,895,411"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2dbfb4436b03982b6d7e466fde1763d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void TGServerService.Service.OnStop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shuts down all active ServiceHosts and calls IDisposable.Dispose on it's <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00384">384</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00023">TGServerService.Service.LoggingID</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00293">TGServerService.Service.UnlockLoggingID()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00050">TGServerService.Service.WriteEntry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                        var host = I.Value;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        var instance = (ServerInstance)host.SingletonInstance;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        host.Close();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        instance.Dispose();</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc">UnlockLoggingID</a>(instance.LoggingID);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a>(e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ServiceShutdownFail, EventLogEntryType.Error, <a class="code" href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">LoggingID</a>);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">serviceHost</a>.Close();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            Properties.Settings.Default.Save();</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">ActiveService</a> = null;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a43203a881d0bd7376cfeb73182a847cc"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc">TGServerService.Service.UnlockLoggingID</a></div><div class="ttdeci">void UnlockLoggingID(byte ID)</div><div class="ttdoc">Unlocks a ServerInstance.LoggingID acquired with LockLoggingID </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00293">Service.cs:293</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the ServerInstance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a6e95310be3be5a0cebd4f0c00fc83123"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">TGServerService.Service.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Service events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00023">Service.cs:23</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a7c4beb99d9b8b74015aef3ea5e7c0a57"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">TGServerService.Service.WriteEntry</a></div><div class="ttdeci">static void WriteEntry(string message, EventID id, EventLogEntryType eventType, byte loggingID)</div><div class="ttdoc">Writes an event to Windows the event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00050">Service.cs:50</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ac2057d36e9866b9fc8483ba5e56eca12"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">TGServerService.Service.ActiveService</a></div><div class="ttdeci">static Service ActiveService</div><div class="ttdoc">Singleton instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00033">Service.cs:33</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9fb024e6ebb361ab16de6eda9d741043"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">TGServerService.Service.serviceHost</a></div><div class="ttdeci">ServiceHost serviceHost</div><div class="ttdoc">The WCF host that contains ITGSService connects to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00093">Service.cs:93</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a2dbfb4436b03982b6d7e466fde1763d7_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a2dbfb4436b03982b6d7e466fde1763d7_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a2dbfb4436b03982b6d7e466fde1763d7_cgraph" id="class_t_g_server_service_1_1_service_a2dbfb4436b03982b6d7e466fde1763d7_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc" title="Unlocks a ServerInstance.LoggingID acquired with LockLoggingID " alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="220,95,387,136"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7af610c63c1113cd743cc2c240d5b1fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.PrepareForUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Next stop of the service will not close DD and sets a flag for it to reattach once it restarts  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a88575a80e50322643d7b456239bde90d">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00413">413</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                ((ServerInstance)I.Value.SingletonInstance).Reattach(<span class="keyword">false</span>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afeed60cf886ff66bfcaa160f028f0022"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.PrePrepConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes some changes to the Properties.Settings that always need to be done. </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00199">199</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00210">TGServerService.Service.SetupConfig()</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (Config.InstancePaths == null)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                Config.InstancePaths = <span class="keyword">new</span> StringCollection();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_afeed60cf886ff66bfcaa160f028f0022_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_afeed60cf886ff66bfcaa160f028f0022_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_afeed60cf886ff66bfcaa160f028f0022_icgraph" id="class_t_g_server_service_1_1_service_afeed60cf886ff66bfcaa160f028f0022_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a3ed52895c6c15b9f1270f73369958347" title="Upgrades up the service configuration " alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="435,5,601,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af90e43b785ee8ff8bb1dad5b7f137e66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.PythonPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the path to the python 2.7 installation  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a72fefd6485c2f3a69367b134183e4160">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00450">450</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.PythonPath;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3832427713c1d9a1e89c95c603f71e03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ushort TGServerService.Service.RemoteAccessPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the port used for remote operation  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a0429e40ebc9cd2ec70f2acfcd77c2483">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00420">420</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.RemoteAccessPort;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5faffc551d8f0ef082208b53394a9aea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.RenameInstance </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>new_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renames an instance, this will restart the instance if it is enabled  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#aaf8f3f41d00e535eab6953cda6ab68d4">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00628">628</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00060">TGServerService.Service.CheckInstanceName()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00558">TGServerService.Service.InstanceEnabled()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00567">TGServerService.Service.SetInstanceEnabled()</a>.</p>
<div class="fragment"><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">if</span> (name == new_name)</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            var res = <a class="code" href="class_t_g_server_service_1_1_service.html#aab8893f216482bd3ac65029838ada7fd">CheckInstanceName</a>(new_name);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                <span class="comment">//we have to check em all anyway</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                InstanceConfig the_droid_were_looking_for = null;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <span class="keywordflow">foreach</span> (var ic <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a>())</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    <span class="keywordflow">if</span> (ic.Name == name)</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                    {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                        the_droid_were_looking_for = ic;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                    }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ic.Name == new_name)</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;There is already another instance named {0}!&quot;</span>, new_name);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <span class="keywordflow">if</span> (the_droid_were_looking_for == null)</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;There is no instance named {0}!&quot;</span>, name);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                var ie = <a class="code" href="class_t_g_server_service_1_1_service.html#ae76f237bd1c470a81363ae5c4e7db2f4">InstanceEnabled</a>(name);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <span class="keywordflow">if</span>(ie)</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77">SetInstanceEnabled</a>(name, <span class="keyword">false</span>);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                the_droid_were_looking_for.Name = new_name;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <span class="keywordtype">string</span> result = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    the_droid_were_looking_for.Save();</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    result = null;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    result = <span class="stringliteral">&quot;Could not save instance config! Error: &quot;</span> + e.ToString();</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    <span class="keywordflow">if</span> (ie)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                        var resRestore = <a class="code" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77">SetInstanceEnabled</a>(new_name, <span class="keyword">true</span>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        <span class="keywordflow">if</span> (resRestore != null)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                            result = (result + <span class="stringliteral">&quot; &quot;</span> + resRestore).Trim();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_aab8893f216482bd3ac65029838ada7fd"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#aab8893f216482bd3ac65029838ada7fd">TGServerService.Service.CheckInstanceName</a></div><div class="ttdeci">static string CheckInstanceName(string instanceName)</div><div class="ttdoc">Checks an instanceName  for illegal characters </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00060">Service.cs:60</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9b5c6694977d1c65dcc661dbfd7edb97"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">TGServerService.Service.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; InstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured InstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00124">Service.cs:124</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a3198184dea17357f249757cba2647c77"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77">TGServerService.Service.SetInstanceEnabled</a></div><div class="ttdeci">string SetInstanceEnabled(string Name, bool enabled)</div><div class="ttdoc">Sets an instance&amp;#39;s enabled status  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00567">Service.cs:567</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ae76f237bd1c470a81363ae5c4e7db2f4"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ae76f237bd1c470a81363ae5c4e7db2f4">TGServerService.Service.InstanceEnabled</a></div><div class="ttdeci">bool InstanceEnabled(string Name)</div><div class="ttdoc">Checks if an instance is online  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00558">Service.cs:558</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a5faffc551d8f0ef082208b53394a9aea_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a5faffc551d8f0ef082208b53394a9aea_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a5faffc551d8f0ef082208b53394a9aea_cgraph" id="class_t_g_server_service_1_1_service_a5faffc551d8f0ef082208b53394a9aea_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#aab8893f216482bd3ac65029838ada7fd" title="Checks an instanceName &#160;for illegal characters " alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="649,79,816,120"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ae76f237bd1c470a81363ae5c4e7db2f4" title="Checks if an instance is online &#160;" alt="" coords="220,123,387,164"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="220,188,387,229"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="864,24,1035,65"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="1083,83,1249,124"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="435,159,601,200"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="649,152,816,193"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc" title="Unlocks a ServerInstance.LoggingID acquired with LockLoggingID " alt="" coords="649,217,816,259"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="866,152,1033,193"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="1083,148,1249,189"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="1083,213,1249,255"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="1083,279,1249,320"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3198184dea17357f249757cba2647c77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.SetInstanceEnabled </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an instance's enabled status  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a05bfb59d34ae0790d2908b04a040f959">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00567">567</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00580">TGServerService.Service.SetInstanceEnabledImpl()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00628">TGServerService.Service.RenameInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2">SetInstanceEnabledImpl</a>(Name, enabled, out <span class="keywordtype">string</span> path);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a4a985af3b9cd637f80b406c0395599f2"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2">TGServerService.Service.SetInstanceEnabledImpl</a></div><div class="ttdeci">string SetInstanceEnabledImpl(string Name, bool enabled, out string path)</div><div class="ttdoc">Sets a ServerInstance&amp;#39;s enabled status </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00580">Service.cs:580</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_cgraph" id="class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="220,129,387,171"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="435,64,601,105"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="435,129,601,171"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc" title="Unlocks a ServerInstance.LoggingID acquired with LockLoggingID " alt="" coords="435,195,601,236"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="649,5,820,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="868,64,1035,105"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="651,129,818,171"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="868,129,1035,171"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="868,195,1035,236"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="868,260,1035,301"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_icgraph" id="class_t_g_server_service_1_1_service_a3198184dea17357f249757cba2647c77_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="220,5,387,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a985af3b9cd637f80b406c0395599f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.SetInstanceEnabledImpl </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>'s enabled status </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Name</td><td>The <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> whom's status should be changed</td></tr>
    <tr><td class="paramname">enabled</td><td>to enable the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>,  to disable it</td></tr>
    <tr><td class="paramname">path</td><td>The path to the modified <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00580">580</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00511">TGServerService.Service.SetupOneInstance()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00293">TGServerService.Service.UnlockLoggingID()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00677">TGServerService.Service.DetachInstance()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00567">TGServerService.Service.SetInstanceEnabled()</a>.</p>
<div class="fragment"><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            path = null;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                var hostIsOnline = <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>.ContainsKey(Name);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">if</span> (enabled)</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <span class="keywordflow">if</span> (hostIsOnline)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="comment">//now this is a bit awkward because we need to check each instance config for the one named Name</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <span class="keywordtype">string</span> LastCheckedConfig = null;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        <span class="keywordflow">foreach</span> (var ic <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a>())</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                        {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                            <span class="keywordflow">if</span> (ic.Name == Name)</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                            {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                path = ic.Directory;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                ic.Enabled = <span class="keyword">true</span>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281">SetupOneInstance</a>(ic);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                            }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                        }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;An error occurred while checking instance config at {0}! Error: &quot;</span>, LastCheckedConfig, e.ToString());</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Instance {0} does not exist!&quot;</span>, Name);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    <span class="keywordflow">if</span> (!hostIsOnline)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    var host = <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>[Name];</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>.Remove(Name);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    var inst = (ServerInstance)host.SingletonInstance;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    host.Close();</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    path = inst.ServerDirectory();</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    inst.Offline();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    inst.Dispose();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc">UnlockLoggingID</a>(inst.LoggingID);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a43203a881d0bd7376cfeb73182a847cc"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc">TGServerService.Service.UnlockLoggingID</a></div><div class="ttdeci">void UnlockLoggingID(byte ID)</div><div class="ttdoc">Unlocks a ServerInstance.LoggingID acquired with LockLoggingID </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00293">Service.cs:293</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a7bd9fa33a5f51db6f4f44cdd8eaae281"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281">TGServerService.Service.SetupOneInstance</a></div><div class="ttdeci">string SetupOneInstance(InstanceConfig config)</div><div class="ttdoc">Starts and onlines an instance located at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00511">Service.cs:511</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9b5c6694977d1c65dcc661dbfd7edb97"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">TGServerService.Service.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; InstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured InstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00124">Service.cs:124</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_cgraph" id="class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="220,64,387,105"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="220,129,387,171"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a43203a881d0bd7376cfeb73182a847cc" title="Unlocks a ServerInstance.LoggingID acquired with LockLoggingID " alt="" coords="220,195,387,236"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="435,5,605,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="653,64,820,105"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="437,129,603,171"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="653,129,820,171"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="653,195,820,236"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="653,260,820,301"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_icgraph" id="class_t_g_server_service_1_1_service_a4a985af3b9cd637f80b406c0395599f2_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="220,71,387,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="435,71,601,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acfdb38171925330315461b0ee025ae24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.Service.SetPythonPath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the path to the python 2.7 installation  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#aee8514fc369b81d38e454a8e223b4bca">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00441">441</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">if</span> (!Directory.Exists(path))</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            Properties.Settings.Default.PythonPath = Path.GetFullPath(path);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8d3d03864d6d3dddd839ffa06bd7f09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.SetRemoteAccessPort </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the port used for remote operation Requires a service restart to take effect  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a2790f01c92aeaad5b7a86d880854ec45">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00426">426</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">if</span> (port == 0)</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot bind to port 0&quot;</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            Properties.Settings.Default.RemoteAccessPort = port;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3ed52895c6c15b9f1270f73369958347"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.SetupConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Upgrades up the service configuration </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00210">210</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00107">TGServerService.Service.MigrateSettings()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00199">TGServerService.Service.PrePrepConfig()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00181">TGServerService.Service.OnStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">if</span> (Config.UpgradeRequired)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                var newVersion = Config.SettingsVersion;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                Config.Upgrade();</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                </div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="keywordflow">for</span> (var oldVersion = Config.SettingsVersion; oldVersion &lt; newVersion; ++oldVersion)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_service.html#aa6dedd0eb3bb12503c8bbbc6cb76f3f7">MigrateSettings</a>(oldVersion);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                Config.SettingsVersion = newVersion;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                Config.UpgradeRequired = <span class="keyword">false</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                Config.Save();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#afeed60cf886ff66bfcaa160f028f0022">PrePrepConfig</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_afeed60cf886ff66bfcaa160f028f0022"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#afeed60cf886ff66bfcaa160f028f0022">TGServerService.Service.PrePrepConfig</a></div><div class="ttdeci">void PrePrepConfig()</div><div class="ttdoc">Writes some changes to the Properties.Settings that always need to be done. </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00199">Service.cs:199</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_aa6dedd0eb3bb12503c8bbbc6cb76f3f7"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#aa6dedd0eb3bb12503c8bbbc6cb76f3f7">TGServerService.Service.MigrateSettings</a></div><div class="ttdeci">void MigrateSettings(int oldVersion)</div><div class="ttdoc">Migrates the .NET config from oldVersion  to oldVersion  + 1 </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00107">Service.cs:107</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_cgraph" id="class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#aa6dedd0eb3bb12503c8bbbc6cb76f3f7" title="Migrates the .NET config from oldVersion &#160;to oldVersion &#160;+ 1 " alt="" coords="220,45,387,86"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#afeed60cf886ff66bfcaa160f028f0022" title="Writes some changes to the Properties.Settings that always need to be done. " alt="" coords="220,110,387,151"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_deprecated_instance_config.html#a283d7b133be485f8aa82efa41cb91e2f" title="Convert the settings version 6 .NET settings file to a config json " alt="" coords="435,13,687,54"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_instance_config.html#a9d77e1404ff1815cd19ca1c6f5401987" title="Saves the InstanceConfig to it&#39;s ServerInstance Directory " alt="" coords="475,78,646,119"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_deprecated_instance_config.html#a36cae6e31f427c44793cedca5d691138" title="Construct a DeprecatedInstanceConfig. Used by the deserializer " alt="" coords="735,5,961,61"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_icgraph" id="class_t_g_server_service_1_1_service_a3ed52895c6c15b9f1270f73369958347_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="220,5,387,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af9fbc7211bc275fbfbb1bd6fcf4f94d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ServiceHost TGServerService.Service.SetupInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates and starts a ServiceHost for a <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> at <em>config</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The <a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a> for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The inactive ServiceHost on success,  on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00324">324</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00365">TGServerService.Service.AddEndpoint()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00257">TGServerService.Service.CreateHost()</a>, <a class="el" href="_instance_config_8cs_source.html#l00024">TGServerService.InstanceConfig.Directory</a>, <a class="el" href="_instance_config_8cs_source.html#l00039">TGServerService.InstanceConfig.Enabled</a>, <a class="el" href="_interface_8cs_source.html#l00106">TGServiceInterface.Interface.InstanceInterfaceName</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00305">TGServerService.Service.LockLoggingID()</a>, <a class="el" href="_instance_config_8cs_source.html#l00034">TGServerService.InstanceConfig.Name</a>, <a class="el" href="_interface_8cs_source.html#l00087">TGServiceInterface.Interface.ValidInterfaces</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00050">TGServerService.Service.WriteEntry()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00268">TGServerService.Service.SetupInstances()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00511">TGServerService.Service.SetupOneInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            ServerInstance instance;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordtype">string</span> instanceName;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>.ContainsKey(config.Directory))</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    var datInstance = ((ServerInstance)<a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>[config.Directory].SingletonInstance);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a>(String.Format(<span class="stringliteral">&quot;Unable to start instance at path {0}. Has the same name as instance at path {1}. Detaching...&quot;</span>, config.Directory, datInstance.ServerDirectory()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InstanceInitializationFailure, EventLogEntryType.Error, <a class="code" href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">LoggingID</a>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    Properties.Settings.Default.InstancePaths.Remove(config.Directory);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="keywordflow">if</span> (!config.Enabled)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                var ID = <a class="code" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e">LockLoggingID</a>();</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a>(String.Format(<span class="stringliteral">&quot;Instance {0} ({1}) assigned logging ID {2}&quot;</span>, config.Name, config.Directory, ID), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InstanceIDAssigned, EventLogEntryType.Information, ID);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                instanceName = config.Name;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                instance = <span class="keyword">new</span> ServerInstance(config, ID);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a>(String.Format(<span class="stringliteral">&quot;Unable to start instance at path {0}. Detaching... Error: {1}&quot;</span>, config.Directory, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InstanceInitializationFailure, EventLogEntryType.Error, <a class="code" href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">LoggingID</a>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            var host = <a class="code" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9">CreateHost</a>(instance, String.Format(<span class="stringliteral">&quot;{0}/{1}&quot;</span>, <a class="code" href="class_t_g_service_interface_1_1_interface.html">Interface</a>.<a class="code" href="class_t_g_service_interface_1_1_interface.html#a4f396e87dea799dd730d59c6fc2e36ef">InstanceInterfaceName</a>, instanceName));</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a>.Add(instanceName, host);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            </div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">foreach</span> (var J <span class="keywordflow">in</span> <a class="code" href="class_t_g_service_interface_1_1_interface.html">Interface</a>.<a class="code" href="class_t_g_service_interface_1_1_interface.html#a177251e0cec2b05f762f91a560766e95">ValidInterfaces</a>)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40">AddEndpoint</a>(host, J);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            host.Authorization.ServiceAuthorizationManager = instance;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">return</span> host;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div><div class="ttc" id="class_t_g_service_interface_1_1_interface_html_a177251e0cec2b05f762f91a560766e95"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html#a177251e0cec2b05f762f91a560766e95">TGServiceInterface.Interface.ValidInterfaces</a></div><div class="ttdeci">static readonly IList&lt; Type &gt; ValidInterfaces</div><div class="ttdoc">List of s that can be used with GetComponent&lt;T&gt; and CreateChannel&lt;T&gt; </div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00087">Interface.cs:87</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the ServerInstance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_abd51696063d87ec7fc00054a19b345d9"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9">TGServerService.Service.CreateHost</a></div><div class="ttdeci">static ServiceHost CreateHost(object singleton, string endpointPostfix)</div><div class="ttdoc">Creates a ServiceHost for singleton  using the default pipe, CloseTimeout for the ServiceHost...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00257">Service.cs:257</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a6e95310be3be5a0cebd4f0c00fc83123"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">TGServerService.Service.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Service events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00023">Service.cs:23</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a7c4beb99d9b8b74015aef3ea5e7c0a57"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">TGServerService.Service.WriteEntry</a></div><div class="ttdeci">static void WriteEntry(string message, EventID id, EventLogEntryType eventType, byte loggingID)</div><div class="ttdoc">Writes an event to Windows the event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00050">Service.cs:50</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_interface_html_a4f396e87dea799dd730d59c6fc2e36ef"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html#a4f396e87dea799dd730d59c6fc2e36ef">TGServiceInterface.Interface.InstanceInterfaceName</a></div><div class="ttdeci">const string InstanceInterfaceName</div><div class="ttdoc">Base name of instance URLs </div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00106">Interface.cs:106</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_interface_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html">TGServiceInterface.Interface</a></div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00082">Interface.cs:82</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a70efdca1b28c2d1a30df7e46bd48bc40"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40">TGServerService.Service.AddEndpoint</a></div><div class="ttdeci">void AddEndpoint(ServiceHost host, Type typetype)</div><div class="ttdoc">Adds a WCF endpoint for a component typetype  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00365">Service.cs:365</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_af8321586d223cb2326e14360b8af7d8e"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e">TGServerService.Service.LockLoggingID</a></div><div class="ttdeci">byte LockLoggingID()</div><div class="ttdoc">Gets and locks a ServerInstance.LoggingID </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00305">Service.cs:305</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_cgraph" id="class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="220,71,387,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="220,136,387,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="220,225,387,267"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_icgraph" id="class_t_g_server_service_1_1_service_af9fbc7211bc275fbfbb1bd6fcf4f94d0_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9" title="Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones " alt="" coords="220,23,387,64"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="220,120,387,161"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="435,5,601,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="435,71,601,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6" title="Registers an existing server instance &#160;" alt="" coords="435,136,601,177"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="435,201,601,243"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="649,168,816,209"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="649,233,816,275"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="864,233,1031,275"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab74c8e27919681ca6333d98088e482b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.SetupInstances </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates ServiceHosts for all <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>s as listed in Properties.Settings.InstancePaths, detaches bad ones </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00268">268</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00023">TGServerService.Service.LoggingID</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00324">TGServerService.Service.SetupInstance()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00050">TGServerService.Service.WriteEntry()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00181">TGServerService.Service.OnStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">hosts</a> = <span class="keyword">new</span> Dictionary&lt;string, ServiceHost&gt;();</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            var pathsToRemove = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            var seenNames = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">GetInstanceConfigs</a>())</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">if</span> (seenNames.Contains(I.Name))</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a>(String.Format(<span class="stringliteral">&quot;Instance at {0} has a duplicate name! Detaching...&quot;</span>, I.Directory), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InstanceInitializationFailure, EventLogEntryType.Error, <a class="code" href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">LoggingID</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    pathsToRemove.Add(I.Directory);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0">SetupInstance</a>(I) == null)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    pathsToRemove.Add(I.Directory);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    seenNames.Add(I.Name);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> pathsToRemove)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                Properties.Settings.Default.InstancePaths.Remove(I);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the ServerInstance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a6e95310be3be5a0cebd4f0c00fc83123"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a6e95310be3be5a0cebd4f0c00fc83123">TGServerService.Service.LoggingID</a></div><div class="ttdeci">const byte LoggingID</div><div class="ttdoc">The logging ID used for Service events </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00023">Service.cs:23</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9b5c6694977d1c65dcc661dbfd7edb97"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97">TGServerService.Service.GetInstanceConfigs</a></div><div class="ttdeci">IEnumerable&lt; InstanceConfig &gt; GetInstanceConfigs()</div><div class="ttdoc">Enumerates configured InstanceConfigs. Detaches those that fail to load </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00124">Service.cs:124</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ad84d7c573dcaddfa8411b826c1d4fc53"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ad84d7c573dcaddfa8411b826c1d4fc53">TGServerService.Service.hosts</a></div><div class="ttdeci">IDictionary&lt; string, ServiceHost &gt; hosts</div><div class="ttdoc">Map of InstanceConfig.Name to the respective ServiceHost hosting the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00097">Service.cs:97</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_af9fbc7211bc275fbfbb1bd6fcf4f94d0"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0">TGServerService.Service.SetupInstance</a></div><div class="ttdeci">ServiceHost SetupInstance(InstanceConfig config)</div><div class="ttdoc">Creates and starts a ServiceHost for a ServerInstance at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00324">Service.cs:324</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a7c4beb99d9b8b74015aef3ea5e7c0a57"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">TGServerService.Service.WriteEntry</a></div><div class="ttdeci">static void WriteEntry(string message, EventID id, EventLogEntryType eventType, byte loggingID)</div><div class="ttdoc">Writes an event to Windows the event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00050">Service.cs:50</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_cgraph" id="class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="220,40,387,81"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="437,95,603,136"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="220,160,387,201"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_instance_config.html#ac18cfbc0482a23d2092febe2c0a0bcfb" title="Loads and migrates an InstanceConfig from a ServerInstance at path &#160;" alt="" coords="435,5,605,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="437,160,603,201"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="437,225,603,267"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="437,291,603,332"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_icgraph" id="class_t_g_server_service_1_1_service_ab74c8e27919681ca6333d98088e482b9_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="220,5,387,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7bd9fa33a5f51db6f4f44cdd8eaae281"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.SetupOneInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts and onlines an instance located at <em>config</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The <a class="el" href="class_t_g_server_service_1_1_instance_config.html">InstanceConfig</a> for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00511">511</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_instance_config_8cs_source.html#l00024">TGServerService.InstanceConfig.Directory</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00324">TGServerService.Service.SetupInstance()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00472">TGServerService.Service.CreateInstance()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00530">TGServerService.Service.ImportInstance()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00580">TGServerService.Service.SetInstanceEnabledImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                var host = <a class="code" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0">SetupInstance</a>(config);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                <span class="keywordflow">if</span> (host != null)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    host.Open();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    lock (<span class="keyword">this</span>)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        Properties.Settings.Default.InstancePaths.Remove(config.Directory);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                return null;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            catch (Exception e)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Instance set up but an error occurred while starting it: &quot;</span> + e.ToString();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_af9fbc7211bc275fbfbb1bd6fcf4f94d0"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0">TGServerService.Service.SetupInstance</a></div><div class="ttdeci">ServiceHost SetupInstance(InstanceConfig config)</div><div class="ttdoc">Creates and starts a ServiceHost for a ServerInstance at config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00324">Service.cs:324</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_cgraph" id="class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="220,104,387,145"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="435,5,601,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="435,71,601,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID " alt="" coords="435,136,601,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57" title="Writes an event to Windows the event log " alt="" coords="435,225,601,267"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_icgraph" id="class_t_g_server_service_1_1_service_a7bd9fa33a5f51db6f4f44cdd8eaae281_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6" title="Registers an existing server instance &#160;" alt="" coords="220,71,387,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="220,136,387,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="435,103,601,144"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="435,168,601,209"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="649,168,816,209"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1e851175c71de84bae17d2f43c8b3301"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.SetupService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the ServiceHost for ITGSService </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00233">233</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00365">TGServerService.Service.AddEndpoint()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00257">TGServerService.Service.CreateHost()</a>, and <a class="el" href="_interface_8cs_source.html#l00102">TGServiceInterface.Interface.MasterInterfaceName</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00181">TGServerService.Service.OnStart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">serviceHost</a> = <a class="code" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9">CreateHost</a>(<span class="keyword">this</span>, <a class="code" href="class_t_g_service_interface_1_1_interface.html">Interface</a>.<a class="code" href="class_t_g_service_interface_1_1_interface.html#a9357161b2c8d891dbf69a0e7018ddf77">MasterInterfaceName</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40">AddEndpoint</a>(<a class="code" href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">serviceHost</a>, typeof(<a class="code" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html">ITGSService</a>));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40">AddEndpoint</a>(<a class="code" href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">serviceHost</a>, typeof(<a class="code" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html">ITGConnectivity</a>));</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">serviceHost</a>.Authorization.ServiceAuthorizationManager = <span class="keyword">new</span> AdministrativeAuthorizationManager();   <span class="comment">//only admins can diddle us</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div><div class="ttc" id="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service_html"><div class="ttname"><a href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html">TGServiceInterface.Components.ITGSService</a></div><div class="ttdoc">Interface for managing the service </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_service_interface_2_components_2_service_8cs_source.html#l00010">Service.cs:10</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_abd51696063d87ec7fc00054a19b345d9"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9">TGServerService.Service.CreateHost</a></div><div class="ttdeci">static ServiceHost CreateHost(object singleton, string endpointPostfix)</div><div class="ttdoc">Creates a ServiceHost for singleton  using the default pipe, CloseTimeout for the ServiceHost...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00257">Service.cs:257</a></div></div>
<div class="ttc" id="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity_html"><div class="ttname"><a href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html">TGServiceInterface.Components.ITGConnectivity</a></div><div class="ttdoc">Used for testing connections to the service without authentication </div><div class="ttdef"><b>Definition:</b> <a href="_connectivity_8cs_source.html#l00009">Connectivity.cs:9</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_interface_html_a9357161b2c8d891dbf69a0e7018ddf77"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html#a9357161b2c8d891dbf69a0e7018ddf77">TGServiceInterface.Interface.MasterInterfaceName</a></div><div class="ttdeci">const string MasterInterfaceName</div><div class="ttdoc">Base name of communication URLs </div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00102">Interface.cs:102</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a9fb024e6ebb361ab16de6eda9d741043"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a9fb024e6ebb361ab16de6eda9d741043">TGServerService.Service.serviceHost</a></div><div class="ttdeci">ServiceHost serviceHost</div><div class="ttdoc">The WCF host that contains ITGSService connects to </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00093">Service.cs:93</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_interface_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_interface.html">TGServiceInterface.Interface</a></div><div class="ttdef"><b>Definition:</b> <a href="_interface_8cs_source.html#l00082">Interface.cs:82</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_a70efdca1b28c2d1a30df7e46bd48bc40"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40">TGServerService.Service.AddEndpoint</a></div><div class="ttdeci">void AddEndpoint(ServiceHost host, Type typetype)</div><div class="ttdoc">Adds a WCF endpoint for a component typetype  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00365">Service.cs:365</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_cgraph" id="class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a70efdca1b28c2d1a30df7e46bd48bc40" title="Adds a WCF endpoint for a component typetype &#160;" alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#abd51696063d87ec7fc00054a19b345d9" title="Creates a ServiceHost for singleton &#160;using the default pipe, CloseTimeout for the ServiceHost..." alt="" coords="220,71,387,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_icgraph" id="class_t_g_server_service_1_1_service_a1e851175c71de84bae17d2f43c8b3301_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="220,5,387,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a43203a881d0bd7376cfeb73182a847cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.UnlockLoggingID </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>ID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlocks a <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afbfb768a2d7c05237dd2650892cf6266" title="Used to assign the instance to event IDs ">ServerInstance.LoggingID</a> acquired with <a class="el" href="class_t_g_server_service_1_1_service.html#af8321586d223cb2326e14360b8af7d8e" title="Gets and locks a ServerInstance.LoggingID ">LockLoggingID</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ID</td><td>The <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afbfb768a2d7c05237dd2650892cf6266" title="Used to assign the instance to event IDs ">ServerInstance.LoggingID</a> to unlock</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00293">293</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00384">TGServerService.Service.OnStop()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00580">TGServerService.Service.SetInstanceEnabledImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">UsedLoggingIDs</a>)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">UsedLoggingIDs</a>.Remove(ID);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_aed1f5d700a3a39457ce637e1d8e62290"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#aed1f5d700a3a39457ce637e1d8e62290">TGServerService.Service.UsedLoggingIDs</a></div><div class="ttdeci">IList&lt; int &gt; UsedLoggingIDs</div><div class="ttdoc">List of ServerInstance.LoggingIDs in use </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00101">Service.cs:101</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a43203a881d0bd7376cfeb73182a847cc_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a43203a881d0bd7376cfeb73182a847cc_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a43203a881d0bd7376cfeb73182a847cc_icgraph" id="class_t_g_server_service_1_1_service_a43203a881d0bd7376cfeb73182a847cc_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a2dbfb4436b03982b6d7e466fde1763d7" title="Shuts down all active ServiceHosts and calls IDisposable.Dispose on it&#39;s ServerInstance ..." alt="" coords="220,5,387,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="220,71,387,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="435,37,601,79"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="435,103,601,144"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="649,103,816,144"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aabd5b55add385cb0a45b294074b5ed3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.Service.VerifyConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html#a83e5f825ad615fb7d4f1fc9ed89bf4d3">TGServiceInterface.Components.ITGConnectivity</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00410">410</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a2bf19a85493e100eae48ccf8843f6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.Service.Version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve's the service's version  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html#a339731d28475fba5a19cacbc28dcf565">TGServiceInterface.Components.ITGConnectivity</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00435">435</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00028">TGServerService.Service.VersionString</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_service.html#a088c62d8706172788f1889e68074e574">VersionString</a>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a088c62d8706172788f1889e68074e574"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a088c62d8706172788f1889e68074e574">TGServerService.Service.VersionString</a></div><div class="ttdeci">static readonly string VersionString</div><div class="ttdoc">The service version string based on the FileVersionInfo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00028">Service.cs:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7c4beb99d9b8b74015aef3ea5e7c0a57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TGServerService.Service.WriteEntry </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EventLogEntryType&#160;</td>
          <td class="paramname"><em>eventType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>loggingID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes an event to Windows the event log </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The log message</td></tr>
    <tr><td class="paramname">id</td><td>The <a class="el" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398" title="Various events and their IDs in no particular order. Found in the Windows event log. These key incremented by 100 and are guaranteed to never be reused in the future. In the windows event viewer, these IDs will be offset by the ServerInstance.LoggingID to distinguish events between instances. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults ">EventID</a> of the message</td></tr>
    <tr><td class="paramname">eventType</td><td>The EventLogEntryType of the event</td></tr>
    <tr><td class="paramname">loggingID</td><td>The logging source ID for the event</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00050">50</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00050">TGServerService.Service.WriteEntry()</a>.</p>

<p>Referenced by <a class="el" href="_administrative_authorization_manager_8cs_source.html#l00015">TGServerService.AdministrativeAuthorizationManager.CheckAccessCore()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00124">TGServerService.Service.GetInstanceConfigs()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00384">TGServerService.Service.OnStop()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00324">TGServerService.Service.SetupInstance()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00268">TGServerService.Service.SetupInstances()</a>, <a class="el" href="_server_instance_8cs_source.html#l00092">TGServerService.ServerInstance.WriteAccess()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00050">TGServerService.Service.WriteEntry()</a>, <a class="el" href="_server_instance_8cs_source.html#l00072">TGServerService.ServerInstance.WriteError()</a>, <a class="el" href="_server_instance_8cs_source.html#l00062">TGServerService.ServerInstance.WriteInfo()</a>, and <a class="el" href="_server_instance_8cs_source.html#l00082">TGServerService.ServerInstance.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">ActiveService</a>.EventLog.<a class="code" href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">WriteEntry</a>(message, eventType, (<span class="keywordtype">int</span>)<span class="keywordtype">id</span> + loggingID);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_service_html_a7c4beb99d9b8b74015aef3ea5e7c0a57"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#a7c4beb99d9b8b74015aef3ea5e7c0a57">TGServerService.Service.WriteEntry</a></div><div class="ttdeci">static void WriteEntry(string message, EventID id, EventLogEntryType eventType, byte loggingID)</div><div class="ttdoc">Writes an event to Windows the event log </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00050">Service.cs:50</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_service_html_ac2057d36e9866b9fc8483ba5e56eca12"><div class="ttname"><a href="class_t_g_server_service_1_1_service.html#ac2057d36e9866b9fc8483ba5e56eca12">TGServerService.Service.ActiveService</a></div><div class="ttdeci">static Service ActiveService</div><div class="ttdoc">Singleton instance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_service_8cs_source.html#l00033">Service.cs:33</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_cgraph" id="class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_cgraph">
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_icgraph" id="class_t_g_server_service_1_1_service_a7c4beb99d9b8b74015aef3ea5e7c0a57_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_administrative_authorization_manager.html#a452f3e2d3e38ca271348f5f49f066d3c" title="TGServerService.Administrative\lAuthorizationManager.CheckAccessCore" alt="" coords="220,43,480,84"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a9b5c6694977d1c65dcc661dbfd7edb97" title="Enumerates configured InstanceConfigs. Detaches those that fail to load " alt="" coords="565,211,731,252"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#ab74c8e27919681ca6333d98088e482b9" title="Creates ServiceHosts for all ServerInstances as listed in Properties.Settings.InstancePaths, detaches bad ones " alt="" coords="838,5,1005,47"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_service.html#a2dbfb4436b03982b6d7e466fde1763d7" title="Shuts down all active ServiceHosts and calls IDisposable.Dispose on it&#39;s ServerInstance ..." alt="" coords="267,335,433,376"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_service.html#af9fbc7211bc275fbfbb1bd6fcf4f94d0" title="Creates and starts a ServiceHost for a ServerInstance at config &#160;" alt="" coords="267,269,433,311"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a17e839a5b09406af80bcf253cfc0c2be" title="Writes an access event to the Windows event log " alt="" coords="245,400,455,441"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#abc4aea21aa8dfb0039d9e384458b037e" title="Writes an error to the Windows event log " alt="" coords="245,800,455,841"/>
<area shape="rect" id="node37" href="class_t_g_server_service_1_1_server_instance.html#a33c09fd7ed6d0907549e1cc08ad74562" title="Writes information to the Windows event log " alt="" coords="245,1557,455,1599"/>
<area shape="rect" id="node49" href="class_t_g_server_service_1_1_server_instance.html#a9f6e141cd76aa497dcf72f14c1219017" title="Writes a warning to the Windows event log " alt="" coords="245,2408,455,2449"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a44796f0b39871f5104d4a08b0f6c890b" title="Creates a new server instance &#160;" alt="" coords="838,240,1005,281"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#a4a3002f3d9ef01874bb73b676f5eb110" title="Disables and unregisters an instance, allowing the folder and data to be manipulated manually &#160;..." alt="" coords="1097,211,1263,252"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#a602684a72a2b6c933779ed5682d432c6" title="Registers an existing server instance &#160;" alt="" coords="838,371,1005,412"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a1238e3562599d24e76fe7551e25d577a" title="List instances &#160;" alt="" coords="838,123,1005,164"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a5faffc551d8f0ef082208b53394a9aea" title="Renames an instance, this will restart the instance if it is enabled &#160;" alt="" coords="1355,177,1522,219"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a4a985af3b9cd637f80b406c0395599f2" title="Sets a ServerInstance&#39;s enabled status " alt="" coords="838,305,1005,347"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a3198184dea17357f249757cba2647c77" title="Sets an instance&#39;s enabled status &#160;" alt="" coords="1097,291,1263,332"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#a4bb8fb7f15c6f001175ce52d70ef903e" title="Called by the Windows service manager. Initializes and starts configured ServerInstances ..." alt="" coords="1097,5,1263,47"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_service.html#a7bd9fa33a5f51db6f4f44cdd8eaae281" title="Starts and onlines an instance located at config &#160;" alt="" coords="565,276,731,317"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a7a5e21a235e202744184c8e25a6a5d86" title="Called by WCF whenever a component call is made. Checks to see that the supplied user account has acc..." alt="" coords="543,371,753,412"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="816,691,1027,732"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on InstanceConfig.ReattachRequired of Config, and create the DiagnosticsDir " alt="" coords="1333,1288,1544,1329"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="1075,756,1285,797"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="816,1399,1027,1440"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="1075,1399,1285,1440"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="543,1011,753,1052"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="816,1164,1027,1205"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde" title="Initial setup for the StaticDirs and CachedTGS3SettingsPath " alt="" coords="816,625,1027,667"/>
<area shape="rect" id="node32" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="1075,2544,1285,2585"/>
<area shape="rect" id="node33" href="class_t_g_server_service_1_1_server_instance.html#ac8e5fb51cbd79f58097ce777d2caf7a9" title="Copies BridgeDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="543,640,753,681"/>
<area shape="rect" id="node34" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="816,2653,1027,2695"/>
<area shape="rect" id="node36" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="816,1784,1027,1825"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="1075,691,1285,732"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="1075,952,1285,993"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795" title="Create a commit based on a Config &#160;" alt="" coords="816,1229,1027,1271"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#ad2ab144910505686ff9529a708751f8f" title="Runs git reset hard &#160;" alt="" coords="816,1464,1027,1505"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="1075,2653,1285,2695"/>
<area shape="rect" id="node35" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="1075,2741,1285,2783"/>
<area shape="rect" id="node38" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="543,1179,753,1220"/>
<area shape="rect" id="node39" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="543,1616,753,1657"/>
<area shape="rect" id="node40" href="class_t_g_server_service_1_1_server_instance.html#acf09f63e7c88913016493dc9b487f902" title="Deletes the target static file &#160;" alt="" coords="543,2016,753,2057"/>
<area shape="rect" id="node41" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="543,1499,753,1540"/>
<area shape="rect" id="node42" href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60" title="Updates the html changelog " alt="" coords="543,2081,753,2123"/>
<area shape="rect" id="node43" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="816,2821,1027,2863"/>
<area shape="rect" id="node45" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="543,2147,753,2188"/>
<area shape="rect" id="node46" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="528,2213,768,2239"/>
<area shape="rect" id="node47" href="class_t_g_server_service_1_1_server_instance.html#a5b2fcd99212aba5406674cdf3175b9a1" title="Read from a static file &#160;" alt="" coords="543,1885,753,1927"/>
<area shape="rect" id="node48" href="class_t_g_server_service_1_1_server_instance.html#abdf26641e717823f8958ac46db3c0cc8" title="Write to a static file &#160;" alt="" coords="543,1951,753,1992"/>
<area shape="rect" id="node44" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1075,2883,1285,2924"/>
<area shape="rect" id="node50" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="543,2669,753,2711"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac2057d36e9866b9fc8483ba5e56eca12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_server_service_1_1_service.html">Service</a> TGServerService.Service.ActiveService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Singleton instance </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00033">33</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad84d7c573dcaddfa8411b826c1d4fc53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IDictionary&lt;string, ServiceHost&gt; TGServerService.Service.hosts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of <a class="el" href="class_t_g_server_service_1_1_instance_config.html#a7da592ea91a0b4ddf0806e25aa5d3b77" title="The name of the ServerInstance ">InstanceConfig.Name</a> to the respective ServiceHost hosting the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00097">97</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a6e95310be3be5a0cebd4f0c00fc83123"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte TGServerService.Service.LoggingID = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The logging ID used for <a class="el" href="class_t_g_server_service_1_1_service.html" title="The windows service the application runs as ">Service</a> events </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00023">23</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_administrative_authorization_manager_8cs_source.html#l00015">TGServerService.AdministrativeAuthorizationManager.CheckAccessCore()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00384">TGServerService.Service.OnStop()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00268">TGServerService.Service.SetupInstances()</a>.</p>

</div>
</div>
<a class="anchor" id="a9fb024e6ebb361ab16de6eda9d741043"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ServiceHost TGServerService.Service.serviceHost</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The WCF host that contains ITGSService connects to </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00093">93</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aed1f5d700a3a39457ce637e1d8e62290"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;int&gt; TGServerService.Service.UsedLoggingIDs = new List&lt;int&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afbfb768a2d7c05237dd2650892cf6266" title="Used to assign the instance to event IDs ">ServerInstance.LoggingID</a>s in use </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00101">101</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a088c62d8706172788f1889e68074e574"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly string TGServerService.Service.VersionString = &quot;/tg/station 13 Server <a class="el" href="class_t_g_server_service_1_1_service.html">Service</a> v&quot; + FileVersionInfo.GetVersionInfo(System.Reflection.Assembly.GetExecutingAssembly().Location).FileVersion</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The service version string based on the FileVersionInfo </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00028">28</a> of file <a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a>.</p>

<p>Referenced by <a class="el" href="_i_r_c_chat_provider_8cs_source.html#l00045">TGServerService.ChatProviders.IRCChatProvider.IRCChatProvider()</a>, <a class="el" href="_server_instance_8cs_source.html#l00107">TGServerService.ServerInstance.Version()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00435">TGServerService.Service.Version()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>TGServerService/<a class="el" href="_t_g_server_service_2_service_8cs_source.html">Service.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
