<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tgstation-server: Tgstation.Server.Host.Controllers.InstanceController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tgstation-server<span id="projectnumber">&#160;6.10.0</span>
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_tgstation.html">Tgstation</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server.html">Server</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host.html">Host</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_controllers.html">Controllers</a></li><li class="navelem"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html">InstanceController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Tgstation.Server.Host.Controllers.InstanceController Class Reference<span class="mlabels"><span class="mlabel">sealed</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>ApiController for managing Components.Instances.  
 <a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Tgstation.Server.Host.Controllers.InstanceController:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller__inherit__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_controllers_8_instance_controller_inherit__map" alt="Inheritance graph"/></div>
<map name="a_tgstation_8_server_8_host_8_controllers_8_instance_controller_inherit__map" id="a_tgstation_8_server_8_host_8_controllers_8_instance_controller_inherit__map">
<area shape="rect" title="ApiController for managing Components.Instances." alt="" coords="5,300,221,341"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html" title="ApiController for operations on IInstanceCores." alt="" coords="11,226,215,252"/>
<area shape="poly" title=" " alt="" coords="116,267,116,300,110,300,110,267"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html" title="Base Controller for API functions." alt="" coords="65,153,161,178"/>
<area shape="poly" title=" " alt="" coords="116,194,116,226,110,226,110,194"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base.html" title="Base class for all API style controllers." alt="" coords="50,79,176,105"/>
<area shape="poly" title=" " alt="" coords="116,120,116,152,110,152,110,120"/>
<area shape="rect" href="class_controller.html" title=" " alt="" coords="75,5,151,31"/>
<area shape="poly" title=" " alt="" coords="116,46,116,79,110,79,110,46"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Tgstation.Server.Host.Controllers.InstanceController:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller__coll__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_controllers_8_instance_controller_coll__map" alt="Collaboration graph"/></div>
<map name="a_tgstation_8_server_8_host_8_controllers_8_instance_controller_coll__map" id="a_tgstation_8_server_8_host_8_controllers_8_instance_controller_coll__map">
<area shape="rect" title="ApiController for managing Components.Instances." alt="" coords="1334,491,1549,532"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html" title="ApiController for operations on IInstanceCores." alt="" coords="907,115,1111,140"/>
<area shape="poly" title=" " alt="" coords="1055,145,1110,173,1177,211,1247,258,1312,312,1352,358,1387,407,1433,490,1428,492,1382,410,1348,361,1308,316,1244,262,1174,215,1108,177,1053,150"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html" title="Base Controller for API functions." alt="" coords="494,168,589,194"/>
<area shape="poly" title=" " alt="" coords="604,171,906,136,907,142,605,176"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base.html" title="Base class for all API style controllers." alt="" coords="138,177,263,203"/>
<area shape="poly" title=" " alt="" coords="278,185,493,179,494,185,278,191"/>
<area shape="rect" href="class_controller.html" title=" " alt="" coords="5,177,82,203"/>
<area shape="poly" title=" " alt="" coords="97,188,137,188,137,193,97,193"/>
<area shape="rect" title=" " alt="" coords="154,312,246,338"/>
<area shape="poly" title=" " alt="" coords="246,303,507,192,510,197,248,308"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html" title="General configuration options." alt="" coords="895,295,1123,336"/>
<area shape="poly" title=" " alt="" coords="262,333,341,344,429,353,541,358,655,353,778,343,894,329,894,334,779,348,655,358,541,363,428,358,340,350,261,338"/>
<area shape="rect" title=" " alt="" coords="178,111,223,136"/>
<area shape="poly" title=" " alt="" coords="239,121,907,124,907,130,239,126"/>
<area shape="poly" title=" " alt="" coords="239,130,294,143,401,160,494,173,493,178,400,166,293,148,238,136"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html" title="For managing IInstances." alt="" coords="428,31,655,72"/>
<area shape="poly" title=" " alt="" coords="671,61,769,74,871,90,961,111,960,117,870,95,768,79,670,67"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html" title="Operations that can be performed on a given Models.Instance." alt="" coords="131,5,269,31"/>
<area shape="poly" title=" " alt="" coords="285,24,428,38,428,43,284,29"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_bridge_1_1_i_bridge_dispatcher.html" title="Handler for BridgeParameters." alt="" coords="138,55,262,80"/>
<area shape="poly" title=" " alt="" coords="278,61,428,54,428,59,278,67"/>
<area shape="rect" title=" " alt="" coords="497,689,586,715"/>
<area shape="poly" title=" " alt="" coords="602,704,701,709,831,711,977,704,1123,687,1177,676,1220,665,1260,649,1309,623,1341,601,1372,576,1420,530,1423,534,1375,580,1344,605,1311,627,1262,654,1221,670,1179,681,1123,692,977,710,831,716,701,714,601,709"/>
<area shape="poly" title=" " alt="" coords="594,681,659,652,734,610,772,584,808,555,841,522,868,486,877,467,880,450,877,416,876,382,881,365,893,347,908,334,911,338,897,351,886,367,881,383,883,416,886,450,882,469,873,489,845,525,812,559,775,589,737,615,661,657,596,686"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html" title="Configuration for the server swarm system." alt="" coords="895,750,1123,791"/>
<area shape="poly" title=" " alt="" coords="601,716,679,733,790,749,895,760,894,765,789,754,678,738,600,721"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html" title="Manages the runtime of Jobs." alt="" coords="918,361,1100,401"/>
<area shape="poly" title=" " alt="" coords="1115,396,1211,417,1311,446,1360,466,1404,488,1401,493,1358,471,1309,451,1210,422,1114,401"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html" title="Interface for using filesystems." alt="" coords="925,426,1093,467"/>
<area shape="poly" title=" " alt="" coords="1108,458,1310,489,1334,492,1333,498,1310,494,1107,464"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html" title="For identifying the current platform." alt="" coords="910,491,1108,532"/>
<area shape="poly" title=" " alt="" coords="1123,509,1334,509,1334,514,1123,514"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html" title="Gets unassigned ports for use by TGS." alt="" coords="919,557,1099,597"/>
<area shape="poly" title=" " alt="" coords="1114,559,1310,529,1333,526,1334,531,1310,534,1115,564"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html" title="Receives notifications about permissions updates." alt="" coords="909,622,1109,663"/>
<area shape="poly" title=" " alt="" coords="1124,621,1215,601,1309,573,1359,553,1403,530,1405,535,1361,557,1311,578,1217,606,1125,626"/>
<area shape="poly" title=" " alt="" coords="1139,328,1226,349,1270,364,1311,384,1347,408,1379,436,1427,489,1423,492,1375,440,1344,412,1309,388,1268,369,1225,354,1138,333"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base.html" title="Base class for Response.ServerInformationResponse." alt="" coords="464,416,619,442"/>
<area shape="poly" title=" " alt="" coords="634,434,691,433,752,426,813,411,869,384,877,376,881,367,884,357,893,347,914,334,917,339,896,351,889,360,885,369,881,379,872,388,815,416,753,431,691,439,634,439"/>
<area shape="rect" title=" " alt="" coords="520,253,563,279"/>
<area shape="poly" title=" " alt="" coords="579,267,871,297,894,299,894,305,870,302,578,272"/>
<area shape="rect" title=" " alt="" coords="466,303,617,328"/>
<area shape="poly" title=" " alt="" coords="632,313,894,313,894,318,632,318"/>
<area shape="poly" title=" " alt="" coords="1139,778,1182,775,1226,767,1269,754,1309,734,1335,713,1357,688,1394,631,1418,575,1433,531,1438,533,1423,577,1398,634,1362,691,1338,717,1311,738,1271,759,1227,772,1183,780,1139,783"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html" title="Information about a server in the swarm." alt="" coords="491,768,592,794"/>
<area shape="poly" title=" " alt="" coords="607,777,894,770,894,775,607,782"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a20a97e61a81db44a12e27c18da680ed8" id="r_a20a97e61a81db44a12e27c18da680ed8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a20a97e61a81db44a12e27c18da680ed8">InstanceController</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context.html">IAuthenticationContext</a> authenticationContext, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ILogger</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html">InstanceController</a> &gt; logger, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html">IInstanceManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a9a2c4d46ba2467c16b22172a98f1ba35">instanceManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a38f7f9669773242d177345e38be2dd34">jobManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ac62c0b1b0e346409b20c3054d4a8354a">platformIdentifier</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html">IPortAllocator</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html">IPermissionsUpdateNotifyee</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae45aceab65d37ece10acd7eb0fa15b85">permissionsUpdateNotifyee</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IOptions</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> &gt; generalConfigurationOptions, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IOptions</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> &gt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">swarmConfigurationOptions</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider.html">IApiHeadersProvider</a> apiHeaders)</td></tr>
<tr class="memdesc:a20a97e61a81db44a12e27c18da680ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the InstanceController class.  <br /></td></tr>
<tr class="separator:a20a97e61a81db44a12e27c18da680ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab462ce6aa240b963c67cab7d20927060" id="r_ab462ce6aa240b963c67cab7d20927060"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ab462ce6aa240b963c67cab7d20927060">Create</a> ([<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">FromBody</a>] <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_request_1_1_instance_create_request.html">InstanceCreateRequest</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">model</a>, CancellationToken <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">cancellationToken</a>)</td></tr>
<tr class="memdesc:ab462ce6aa240b963c67cab7d20927060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create or attach an Api.Models.Instance.  <br /></td></tr>
<tr class="separator:ab462ce6aa240b963c67cab7d20927060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67fd03e536f1aaed8d8ad6975192344" id="r_ae67fd03e536f1aaed8d8ad6975192344"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae67fd03e536f1aaed8d8ad6975192344">Delete</a> (long <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">id</a>, CancellationToken <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">cancellationToken</a>)</td></tr>
<tr class="memdesc:ae67fd03e536f1aaed8d8ad6975192344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach an Api.Models.Instance with the given <em>id</em> .  <br /></td></tr>
<tr class="separator:ae67fd03e536f1aaed8d8ad6975192344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a709c5985e78cdb8bde3f705869ddafb9" id="r_a709c5985e78cdb8bde3f705869ddafb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a709c5985e78cdb8bde3f705869ddafb9">Update</a> ([<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">FromBody</a>] <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_request_1_1_instance_update_request.html">InstanceUpdateRequest</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">model</a>, CancellationToken <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">cancellationToken</a>)</td></tr>
<tr class="memdesc:a709c5985e78cdb8bde3f705869ddafb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify an Api.Models.Instance's settings.  <br /></td></tr>
<tr class="separator:a709c5985e78cdb8bde3f705869ddafb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98360d756afee2844b21b0936cc050cc" id="r_a98360d756afee2844b21b0936cc050cc"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">List</a> ([FromQuery] int? page, [FromQuery] int? pageSize, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a98360d756afee2844b21b0936cc050cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">List Api.Models.Instances.  <br /></td></tr>
<tr class="separator:a98360d756afee2844b21b0936cc050cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d88c0b757913b42934e82312434633" id="r_a16d88c0b757913b42934e82312434633"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a16d88c0b757913b42934e82312434633">GetId</a> (long <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">id</a>, CancellationToken <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">cancellationToken</a>)</td></tr>
<tr class="memdesc:a16d88c0b757913b42934e82312434633"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a specific Api.Models.Instance.  <br /></td></tr>
<tr class="separator:a16d88c0b757913b42934e82312434633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1ddb6e7b8f7a52a29dbcc3c48b1aa3" id="r_aff1ddb6e7b8f7a52a29dbcc3c48b1aa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#aff1ddb6e7b8f7a52a29dbcc3c48b1aa3">GrantPermissions</a> (long <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">id</a>, CancellationToken <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">cancellationToken</a>)</td></tr>
<tr class="memdesc:aff1ddb6e7b8f7a52a29dbcc3c48b1aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the current user full permissions on a given instance <em>id</em> .  <br /></td></tr>
<tr class="separator:aff1ddb6e7b8f7a52a29dbcc3c48b1aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base.html">Tgstation.Server.Host.Controllers.ApiControllerBase</a></td></tr>
<tr class="memitem:a28e128e4ebaec3da3fa051d1469505cd inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base" id="r_a28e128e4ebaec3da3fa051d1469505cd"><td class="memItemLeft" align="right" valign="top">override async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base.html#a28e128e4ebaec3da3fa051d1469505cd">OnActionExecutionAsync</a> (ActionExecutingContext context, ActionExecutionDelegate next)</td></tr>
<tr class="separator:a28e128e4ebaec3da3fa051d1469505cd inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aa40d55750e2193d714eb1470505c47ee" id="r_aa40d55750e2193d714eb1470505c47ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">const</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#aa40d55750e2193d714eb1470505c47ee">InstanceAttachFileName</a> = &quot;TGS4_ALLOW_INSTANCE_ATTACH&quot;</td></tr>
<tr class="memdesc:aa40d55750e2193d714eb1470505c47ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">File name to allow attaching instances.  <br /></td></tr>
<tr class="separator:aa40d55750e2193d714eb1470505c47ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html">Tgstation.Server.Host.Controllers.ApiController</a></td></tr>
<tr class="memitem:abbc50c770e93a741960b1c807deee194 inherit pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_abbc50c770e93a741960b1c807deee194"><td class="memItemLeft" align="right" valign="top">const ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#abbc50c770e93a741960b1c807deee194">DefaultPageSize</a> = 10</td></tr>
<tr class="memdesc:abbc50c770e93a741960b1c807deee194 inherit pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default size of Paginated&lt;TModel&gt; results.  <br /></td></tr>
<tr class="separator:abbc50c770e93a741960b1c807deee194 inherit pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2287f9007dc7a59dd292ba27b66bfae2 inherit pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a2287f9007dc7a59dd292ba27b66bfae2"><td class="memItemLeft" align="right" valign="top">const ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a2287f9007dc7a59dd292ba27b66bfae2">MaximumPageSize</a> = 100</td></tr>
<tr class="memdesc:a2287f9007dc7a59dd292ba27b66bfae2 inherit pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum size of Paginated&lt;TModel&gt; results.  <br /></td></tr>
<tr class="separator:a2287f9007dc7a59dd292ba27b66bfae2 inherit pub_static_attribs_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a02be01c6c5cab421a7a0c9f01f213b30" id="r_a02be01c6c5cab421a7a0c9f01f213b30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance.html">Models.Instance</a>?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a02be01c6c5cab421a7a0c9f01f213b30">CreateDefaultInstance</a> (<a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_request_1_1_instance_create_request.html">InstanceCreateRequest</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">initialSettings</a>, CancellationToken <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">cancellationToken</a>)</td></tr>
<tr class="memdesc:a02be01c6c5cab421a7a0c9f01f213b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a default Models.Instance from <em>initialSettings</em> .  <br /></td></tr>
<tr class="separator:a02be01c6c5cab421a7a0c9f01f213b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7505e585db1c6dd7fffda95599994960" id="r_a7505e585db1c6dd7fffda95599994960"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_permission_set.html">InstancePermissionSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960">InstanceAdminPermissionSet</a> (<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_permission_set.html">InstancePermissionSet</a>? <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">permissionSetToModify</a>)</td></tr>
<tr class="memdesc:a7505e585db1c6dd7fffda95599994960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate an <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a7b02c8c3dadd90810a9eaa24712a0a20ad81d61279ed6bcd6d53927ceaf4f24cd" title="InstancePermissionSetRights.">InstancePermissionSet</a> with full rights.  <br /></td></tr>
<tr class="separator:a7505e585db1c6dd7fffda95599994960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600268a32d5da87b3c80f97d34319366" id="r_a600268a32d5da87b3c80f97d34319366"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">string</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a600268a32d5da87b3c80f97d34319366">NormalizePath</a> (<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">string</a>? <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">path</a>)</td></tr>
<tr class="memdesc:a600268a32d5da87b3c80f97d34319366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalize a given <em>path</em>  for an instance.  <br /></td></tr>
<tr class="separator:a600268a32d5da87b3c80f97d34319366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6de3128c5d49b91d7bb8f6f2caf0ed5" id="r_ae6de3128c5d49b91d7bb8f6f2caf0ed5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5">CheckAccessible</a> (<a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response.html">InstanceResponse</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">instanceResponse</a>, CancellationToken <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">cancellationToken</a>)</td></tr>
<tr class="memdesc:ae6de3128c5d49b91d7bb8f6f2caf0ed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate the <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response.html#a86d9a044bcddfe1d99701e62b70b6bd0" title="If the querying user may access this instance.">InstanceResponse.Accessible</a> property of a given <em>instanceResponse</em> .  <br /></td></tr>
<tr class="separator:ae6de3128c5d49b91d7bb8f6f2caf0ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b38d5cba6df39071299a0d0c5e71a6d" id="r_a5b38d5cba6df39071299a0d0c5e71a6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">BadRequestObjectResult</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a5b38d5cba6df39071299a0d0c5e71a6d">ValidateCronSetting</a> (<a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Api.Models.Instance</a> instance)</td></tr>
<tr class="memdesc:a5b38d5cba6df39071299a0d0c5e71a6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates a given <em>instance</em> 's <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html#aa94e263fa829683a2b8ae4cdf8d366c6" title="A cron expression indicating when auto-updates should trigger. Must be a valid 6 part cron schedule (...">Api.Models.Instance.AutoUpdateCron</a> setting.  <br /></td></tr>
<tr class="separator:a5b38d5cba6df39071299a0d0c5e71a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a38f7f9669773242d177345e38be2dd34" id="r_a38f7f9669773242d177345e38be2dd34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a38f7f9669773242d177345e38be2dd34">jobManager</a></td></tr>
<tr class="memdesc:a38f7f9669773242d177345e38be2dd34"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IJobManager for the InstanceController.  <br /></td></tr>
<tr class="separator:a38f7f9669773242d177345e38be2dd34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2e4e54c38a97b299d1fb7692cc5cdd" id="r_afb2e4e54c38a97b299d1fb7692cc5cdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a></td></tr>
<tr class="memdesc:afb2e4e54c38a97b299d1fb7692cc5cdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IIOManager for the InstanceController.  <br /></td></tr>
<tr class="separator:afb2e4e54c38a97b299d1fb7692cc5cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62c0b1b0e346409b20c3054d4a8354a" id="r_ac62c0b1b0e346409b20c3054d4a8354a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ac62c0b1b0e346409b20c3054d4a8354a">platformIdentifier</a></td></tr>
<tr class="memdesc:ac62c0b1b0e346409b20c3054d4a8354a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IPlatformIdentifier for the InstanceController.  <br /></td></tr>
<tr class="separator:ac62c0b1b0e346409b20c3054d4a8354a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61dbab212a95b16ad876b7c5f8dd51c5" id="r_a61dbab212a95b16ad876b7c5f8dd51c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html">IPortAllocator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a></td></tr>
<tr class="memdesc:a61dbab212a95b16ad876b7c5f8dd51c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IPortAllocator for the InstanceController.  <br /></td></tr>
<tr class="separator:a61dbab212a95b16ad876b7c5f8dd51c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45aceab65d37ece10acd7eb0fa15b85" id="r_ae45aceab65d37ece10acd7eb0fa15b85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html">IPermissionsUpdateNotifyee</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae45aceab65d37ece10acd7eb0fa15b85">permissionsUpdateNotifyee</a></td></tr>
<tr class="memdesc:ae45aceab65d37ece10acd7eb0fa15b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IPermissionsUpdateNotifyee for the InstanceController.  <br /></td></tr>
<tr class="separator:ae45aceab65d37ece10acd7eb0fa15b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f60f72c082a222a31383dbfceb755a6" id="r_a4f60f72c082a222a31383dbfceb755a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a4f60f72c082a222a31383dbfceb755a6">generalConfiguration</a></td></tr>
<tr class="memdesc:a4f60f72c082a222a31383dbfceb755a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The GeneralConfiguration for the InstanceController.  <br /></td></tr>
<tr class="separator:a4f60f72c082a222a31383dbfceb755a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952ce837f434c65e69d35ec886d0fc2d" id="r_a952ce837f434c65e69d35ec886d0fc2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a></td></tr>
<tr class="memdesc:a952ce837f434c65e69d35ec886d0fc2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SwarmConfiguration for the InstanceController.  <br /></td></tr>
<tr class="separator:a952ce837f434c65e69d35ec886d0fc2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html">Tgstation.Server.Host.Controllers.ComponentInterfacingController</a></td></tr>
<tr class="memitem:a1fbf7f318ced5ab7c2c44a4cd43510a8 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller" id="r_a1fbf7f318ced5ab7c2c44a4cd43510a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a1fbf7f318ced5ab7c2c44a4cd43510a8">ComponentInterfacingController</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context.html">IAuthenticationContext</a> authenticationContext, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html">ComponentInterfacingController</a> &gt; logger, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html">IInstanceManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a9a2c4d46ba2467c16b22172a98f1ba35">instanceManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider.html">IApiHeadersProvider</a> apiHeaders, bool <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a92bb12695e2aae9efae16f28c7d61607">useInstanceRequestHeader</a>)</td></tr>
<tr class="memdesc:a1fbf7f318ced5ab7c2c44a4cd43510a8 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the ComponentInterfacingController class.  <br /></td></tr>
<tr class="separator:a1fbf7f318ced5ab7c2c44a4cd43510a8 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518bdda7e1021bdd9782abd9f510f86b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller" id="r_a518bdda7e1021bdd9782abd9f510f86b"><td class="memItemLeft" align="right" valign="top">override async ValueTask&lt; IActionResult?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a518bdda7e1021bdd9782abd9f510f86b">ValidateRequest</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a518bdda7e1021bdd9782abd9f510f86b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs validation a request.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in an appropriate IActionResult on validation failure, <code>null</code> otherwise.</dd></dl>
  <br /></td></tr>
<tr class="separator:a518bdda7e1021bdd9782abd9f510f86b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9306ee424759a221509c021cdf0cde inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller" id="r_aba9306ee424759a221509c021cdf0cde"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde">ValidateInstanceOnlineStatus</a> (<a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Api.Models.Instance</a> metadata)</td></tr>
<tr class="memdesc:aba9306ee424759a221509c021cdf0cde inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Corrects discrepencies between the Api.Models.Instance.Online status of IInstances in the database vs the service.  <br /></td></tr>
<tr class="separator:aba9306ee424759a221509c021cdf0cde inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e985e6b0812f8bbce17ed2e5028fd65 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller" id="r_a0e985e6b0812f8bbce17ed2e5028fd65"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; IActionResult?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a0e985e6b0812f8bbce17ed2e5028fd65">WithComponentInstanceNullable</a> (Func&lt; <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_core.html">IInstanceCore</a>, ValueTask&lt; IActionResult?&gt; &gt; action, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance.html">Models.Instance</a>? instance=null)</td></tr>
<tr class="memdesc:a0e985e6b0812f8bbce17ed2e5028fd65 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a given <em>action</em>  with the relevant IInstance.  <br /></td></tr>
<tr class="separator:a0e985e6b0812f8bbce17ed2e5028fd65 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5262a00e199825c5f7e2f25d6d76f0 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller" id="r_a9e5262a00e199825c5f7e2f25d6d76f0"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a9e5262a00e199825c5f7e2f25d6d76f0">WithComponentInstance</a> (Func&lt; <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_core.html">IInstanceCore</a>, ValueTask&lt; IActionResult &gt; &gt; action, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance.html">Models.Instance</a>? instance=null)</td></tr>
<tr class="memdesc:a9e5262a00e199825c5f7e2f25d6d76f0 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a given <em>action</em>  with the relevant IInstance.  <br /></td></tr>
<tr class="separator:a9e5262a00e199825c5f7e2f25d6d76f0 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html">Tgstation.Server.Host.Controllers.ApiController</a></td></tr>
<tr class="memitem:af69971c47f8065bca0242735ef068cab inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_af69971c47f8065bca0242735ef068cab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#af69971c47f8065bca0242735ef068cab">ApiController</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context.html">IAuthenticationContext</a> authenticationContext, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider.html">IApiHeadersProvider</a> apiHeadersProvider, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html">ApiController</a> &gt; logger, bool <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a91c58c31f7a3cc51fff3cfc3b236756d">requireHeaders</a>)</td></tr>
<tr class="memdesc:af69971c47f8065bca0242735ef068cab inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the ApiController class.  <br /></td></tr>
<tr class="separator:af69971c47f8065bca0242735ef068cab inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7235c3ee61017e2ae5734a100c53bf inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a7c7235c3ee61017e2ae5734a100c53bf"><td class="memItemLeft" align="right" valign="top">override async ValueTask&lt; IActionResult?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a7c7235c3ee61017e2ae5734a100c53bf">HookExecuteAction</a> (Func&lt; Task &gt; executeAction, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a7c7235c3ee61017e2ae5734a100c53bf inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for executing a request.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">executeAction</td><td>A Func&lt;TResult&gt; that should be invoked and its response awaited to continue normal execution of the request. Should NOT be called if this method returns a non-<code>null</code> value.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in an IActionResult that, if not <code>null</code>, is executed.</dd></dl>
  <br /></td></tr>
<tr class="separator:a7c7235c3ee61017e2ae5734a100c53bf inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30874703840788ecc629d91fc7e15a5f inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a30874703840788ecc629d91fc7e15a5f"><td class="memItemLeft" align="right" valign="top">new NotFoundObjectResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a30874703840788ecc629d91fc7e15a5f">NotFound</a> ()</td></tr>
<tr class="memdesc:a30874703840788ecc629d91fc7e15a5f inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic 404 response.  <br /></td></tr>
<tr class="separator:a30874703840788ecc629d91fc7e15a5f inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978fe89eeaea424d7e034d2c7ab7b76e inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a978fe89eeaea424d7e034d2c7ab7b76e"><td class="memItemLeft" align="right" valign="top">StatusCodeResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a978fe89eeaea424d7e034d2c7ab7b76e">StatusCode</a> (HttpStatusCode statusCode)</td></tr>
<tr class="memdesc:a978fe89eeaea424d7e034d2c7ab7b76e inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Strongly type calls to ControllerBase.StatusCode(int).  <br /></td></tr>
<tr class="separator:a978fe89eeaea424d7e034d2c7ab7b76e inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc4e0e6f1d81ebc19a238527550f7a4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_adfc4e0e6f1d81ebc19a238527550f7a4"><td class="memItemLeft" align="right" valign="top">ObjectResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#adfc4e0e6f1d81ebc19a238527550f7a4">RateLimit</a> (RateLimitExceededException rateLimitException)</td></tr>
<tr class="memdesc:adfc4e0e6f1d81ebc19a238527550f7a4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">429 response for a given <em>rateLimitException</em> .  <br /></td></tr>
<tr class="separator:adfc4e0e6f1d81ebc19a238527550f7a4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5333dd9534ea615440e2360016e75be4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a5333dd9534ea615440e2360016e75be4"><td class="memItemLeft" align="right" valign="top">IActionResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a5333dd9534ea615440e2360016e75be4">HeadersIssue</a> (<a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_headers_exception.html">HeadersException</a> headersException)</td></tr>
<tr class="memdesc:a5333dd9534ea615440e2360016e75be4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Response for missing/Invalid headers.  <br /></td></tr>
<tr class="separator:a5333dd9534ea615440e2360016e75be4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81f5293d2eac8bda8aa5ddd3d15c95c inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_ad81f5293d2eac8bda8aa5ddd3d15c95c"><td class="memItemLeft" align="right" valign="top">ValueTask&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#ad81f5293d2eac8bda8aa5ddd3d15c95c">Paginated&lt; TModel &gt;</a> (Func&lt; ValueTask&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_paginatable_result.html">PaginatableResult</a>&lt; TModel &gt; &gt; &gt; queryGenerator, Func&lt; TModel, ValueTask &gt;? resultTransformer, int? pageQuery, int? pageSizeQuery, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ad81f5293d2eac8bda8aa5ddd3d15c95c inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a paginated response.  <br /></td></tr>
<tr class="separator:ad81f5293d2eac8bda8aa5ddd3d15c95c inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb8f191b60327e6bc75679ab009328b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_afdb8f191b60327e6bc75679ab009328b"><td class="memItemLeft" align="right" valign="top">ValueTask&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#afdb8f191b60327e6bc75679ab009328b">Paginated&lt; TModel, TApiModel &gt;</a> (Func&lt; ValueTask&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_paginatable_result.html">PaginatableResult</a>&lt; TModel &gt; &gt; &gt; queryGenerator, Func&lt; TApiModel, ValueTask &gt;? resultTransformer, int? pageQuery, int? pageSizeQuery, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:afdb8f191b60327e6bc75679ab009328b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a paginated response.  <br /></td></tr>
<tr class="separator:afdb8f191b60327e6bc75679ab009328b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td colspan="2" onclick="javascript:toggleInherit('properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html">Tgstation.Server.Host.Controllers.ComponentInterfacingController</a></td></tr>
<tr class="memitem:a95dc96499f6b951fd0726fa7fe947ace inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller" id="r_a95dc96499f6b951fd0726fa7fe947ace"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html">IInstanceOperations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a95dc96499f6b951fd0726fa7fe947ace">InstanceOperations</a><code> [get]</code></td></tr>
<tr class="memdesc:a95dc96499f6b951fd0726fa7fe947ace inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the IInstanceOperations instance.  <br /></td></tr>
<tr class="separator:a95dc96499f6b951fd0726fa7fe947ace inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td colspan="2" onclick="javascript:toggleInherit('properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html">Tgstation.Server.Host.Controllers.ApiController</a></td></tr>
<tr class="memitem:a115f271cf58494b63440aa01595f4199 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a115f271cf58494b63440aa01595f4199"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_api_headers.html">ApiHeaders</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a115f271cf58494b63440aa01595f4199">ApiHeaders</a><code> [get]</code></td></tr>
<tr class="memdesc:a115f271cf58494b63440aa01595f4199 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Api.ApiHeaders for the operation.  <br /></td></tr>
<tr class="separator:a115f271cf58494b63440aa01595f4199 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e119156b0541beb48172efa7fef27af inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a7e119156b0541beb48172efa7fef27af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider.html">IApiHeadersProvider</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a7e119156b0541beb48172efa7fef27af">ApiHeadersProvider</a><code> [get]</code></td></tr>
<tr class="memdesc:a7e119156b0541beb48172efa7fef27af inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IApiHeadersProvider containing value of ApiHeaders.  <br /></td></tr>
<tr class="separator:a7e119156b0541beb48172efa7fef27af inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab687e0fc0cb712708297c0c2b43ca849 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_ab687e0fc0cb712708297c0c2b43ca849"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#ab687e0fc0cb712708297c0c2b43ca849">DatabaseContext</a><code> [get]</code></td></tr>
<tr class="memdesc:ab687e0fc0cb712708297c0c2b43ca849 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IDatabaseContext for the operation.  <br /></td></tr>
<tr class="separator:ab687e0fc0cb712708297c0c2b43ca849 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37f0d0021bc861bea5444108a4de87d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_af37f0d0021bc861bea5444108a4de87d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context.html">IAuthenticationContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#af37f0d0021bc861bea5444108a4de87d">AuthenticationContext</a><code> [get]</code></td></tr>
<tr class="memdesc:af37f0d0021bc861bea5444108a4de87d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IAuthenticationContext for the operation.  <br /></td></tr>
<tr class="separator:af37f0d0021bc861bea5444108a4de87d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5655868c2b2b913046ecf61934ce119 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_ae5655868c2b2b913046ecf61934ce119"><td class="memItemLeft" align="right" valign="top">ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html">ApiController</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#ae5655868c2b2b913046ecf61934ce119">Logger</a><code> [get]</code></td></tr>
<tr class="memdesc:ae5655868c2b2b913046ecf61934ce119 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ILogger for the ApiController.  <br /></td></tr>
<tr class="separator:ae5655868c2b2b913046ecf61934ce119 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c2deba88552365803bfebb8b9dea492 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller" id="r_a2c2deba88552365803bfebb8b9dea492"><td class="memItemLeft" align="right" valign="top">Models.? <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Instance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#a2c2deba88552365803bfebb8b9dea492">Instance</a><code> [get]</code></td></tr>
<tr class="memdesc:a2c2deba88552365803bfebb8b9dea492 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Instance for the operation.  <br /></td></tr>
<tr class="separator:a2c2deba88552365803bfebb8b9dea492 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ApiController for managing Components.Instances. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00042">42</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a20a97e61a81db44a12e27c18da680ed8" name="a20a97e61a81db44a12e27c18da680ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a97e61a81db44a12e27c18da680ed8">&#9670;&#160;</a></span>InstanceController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tgstation.Server.Host.Controllers.InstanceController.InstanceController </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context.html">IAuthenticationContext</a>&#160;</td>
          <td class="paramname"><em>authenticationContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ILogger</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html">InstanceController</a> &gt;&#160;</td>
          <td class="paramname"><em>logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html">IInstanceManager</a>&#160;</td>
          <td class="paramname"><em>instanceManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a>&#160;</td>
          <td class="paramname"><em>jobManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a>&#160;</td>
          <td class="paramname"><em>ioManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a>&#160;</td>
          <td class="paramname"><em>platformIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html">IPortAllocator</a>&#160;</td>
          <td class="paramname"><em>portAllocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html">IPermissionsUpdateNotifyee</a>&#160;</td>
          <td class="paramname"><em>permissionsUpdateNotifyee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IOptions</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>generalConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IOptions</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>swarmConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider.html">IApiHeadersProvider</a>&#160;</td>
          <td class="paramname"><em>apiHeaders</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new instance of the InstanceController class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The IDatabaseContext for the ComponentInterfacingController.</td></tr>
    <tr><td class="paramname">authenticationContext</td><td>The IAuthenticationContext for the ComponentInterfacingController.</td></tr>
    <tr><td class="paramname">logger</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ILogger</a> for the ComponentInterfacingController.</td></tr>
    <tr><td class="paramname">instanceManager</td><td>The IInstanceManager for the ComponentInterfacingController.</td></tr>
    <tr><td class="paramname">jobManager</td><td>The value of jobManager.</td></tr>
    <tr><td class="paramname">ioManager</td><td>The value of ioManager.</td></tr>
    <tr><td class="paramname">platformIdentifier</td><td>The value of platformIdentifier.</td></tr>
    <tr><td class="paramname">portAllocator</td><td>The value of portAllocator.</td></tr>
    <tr><td class="paramname">permissionsUpdateNotifyee</td><td>The value of permissionsUpdateNotifyee.</td></tr>
    <tr><td class="paramname">generalConfigurationOptions</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IOptions&lt;TOptions&gt;</a> containing the value of generalConfiguration.</td></tr>
    <tr><td class="paramname">swarmConfigurationOptions</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IOptions&lt;TOptions&gt;</a> containing the value of swarmConfiguration.</td></tr>
    <tr><td class="paramname">apiHeaders</td><td>The IApiHeadersProvider for the ComponentInterfacingController.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00099">99</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>            : <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">base</a>(</div>
<div class="line"><span class="lineno">  113</span>                  databaseContext,</div>
<div class="line"><span class="lineno">  114</span>                  authenticationContext,</div>
<div class="line"><span class="lineno">  115</span>                  logger,</div>
<div class="line"><span class="lineno">  116</span>                  <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a9a2c4d46ba2467c16b22172a98f1ba35">instanceManager</a>,</div>
<div class="line"><span class="lineno">  117</span>                  apiHeaders,</div>
<div class="line"><span class="lineno">  118</span>                  <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  119</span>        {</div>
<div class="line"><span class="lineno">  120</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.jobManager</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a38f7f9669773242d177345e38be2dd34">jobManager</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a38f7f9669773242d177345e38be2dd34">jobManager</a>));</div>
<div class="line"><span class="lineno">  121</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.ioManager</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>));</div>
<div class="line"><span class="lineno">  122</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.platformIdentifier</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ac62c0b1b0e346409b20c3054d4a8354a">platformIdentifier</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ac62c0b1b0e346409b20c3054d4a8354a">platformIdentifier</a>));</div>
<div class="line"><span class="lineno">  123</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.portAllocator</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a>));</div>
<div class="line"><span class="lineno">  124</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.permissionsUpdateNotifyee</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae45aceab65d37ece10acd7eb0fa15b85">permissionsUpdateNotifyee</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae45aceab65d37ece10acd7eb0fa15b85">permissionsUpdateNotifyee</a>));</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>            <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a4f60f72c082a222a31383dbfceb755a6">generalConfiguration</a> = generalConfigurationOptions?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(generalConfigurationOptions));</div>
<div class="line"><span class="lineno">  127</span>            <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">swarmConfigurationOptions</a>?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">swarmConfigurationOptions</a>));</div>
<div class="line"><span class="lineno">  128</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller_html_a9a2c4d46ba2467c16b22172a98f1ba35"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a9a2c4d46ba2467c16b22172a98f1ba35">Tgstation.Server.Host.Controllers.ComponentInterfacingController.instanceManager</a></div><div class="ttdeci">readonly IInstanceManager instanceManager</div><div class="ttdoc">The IInstanceManager for the ComponentInterfacingController.</div><div class="ttdef"><b>Definition</b> <a href="_component_interfacing_controller_8cs_source.html#l00032">ComponentInterfacingController.cs:32</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a38f7f9669773242d177345e38be2dd34"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a38f7f9669773242d177345e38be2dd34">Tgstation.Server.Host.Controllers.InstanceController.jobManager</a></div><div class="ttdeci">readonly IJobManager jobManager</div><div class="ttdoc">The IJobManager for the InstanceController.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00052">InstanceController.cs:52</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a4f60f72c082a222a31383dbfceb755a6"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a4f60f72c082a222a31383dbfceb755a6">Tgstation.Server.Host.Controllers.InstanceController.generalConfiguration</a></div><div class="ttdeci">readonly GeneralConfiguration generalConfiguration</div><div class="ttdoc">The GeneralConfiguration for the InstanceController.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00077">InstanceController.cs:77</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a61dbab212a95b16ad876b7c5f8dd51c5"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">Tgstation.Server.Host.Controllers.InstanceController.portAllocator</a></div><div class="ttdeci">readonly IPortAllocator portAllocator</div><div class="ttdoc">The IPortAllocator for the InstanceController.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00067">InstanceController.cs:67</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a952ce837f434c65e69d35ec886d0fc2d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a></div><div class="ttdeci">readonly SwarmConfiguration swarmConfiguration</div><div class="ttdoc">The SwarmConfiguration for the InstanceController.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00082">InstanceController.cs:82</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_ac62c0b1b0e346409b20c3054d4a8354a"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ac62c0b1b0e346409b20c3054d4a8354a">Tgstation.Server.Host.Controllers.InstanceController.platformIdentifier</a></div><div class="ttdeci">readonly IPlatformIdentifier platformIdentifier</div><div class="ttdoc">The IPlatformIdentifier for the InstanceController.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00062">InstanceController.cs:62</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_ae45aceab65d37ece10acd7eb0fa15b85"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae45aceab65d37ece10acd7eb0fa15b85">Tgstation.Server.Host.Controllers.InstanceController.permissionsUpdateNotifyee</a></div><div class="ttdeci">readonly IPermissionsUpdateNotifyee permissionsUpdateNotifyee</div><div class="ttdoc">The IPermissionsUpdateNotifyee for the InstanceController.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00072">InstanceController.cs:72</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_afb2e4e54c38a97b299d1fb7692cc5cdd"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">Tgstation.Server.Host.Controllers.InstanceController.ioManager</a></div><div class="ttdeci">readonly IIOManager ioManager</div><div class="ttdoc">The IIOManager for the InstanceController.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00057">InstanceController.cs:57</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.ConfigurationRights.List</a></div><div class="ttdeci">@ List</div><div class="ttdoc">User may list files if the Models.Instance allows it.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_instance_controller_8cs_source.html#l00077">Tgstation.Server.Host.Controllers.InstanceController.generalConfiguration</a>, <a class="el" href="_instance_controller_8cs_source.html#l00057">Tgstation.Server.Host.Controllers.InstanceController.ioManager</a>, <a class="el" href="_instance_controller_8cs_source.html#l00052">Tgstation.Server.Host.Controllers.InstanceController.jobManager</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_instance_controller_8cs_source.html#l00072">Tgstation.Server.Host.Controllers.InstanceController.permissionsUpdateNotifyee</a>, <a class="el" href="_instance_controller_8cs_source.html#l00062">Tgstation.Server.Host.Controllers.InstanceController.platformIdentifier</a>, <a class="el" href="_instance_controller_8cs_source.html#l00067">Tgstation.Server.Host.Controllers.InstanceController.portAllocator</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae6de3128c5d49b91d7bb8f6f2caf0ed5" name="ae6de3128c5d49b91d7bb8f6f2caf0ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6de3128c5d49b91d7bb8f6f2caf0ed5">&#9670;&#160;</a></span>CheckAccessible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a> Tgstation.Server.Host.Controllers.InstanceController.CheckAccessible </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response.html">InstanceResponse</a>&#160;</td>
          <td class="paramname"><em>instanceResponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Populate the <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response.html#a86d9a044bcddfe1d99701e62b70b6bd0" title="If the querying user may access this instance.">InstanceResponse.Accessible</a> property of a given <em>instanceResponse</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instanceResponse</td><td>The InstanceResponse to populate.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00838">838</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  839</span>        {</div>
<div class="line"><span class="lineno">  840</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceResponse.Accessible</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  841</span>                .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a901489c5ed1c32ef2c745ecd93440892">InstancePermissionSets</a></div>
<div class="line"><span class="lineno">  842</span>                .AsQueryable()</div>
<div class="line"><span class="lineno">  843</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.InstanceId == <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceResponse</a>.Id &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.PermissionSetId == <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a7dd58fdca2eaeb82ceb474bc22b36a47">Id</a>)</div>
<div class="line"><span class="lineno">  844</span>                .AnyAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  845</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set_html_a7dd58fdca2eaeb82ceb474bc22b36a47"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a7dd58fdca2eaeb82ceb474bc22b36a47">Tgstation.Server.Api.Models.PermissionSet.Id</a></div><div class="ttdeci">override? long Id</div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00014">PermissionSet.cs:15</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">Tgstation.Server.Host.Database.DatabaseContext</a></div><div class="ttdoc">Backend abstract implementation of IDatabaseContext.</div><div class="ttdef"><b>Definition</b> <a href="_database_context_8cs_source.html#l00024">DatabaseContext.cs:25</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html_a901489c5ed1c32ef2c745ecd93440892"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a901489c5ed1c32ef2c745ecd93440892">Tgstation.Server.Host.Database.DatabaseContext.InstancePermissionSets</a></div><div class="ttdeci">DbSet&lt; InstancePermissionSet &gt; InstancePermissionSets</div><div class="ttdoc">The InstancePermissionSets in the DatabaseContext.</div><div class="ttdef"><b>Definition</b> <a href="_database_context_8cs_source.html#l00069">DatabaseContext.cs:69</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">Tgstation.Server.Host.Security.AuthenticationContext</a></div><div class="ttdef"><b>Definition</b> <a href="_authentication_context_8cs_source.html#l00010">AuthenticationContext.cs:11</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_html_acfb9937bf37b839f1d60289129c5ea77"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">Tgstation.Server.Host.Security.AuthenticationContext.PermissionSet</a></div><div class="ttdeci">PermissionSet PermissionSet</div><div class="ttdoc">The User's effective PermissionSet.</div><div class="ttdef"><b>Definition</b> <a href="_authentication_context_8cs_source.html#l00019">AuthenticationContext.cs:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00015">Tgstation.Server.Api.Models.PermissionSet.Id</a>, <a class="el" href="_database_context_8cs_source.html#l00069">Tgstation.Server.Host.Database.DatabaseContext.InstancePermissionSets</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, and <a class="el" href="_authentication_context_8cs_source.html#l00019">Tgstation.Server.Host.Security.AuthenticationContext.PermissionSet</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00617">Tgstation.Server.Host.Controllers.InstanceController.GetId()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00549">Tgstation.Server.Host.Controllers.InstanceController.List()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00349">Tgstation.Server.Host.Controllers.InstanceController.Update()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae6de3128c5d49b91d7bb8f6f2caf0ed5_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae6de3128c5d49b91d7bb8f6f2caf0ed5_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae6de3128c5d49b91d7bb8f6f2caf0ed5_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae6de3128c5d49b91d7bb8f6f2caf0ed5_icgraph">
<area shape="rect" title="Populate the InstanceResponse.Accessible property of a given instanceResponse ." alt="" coords="269,71,499,111"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a16d88c0b757913b42934e82312434633" title="Get a specific Api.Models.Instance." alt="" coords="5,5,221,46"/>
<area shape="poly" title=" " alt="" coords="281,69,200,49,201,44,282,64"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc" title="List Api.Models.Instances." alt="" coords="5,71,221,111"/>
<area shape="poly" title=" " alt="" coords="253,94,221,94,221,88,253,88"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a709c5985e78cdb8bde3f705869ddafb9" title="Modify an Api.Models.Instance&#39;s settings." alt="" coords="5,136,221,177"/>
<area shape="poly" title=" " alt="" coords="282,118,201,138,200,133,281,113"/>
</map>
</div>

</div>
</div>
<a id="ab462ce6aa240b963c67cab7d20927060" name="ab462ce6aa240b963c67cab7d20927060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab462ce6aa240b963c67cab7d20927060">&#9670;&#160;</a></span>Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt; Tgstation.Server.Host.Controllers.InstanceController.Create </td>
          <td>(</td>
          <td class="paramtype">[FromBody] <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_request_1_1_instance_create_request.html">InstanceCreateRequest</a>&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create or attach an Api.Models.Instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The InstanceCreateRequest.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IActionResult</a> of the request.</dd></dl>
<p>&lt;response code="200"&gt;Instance attached successfully.&lt;/response&gt; &lt;response code="201"&gt;Instance created successfully.&lt;/response&gt; </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00142">142</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>        {</div>
<div class="line"><span class="lineno">  144</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>.ThrowIfNull(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>);</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">String</a>.IsNullOrWhiteSpace(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Name) || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">String</a>.IsNullOrWhiteSpace(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Path))</div>
<div class="line"><span class="lineno">  147</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca9edf8fbf00a57d95a0af4923c9a1ec6f">BadRequest</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceWhitespaceNameOrPath));</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">IActionResult</a>? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">earlyOut</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a5b38d5cba6df39071299a0d0c5e71a6d">ValidateCronSetting</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>);</div>
<div class="line"><span class="lineno">  150</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">earlyOut</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  151</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">earlyOut</a>;</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a600268a32d5da87b3c80f97d34319366">NormalizePath</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Path!);</div>
<div class="line"><span class="lineno">  154</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model.Path</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">installationDirectoryPath</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager.html">DefaultIOManager</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager.html#a984a32ee93a073036f63d543ad9a6cdd">CurrentDirectory</a>;</div>
<div class="line"><span class="lineno">  157</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0d9526a8d840f2c00cb203bdebdcb994">PathIsChildOf</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">installationDirectoryPath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>))</div>
<div class="line"><span class="lineno">  158</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceAtConflictingPath));</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>            <span class="comment">// Validate it&#39;s not a child of any other instance</span></div>
<div class="line"><span class="lineno">  161</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instancePaths</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  162</span>                .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a></div>
<div class="line"><span class="lineno">  163</span>                .AsQueryable()</div>
<div class="line"><span class="lineno">  164</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.SwarmIdentifer == <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>)</div>
<div class="line"><span class="lineno">  165</span>                .Select(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <span class="keyword">new</span> Models.Instance</div>
<div class="line"><span class="lineno">  166</span>                {</div>
<div class="line"><span class="lineno">  167</span>                    Path = x.Path,</div>
<div class="line"><span class="lineno">  168</span>                })</div>
<div class="line"><span class="lineno">  169</span>                .ToListAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>            <span class="keywordflow">if</span> ((<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instancePaths</a>.Count + 1) &gt;= <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a4f60f72c082a222a31383dbfceb755a6">generalConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base.html#af1beb234779e0c00a3d62fa62f2b177e">InstanceLimit</a>)</div>
<div class="line"><span class="lineno">  172</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceLimitReached));</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instancePathChecks</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instancePaths</a></div>
<div class="line"><span class="lineno">  175</span>                .Select(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">otherInstance</a> =&gt; <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0d9526a8d840f2c00cb203bdebdcb994">PathIsChildOf</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">otherInstance</a>.Path!, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>))</div>
<div class="line"><span class="lineno">  176</span>                .ToArray();</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> Task.WhenAll(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instancePathChecks</a>);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instancePathChecks</a>.Any(task =&gt; task.Result))</div>
<div class="line"><span class="lineno">  181</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceAtConflictingPath));</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>            <span class="comment">// Last test, ensure it&#39;s in the list of valid paths</span></div>
<div class="line"><span class="lineno">  184</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">pathChecks</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a4f60f72c082a222a31383dbfceb755a6">generalConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base.html#a5800801459e805f624a4ba0d4f976451">ValidInstancePaths</a>?</div>
<div class="line"><span class="lineno">  185</span>                .Select(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a> =&gt; <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0d9526a8d840f2c00cb203bdebdcb994">PathIsChildOf</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>))</div>
<div class="line"><span class="lineno">  186</span>                .ToArray()</div>
<div class="line"><span class="lineno">  187</span>                ?? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Enumerable</a>.Empty&lt;Task&lt;bool&gt;&gt;();</div>
<div class="line"><span class="lineno">  188</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> Task.WhenAll(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">pathChecks</a>);</div>
<div class="line"><span class="lineno">  189</span>            <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">pathChecks</a>.All(task =&gt; task.Result))</div>
<div class="line"><span class="lineno">  190</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca9edf8fbf00a57d95a0af4923c9a1ec6f">BadRequest</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceNotAtWhitelistedPath));</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">async</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ValueTask&lt;bool&gt;</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DirExistsAndIsNotEmpty</a>()</div>
<div class="line"><span class="lineno">  193</span>            {</div>
<div class="line"><span class="lineno">  194</span>                <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa">DirectoryExists</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>))</div>
<div class="line"><span class="lineno">  195</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">filesTask</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0749e071c50bd39000bb7db1d02fc2e3">GetFiles</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  198</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirsTask</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a39ebf958ad54ba63a6b74a1d4d75a6f2">GetDirectories</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">files</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">filesTask</a>;</div>
<div class="line"><span class="lineno">  201</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirs</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirsTask</a>;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">files</a>.Concat(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirs</a>).Any();</div>
<div class="line"><span class="lineno">  204</span>            }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirExistsTask</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DirExistsAndIsNotEmpty</a>();</div>
<div class="line"><span class="lineno">  207</span>            <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attached</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  208</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62">FileExists</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>) || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirExistsTask</a>)</div>
<div class="line"><span class="lineno">  209</span>                <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62">FileExists</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">ConcatPath</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#aa40d55750e2193d714eb1470505c47ee">InstanceAttachFileName</a>), <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>))</div>
<div class="line"><span class="lineno">  210</span>                    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceAtExistingPath));</div>
<div class="line"><span class="lineno">  211</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  212</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attached</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a02be01c6c5cab421a7a0c9f01f213b30">CreateDefaultInstance</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  215</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a> == <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  216</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.NoPortsAvailable));</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>            <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a>.Add(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a>);</div>
<div class="line"><span class="lineno">  219</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  220</span>            {</div>
<div class="line"><span class="lineno">  221</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>                <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  224</span>                {</div>
<div class="line"><span class="lineno">  225</span>                    <span class="comment">// actually reserve it now</span></div>
<div class="line"><span class="lineno">  226</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a69aa1b9dbeb6af3744e568095c4376e7">CreateDirectory</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  227</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a">DeleteFile</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">ConcatPath</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">targetInstancePath</a>, <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#aa40d55750e2193d714eb1470505c47ee">InstanceAttachFileName</a>), <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  228</span>                }</div>
<div class="line"><span class="lineno">  229</span>                <span class="keywordflow">catch</span></div>
<div class="line"><span class="lineno">  230</span>                {</div>
<div class="line"><span class="lineno">  231</span>                    <span class="comment">// oh shit delete the model</span></div>
<div class="line"><span class="lineno">  232</span>                    <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a>.Remove(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a>);</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>                    <span class="comment">// DCT: Operation must always run</span></div>
<div class="line"><span class="lineno">  235</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(CancellationToken.None);</div>
<div class="line"><span class="lineno">  236</span>                    <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  237</span>                }</div>
<div class="line"><span class="lineno">  238</span>            }</div>
<div class="line"><span class="lineno">  239</span>            <span class="keywordflow">catch</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">IOException</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">e</a>)</div>
<div class="line"><span class="lineno">  240</span>            {</div>
<div class="line"><span class="lineno">  241</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.IOError)</div>
<div class="line"><span class="lineno">  242</span>                {</div>
<div class="line"><span class="lineno">  243</span>                    AdditionalData = e.Message,</div>
<div class="line"><span class="lineno">  244</span>                });</div>
<div class="line"><span class="lineno">  245</span>            }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>            <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#ae5655868c2b2b913046ecf61934ce119">Logger</a>.LogInformation(</div>
<div class="line"><span class="lineno">  248</span>                <span class="stringliteral">&quot;{userName} {attachedOrCreated} instance {instanceName}: {instanceId} ({instancePath})&quot;</span>,</div>
<div class="line"><span class="lineno">  249</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#a0846ac9679599a99923987863edb0d5c">User</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_user_name.html#a74805e22cab51569d1d1aa098d62c9d3">Name</a>,</div>
<div class="line"><span class="lineno">  250</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attached</a> ? <span class="stringliteral">&quot;attached&quot;</span> : <span class="stringliteral">&quot;created&quot;</span>,</div>
<div class="line"><span class="lineno">  251</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a>.Name,</div>
<div class="line"><span class="lineno">  252</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a>.<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority.html#a6055c0b2bf09442f677be3ed1eb725d5a490aa6e856ccf208a054389e47ce0d06">Id</a>,</div>
<div class="line"><span class="lineno">  253</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a>.Path);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae45aceab65d37ece10acd7eb0fa15b85">permissionsUpdateNotifyee</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html#af74918a720028e721b99f9947fe9fc76">InstancePermissionSetCreated</a>(</div>
<div class="line"><span class="lineno">  256</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a>.InstancePermissionSets.First(),</div>
<div class="line"><span class="lineno">  257</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> api = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newInstance</a>.ToApi();</div>
<div class="line"><span class="lineno">  260</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">api.Accessible</a> = <span class="keyword">true</span>; <span class="comment">// instances are always accessible by their creator</span></div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attached</a> ? Json(api) : <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this</a>.<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#af84b8352b6700778fe097b1b28eb374ca0eceeb45861f9585dd7a97a3e36f85c6">Created</a>(api);</div>
<div class="line"><span class="lineno">  262</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base_html_a5800801459e805f624a4ba0d4f976451"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base.html#a5800801459e805f624a4ba0d4f976451">Tgstation.Server.Api.Models.Internal.ServerInformationBase.ValidInstancePaths</a></div><div class="ttdeci">List&lt; string &gt;? ValidInstancePaths</div><div class="ttdoc">Limits the locations instances may be created or attached from.</div><div class="ttdef"><b>Definition</b> <a href="_server_information_base_8cs_source.html#l00034">ServerInformationBase.cs:34</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base_html_af1beb234779e0c00a3d62fa62f2b177e"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base.html#af1beb234779e0c00a3d62fa62f2b177e">Tgstation.Server.Api.Models.Internal.ServerInformationBase.InstanceLimit</a></div><div class="ttdeci">uint InstanceLimit</div><div class="ttdoc">The maximum number of Instances allowed.</div><div class="ttdef"><b>Definition</b> <a href="_server_information_base_8cs_source.html#l00018">ServerInformationBase.cs:18</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server_html_af98e4f47f1aa632ead02ed80695ce836"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a></div><div class="ttdeci">string? Identifier</div><div class="ttdoc">The server's identifier.</div><div class="ttdef"><b>Definition</b> <a href="_swarm_server_8cs_source.html#l00026">SwarmServer.cs:26</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">Tgstation.Server.Api.Models.Response.ErrorMessageResponse</a></div><div class="ttdoc">Represents an error message returned by the server.</div><div class="ttdef"><b>Definition</b> <a href="_error_message_response_8cs_source.html#l00011">ErrorMessageResponse.cs:12</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_user_name_html_a74805e22cab51569d1d1aa098d62c9d3"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_user_name.html#a74805e22cab51569d1d1aa098d62c9d3">Tgstation.Server.Api.Models.UserName.Name</a></div><div class="ttdeci">override? string Name</div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_api_2_models_2_user_name_8cs_source.html#l00010">UserName.cs:11</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller_html_ae5655868c2b2b913046ecf61934ce119"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#ae5655868c2b2b913046ecf61934ce119">Tgstation.Server.Host.Controllers.ApiController.Logger</a></div><div class="ttdeci">ILogger&lt; ApiController &gt; Logger</div><div class="ttdoc">The ILogger for the ApiController.</div><div class="ttdef"><b>Definition</b> <a href="_api_controller_8cs_source.html#l00071">ApiController.cs:71</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a02be01c6c5cab421a7a0c9f01f213b30"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a02be01c6c5cab421a7a0c9f01f213b30">Tgstation.Server.Host.Controllers.InstanceController.CreateDefaultInstance</a></div><div class="ttdeci">async ValueTask&lt; Models.Instance?&gt; CreateDefaultInstance(InstanceCreateRequest initialSettings, CancellationToken cancellationToken)</div><div class="ttdoc">Creates a default Models.Instance from initialSettings .</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00714">InstanceController.cs:714</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a5b38d5cba6df39071299a0d0c5e71a6d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a5b38d5cba6df39071299a0d0c5e71a6d">Tgstation.Server.Host.Controllers.InstanceController.ValidateCronSetting</a></div><div class="ttdeci">BadRequestObjectResult? ValidateCronSetting(Api.Models.Instance instance)</div><div class="ttdoc">Validates a given instance 's Api.Models.Instance.AutoUpdateCron setting.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00852">InstanceController.cs:852</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a600268a32d5da87b3c80f97d34319366"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a600268a32d5da87b3c80f97d34319366">Tgstation.Server.Host.Controllers.InstanceController.NormalizePath</a></div><div class="ttdeci">string? NormalizePath(string? path)</div><div class="ttdoc">Normalize a given path  for an instance.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00821">InstanceController.cs:821</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_aa40d55750e2193d714eb1470505c47ee"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#aa40d55750e2193d714eb1470505c47ee">Tgstation.Server.Host.Controllers.InstanceController.InstanceAttachFileName</a></div><div class="ttdeci">const string InstanceAttachFileName</div><div class="ttdoc">File name to allow attaching instances.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00047">InstanceController.cs:47</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html_a1bc257ebf1d31bfba7f665d61da5c4a2"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Tgstation.Server.Host.Database.DatabaseContext.Instances</a></div><div class="ttdeci">DbSet&lt; Instance &gt; Instances</div><div class="ttdoc">The Instances in the DatabaseContext.</div><div class="ttdef"><b>Definition</b> <a href="_database_context_8cs_source.html#l00034">DatabaseContext.cs:34</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html_ac2e88d53bf1b6ac87d175d83ed39da7c"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Tgstation.Server.Host.Database.DatabaseContext.Save</a></div><div class="ttdeci">Task Save(CancellationToken cancellationToken)</div><div class="ttdoc">Saves changes made to the IDatabaseContext.A Task representing the running operation.</div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager.html">Tgstation.Server.Host.IO.DefaultIOManager</a></div><div class="ttdoc">IIOManager that resolves paths to Environment.CurrentDirectory.</div><div class="ttdef"><b>Definition</b> <a href="_default_i_o_manager_8cs_source.html#l00016">DefaultIOManager.cs:17</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager_html_a984a32ee93a073036f63d543ad9a6cdd"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager.html#a984a32ee93a073036f63d543ad9a6cdd">Tgstation.Server.Host.IO.DefaultIOManager.CurrentDirectory</a></div><div class="ttdeci">const string CurrentDirectory</div><div class="ttdoc">Path to the current working directory for the IIOManager.</div><div class="ttdef"><b>Definition</b> <a href="_default_i_o_manager_8cs_source.html#l00021">DefaultIOManager.cs:21</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_html_a0846ac9679599a99923987863edb0d5c"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#a0846ac9679599a99923987863edb0d5c">Tgstation.Server.Host.Security.AuthenticationContext.User</a></div><div class="ttdeci">User User</div><div class="ttdoc">The authenticated user.</div><div class="ttdef"><b>Definition</b> <a href="_authentication_context_8cs_source.html#l00016">AuthenticationContext.cs:16</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a0749e071c50bd39000bb7db1d02fc2e3"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0749e071c50bd39000bb7db1d02fc2e3">Tgstation.Server.Host.IO.IIOManager.GetFiles</a></div><div class="ttdeci">Task&lt; IReadOnlyList&lt; string &gt; &gt; GetFiles(string path, CancellationToken cancellationToken)</div><div class="ttdoc">Returns full file names in a given path .</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a0d9526a8d840f2c00cb203bdebdcb994"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0d9526a8d840f2c00cb203bdebdcb994">Tgstation.Server.Host.IO.IIOManager.PathIsChildOf</a></div><div class="ttdeci">Task&lt; bool &gt; PathIsChildOf(string parentPath, string childPath, CancellationToken cancellationToken)</div><div class="ttdoc">Check if a given parentPath  is a parent of a given parentPath .</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a286f4eb5c679683b7e519847a6c3574e"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">Tgstation.Server.Host.IO.IIOManager.ConcatPath</a></div><div class="ttdeci">string ConcatPath(params string[] paths)</div><div class="ttdoc">Combines an array of strings into a path.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a39ebf958ad54ba63a6b74a1d4d75a6f2"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a39ebf958ad54ba63a6b74a1d4d75a6f2">Tgstation.Server.Host.IO.IIOManager.GetDirectories</a></div><div class="ttdeci">Task&lt; IReadOnlyList&lt; string &gt; &gt; GetDirectories(string path, CancellationToken cancellationToken)</div><div class="ttdoc">Returns full directory names in a given path .</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a69aa1b9dbeb6af3744e568095c4376e7"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a69aa1b9dbeb6af3744e568095c4376e7">Tgstation.Server.Host.IO.IIOManager.CreateDirectory</a></div><div class="ttdeci">Task CreateDirectory(string path, CancellationToken cancellationToken)</div><div class="ttdoc">Create a directory at path .</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a6ca322ea63f5693487917c1ee71c707a"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a">Tgstation.Server.Host.IO.IIOManager.DeleteFile</a></div><div class="ttdeci">Task DeleteFile(string path, CancellationToken cancellationToken)</div><div class="ttdoc">Deletes a file at path .</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_ad4de873180481f7afa206b6282158d62"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62">Tgstation.Server.Host.IO.IIOManager.FileExists</a></div><div class="ttdeci">Task&lt; bool &gt; FileExists(string path, CancellationToken cancellationToken)</div><div class="ttdoc">Check that the file at path  exists.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_aeae08438da658a3c0afddbb7960e4faa"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa">Tgstation.Server.Host.IO.IIOManager.DirectoryExists</a></div><div class="ttdeci">Task&lt; bool &gt; DirectoryExists(string path, CancellationToken cancellationToken)</div><div class="ttdoc">Check that the directory at path  exists.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee_html_af74918a720028e721b99f9947fe9fc76"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html#af74918a720028e721b99f9947fe9fc76">Tgstation.Server.Host.Security.IPermissionsUpdateNotifyee.InstancePermissionSetCreated</a></div><div class="ttdeci">ValueTask InstancePermissionSetCreated(InstancePermissionSet instancePermissionSet, CancellationToken cancellationToken)</div><div class="ttdoc">Called when a given instancePermissionSet  is successfully created.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_a1a6adb59dd51244efabf4e548e7075c8"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">Tgstation.Server.Api.Models.ErrorCode</a></div><div class="ttdeci">ErrorCode</div><div class="ttdoc">Types of Response.ErrorMessageResponses that the API may return.</div><div class="ttdef"><b>Definition</b> <a href="_error_code_8cs_source.html#l00011">ErrorCode.cs:12</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core_html_a0014d9d38ddef55b17fc52f0e4bd071ca9edf8fbf00a57d95a0af4923c9a1ec6f"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca9edf8fbf00a57d95a0af4923c9a1ec6f">Tgstation.Server.Host.Authority.Core.HttpFailureResponse.BadRequest</a></div><div class="ttdeci">@ BadRequest</div><div class="ttdoc">HTTP 400.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core_html_a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Tgstation.Server.Host.Authority.Core.HttpFailureResponse.Conflict</a></div><div class="ttdeci">@ Conflict</div><div class="ttdoc">HTTP 409.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core_html_af84b8352b6700778fe097b1b28eb374ca0eceeb45861f9585dd7a97a3e36f85c6"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#af84b8352b6700778fe097b1b28eb374ca0eceeb45861f9585dd7a97a3e36f85c6">Tgstation.Server.Host.Authority.Core.HttpSuccessResponse.Created</a></div><div class="ttdeci">@ Created</div><div class="ttdoc">HTTP 201.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_authority_html_a6055c0b2bf09442f677be3ed1eb725d5a490aa6e856ccf208a054389e47ce0d06"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_authority.html#a6055c0b2bf09442f677be3ed1eb725d5a490aa6e856ccf208a054389e47ce0d06">Tgstation.Server.Host.Authority.PermissionSetLookupType.Id</a></div><div class="ttdeci">@ Id</div><div class="ttdoc">Lookup the Api.Models.EntityId.Id of the Models.PermissionSet.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">Tgstation.Server.Host.IO.IIOManager.ConcatPath()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00714">Tgstation.Server.Host.Controllers.InstanceController.CreateDefaultInstance()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a69aa1b9dbeb6af3744e568095c4376e7">Tgstation.Server.Host.IO.IIOManager.CreateDirectory()</a>, <a class="el" href="_default_i_o_manager_8cs_source.html#l00021">Tgstation.Server.Host.IO.DefaultIOManager.CurrentDirectory</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a">Tgstation.Server.Host.IO.IIOManager.DeleteFile()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa">Tgstation.Server.Host.IO.IIOManager.DirectoryExists()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62">Tgstation.Server.Host.IO.IIOManager.FileExists()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00077">Tgstation.Server.Host.Controllers.InstanceController.generalConfiguration</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a39ebf958ad54ba63a6b74a1d4d75a6f2">Tgstation.Server.Host.IO.IIOManager.GetDirectories()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0749e071c50bd39000bb7db1d02fc2e3">Tgstation.Server.Host.IO.IIOManager.GetFiles()</a>, <a class="el" href="_swarm_server_8cs_source.html#l00026">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_instance_controller_8cs_source.html#l00047">Tgstation.Server.Host.Controllers.InstanceController.InstanceAttachFileName</a>, <a class="el" href="_server_information_base_8cs_source.html#l00018">Tgstation.Server.Api.Models.Internal.ServerInformationBase.InstanceLimit</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html#af74918a720028e721b99f9947fe9fc76">Tgstation.Server.Host.Security.IPermissionsUpdateNotifyee.InstancePermissionSetCreated()</a>, <a class="el" href="_database_context_8cs_source.html#l00034">Tgstation.Server.Host.Database.DatabaseContext.Instances</a>, <a class="el" href="_instance_controller_8cs_source.html#l00057">Tgstation.Server.Host.Controllers.InstanceController.ioManager</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_api_controller_8cs_source.html#l00071">Tgstation.Server.Host.Controllers.ApiController.Logger</a>, <a class="el" href="_tgstation_8_server_8_api_2_models_2_user_name_8cs_source.html#l00011">Tgstation.Server.Api.Models.UserName.Name</a>, <a class="el" href="_instance_controller_8cs_source.html#l00821">Tgstation.Server.Host.Controllers.InstanceController.NormalizePath()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0d9526a8d840f2c00cb203bdebdcb994">Tgstation.Server.Host.IO.IIOManager.PathIsChildOf()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00072">Tgstation.Server.Host.Controllers.InstanceController.permissionsUpdateNotifyee</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Tgstation.Server.Host.Database.DatabaseContext.Save()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>, <a class="el" href="_authentication_context_8cs_source.html#l00016">Tgstation.Server.Host.Security.AuthenticationContext.User</a>, <a class="el" href="_instance_controller_8cs_source.html#l00852">Tgstation.Server.Host.Controllers.InstanceController.ValidateCronSetting()</a>, and <a class="el" href="_server_information_base_8cs_source.html#l00034">Tgstation.Server.Api.Models.Internal.ServerInformationBase.ValidInstancePaths</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ab462ce6aa240b963c67cab7d20927060_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ab462ce6aa240b963c67cab7d20927060_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ab462ce6aa240b963c67cab7d20927060_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ab462ce6aa240b963c67cab7d20927060_cgraph">
<area shape="rect" title="Create or attach an Api.Models.Instance." alt="" coords="5,397,221,438"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e" title="Combines an array of strings into a path." alt="" coords="314,5,482,46"/>
<area shape="poly" title=" " alt="" coords="114,396,126,331,153,239,173,190,198,141,229,96,267,57,298,38,301,43,270,61,233,99,203,144,178,192,158,241,132,332,120,397"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a02be01c6c5cab421a7a0c9f01f213b30" title="Creates a default Models.Instance from initialSettings ." alt="" coords="269,71,527,111"/>
<area shape="poly" title=" " alt="" coords="117,396,133,341,162,267,182,227,206,189,234,153,267,122,274,117,277,121,270,126,238,157,210,192,186,230,166,269,138,343,122,398"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a69aa1b9dbeb6af3744e568095c4376e7" title="Create a directory at path ." alt="" coords="307,136,489,177"/>
<area shape="poly" title=" " alt="" coords="120,396,140,352,171,296,214,237,239,211,267,187,292,174,294,178,270,192,243,214,218,241,176,298,144,354,125,398"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a" title="Deletes a file at path ." alt="" coords="314,201,482,242"/>
<area shape="poly" title=" " alt="" coords="126,396,182,325,222,286,267,253,298,238,301,243,270,257,225,290,186,329,130,399"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa" title="Check that the directory at path &#160;exists." alt="" coords="309,267,487,307"/>
<area shape="poly" title=" " alt="" coords="140,395,197,356,268,318,293,308,295,313,270,323,200,360,143,399"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62" title="Check that the file at path &#160;exists." alt="" coords="314,332,482,373"/>
<area shape="poly" title=" " alt="" coords="204,394,298,372,300,378,205,399"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a39ebf958ad54ba63a6b74a1d4d75a6f2" title="Returns full directory names in a given path ." alt="" coords="310,397,486,438"/>
<area shape="poly" title=" " alt="" coords="221,415,295,415,295,420,221,420"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0749e071c50bd39000bb7db1d02fc2e3" title="Returns full file names in a given path ." alt="" coords="314,463,482,503"/>
<area shape="poly" title=" " alt="" coords="205,436,300,458,298,463,204,441"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html#af74918a720028e721b99f9947fe9fc76" title="Called when a given instancePermissionSet &#160;is successfully created." alt="" coords="278,527,518,583"/>
<area shape="poly" title=" " alt="" coords="144,436,200,474,270,513,284,519,282,524,267,517,198,479,141,441"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a600268a32d5da87b3c80f97d34319366" title="Normalize a given path &#160;for an instance." alt="" coords="290,607,506,647"/>
<area shape="poly" title=" " alt="" coords="129,437,151,471,183,514,223,557,270,593,279,598,276,602,267,597,220,561,179,517,147,474,124,440"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a0d9526a8d840f2c00cb203bdebdcb994" title="Check if a given parentPath &#160;is a parent of a given parentPath ." alt="" coords="311,672,485,713"/>
<area shape="poly" title=" " alt="" coords="124,437,143,483,174,543,216,605,242,633,270,657,298,672,295,677,267,661,238,637,212,608,169,546,138,486,119,440"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c" title="Saves changes made to the IDatabaseContext.A Task representing the running operation." alt="" coords="294,737,502,778"/>
<area shape="poly" title=" " alt="" coords="121,438,136,495,165,572,185,613,209,653,237,690,270,722,282,730,279,735,267,726,233,694,204,656,180,616,160,574,131,497,116,439"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a5b38d5cba6df39071299a0d0c5e71a6d" title="Validates a given instance &#39;s Api.Models.Instance.AutoUpdateCron setting." alt="" coords="276,803,520,843"/>
<area shape="poly" title=" " alt="" coords="119,438,131,505,156,600,176,651,201,701,232,748,270,788,276,792,272,796,267,792,228,751,197,704,171,653,151,602,125,507,114,439"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f" title="Gets a port not currently in use by TGS." alt="" coords="625,39,826,79"/>
<area shape="poly" title=" " alt="" coords="527,76,609,68,610,73,527,81"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960" title="Generate an InstancePermissionSet with full rights." alt="" coords="575,104,876,145"/>
<area shape="poly" title=" " alt="" coords="527,101,560,105,560,110,527,107"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098" title="Normalize a path for consistency." alt="" coords="620,575,831,615"/>
<area shape="poly" title=" " alt="" coords="506,614,604,604,605,609,506,619"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a18a442b5dff16f5e7a730ec354e81d78" title="Retrieve the full path of the current working directory." alt="" coords="642,640,809,681"/>
<area shape="poly" title=" " alt="" coords="506,635,627,648,626,653,506,641"/>
</map>
</div>

</div>
</div>
<a id="a02be01c6c5cab421a7a0c9f01f213b30" name="a02be01c6c5cab421a7a0c9f01f213b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02be01c6c5cab421a7a0c9f01f213b30">&#9670;&#160;</a></span>CreateDefaultInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance.html">Models.Instance</a>?&gt; Tgstation.Server.Host.Controllers.InstanceController.CreateDefaultInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_request_1_1_instance_create_request.html">InstanceCreateRequest</a>&#160;</td>
          <td class="paramname"><em>initialSettings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a default Models.Instance from <em>initialSettings</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initialSettings</td><td>The InstanceCreateRequest.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the new Models.Instance or <code><a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">null</a></code> if ports could not be allocated.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00714">714</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  715</span>        {</div>
<div class="line"><span class="lineno">  716</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ddPort</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f">GetAvailablePort</a>(1024, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  717</span>            <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ddPort</a>.HasValue)</div>
<div class="line"><span class="lineno">  718</span>                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>            <span class="comment">// try to use the old default if possible</span></div>
<div class="line"><span class="lineno">  721</span>            <span class="keyword">const</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ushort</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DefaultDreamDaemonPort</a> = 1337;</div>
<div class="line"><span class="lineno">  722</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ddPort</a>.Value &lt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DefaultDreamDaemonPort</a>)</div>
<div class="line"><span class="lineno">  723</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ddPort</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f">GetAvailablePort</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DefaultDreamDaemonPort</a>, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>) ?? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ddPort</a>;</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>            <span class="keyword">const</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ushort</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DefaultApiValidationPort</a> = 1339;</div>
<div class="line"><span class="lineno">  726</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dmPort</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a></div>
<div class="line"><span class="lineno">  727</span>                .<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f">GetAvailablePort</a>(</div>
<div class="line"><span class="lineno">  728</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Math</a>.Min((<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ushort</a>)(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ddPort</a>.Value + 1), <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DefaultApiValidationPort</a>),</div>
<div class="line"><span class="lineno">  729</span>                    <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  730</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  731</span>            <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dmPort</a>.HasValue)</div>
<div class="line"><span class="lineno">  732</span>                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>            <span class="comment">// try to use the old default if possible</span></div>
<div class="line"><span class="lineno">  735</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dmPort</a> &lt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DefaultApiValidationPort</a>)</div>
<div class="line"><span class="lineno">  736</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dmPort</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a61dbab212a95b16ad876b7c5f8dd51c5">portAllocator</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f">GetAvailablePort</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">DefaultApiValidationPort</a>, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>) ?? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dmPort</a>;</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Models.Instance</a></div>
<div class="line"><span class="lineno">  739</span>            {</div>
<div class="line"><span class="lineno">  740</span>                <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ab7bc96f211e450615be8669d10de2440">ConfigurationType</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">initialSettings.ConfigurationType</a> ?? <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ab7bc96f211e450615be8669d10de2440">ConfigurationType</a>.Disallowed,</div>
<div class="line"><span class="lineno">  741</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_daemon_settings.html">DreamDaemonSettings</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_daemon_settings.html">DreamDaemonSettings</a></div>
<div class="line"><span class="lineno">  742</span>                {</div>
<div class="line"><span class="lineno">  743</span>                    AllowWebClient = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  744</span>                    AutoStart = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  745</span>                    Port = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ddPort</a>,</div>
<div class="line"><span class="lineno">  746</span>                    OpenDreamTopicPort = 0,</div>
<div class="line"><span class="lineno">  747</span>                    SecurityLevel = <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad4850e6b78816679602b13d63d2869b5">DreamDaemonSecurity</a>.Safe,</div>
<div class="line"><span class="lineno">  748</span>                    Visibility = <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a2ca30004669a0f022b39b67d21ac976c">DreamDaemonVisibility</a>.Public,</div>
<div class="line"><span class="lineno">  749</span>                    StartupTimeout = 60,</div>
<div class="line"><span class="lineno">  750</span>                    HealthCheckSeconds = 60,</div>
<div class="line"><span class="lineno">  751</span>                    DumpOnHealthCheckRestart = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  752</span>                    TopicRequestTimeout = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a4f60f72c082a222a31383dbfceb755a6">generalConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a51431792c5538add1bdad55e499a4971">ByondTopicTimeout</a>,</div>
<div class="line"><span class="lineno">  753</span>                    AdditionalParameters = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">String</a>.Empty,</div>
<div class="line"><span class="lineno">  754</span>                    StartProfiler = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  755</span>                    LogOutput = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  756</span>                    MapThreads = 0,</div>
<div class="line"><span class="lineno">  757</span>                    Minidumps = <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno">  758</span>                },</div>
<div class="line"><span class="lineno">  759</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_maker_settings.html">DreamMakerSettings</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_maker_settings.html">DreamMakerSettings</a></div>
<div class="line"><span class="lineno">  760</span>                {</div>
<div class="line"><span class="lineno">  761</span>                    ApiValidationPort = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dmPort</a>,</div>
<div class="line"><span class="lineno">  762</span>                    ApiValidationSecurityLevel = <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad4850e6b78816679602b13d63d2869b5">DreamDaemonSecurity</a>.Safe,</div>
<div class="line"><span class="lineno">  763</span>                    <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ae758c5cd6d61f61a7dc4b6f3c7000b52">DMApiValidationMode</a> = <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ae758c5cd6d61f61a7dc4b6f3c7000b52">DMApiValidationMode</a>.Required,</div>
<div class="line"><span class="lineno">  764</span>                    Timeout = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">TimeSpan</a>.FromHours(1),</div>
<div class="line"><span class="lineno">  765</span>                    CompilerAdditionalArguments = <span class="keyword">null</span>,</div>
<div class="line"><span class="lineno">  766</span>                },</div>
<div class="line"><span class="lineno">  767</span>                Name = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">initialSettings</a>.Name,</div>
<div class="line"><span class="lineno">  768</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#abcc98739b8feb9dd6744647f287e0683a54f664c70c22054ea0d8d26fc3997ce7">Online</a> = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  769</span>                Path = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">initialSettings</a>.Path,</div>
<div class="line"><span class="lineno">  770</span>                AutoUpdateInterval = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">initialSettings.AutoUpdateInterval</a> ?? 0,</div>
<div class="line"><span class="lineno">  771</span>                AutoUpdateCron = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">initialSettings.AutoUpdateCron</a> ?? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">String</a>.Empty,</div>
<div class="line"><span class="lineno">  772</span>                ChatBotLimit = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">initialSettings.ChatBotLimit</a> ?? Models.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_maker_settings.html#a256c1b08203234508f11b7fe5e7ef073">Instance</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance.html#a6e95c489b01ba0ca06a8a803e2df9b9f">DefaultChatBotLimit</a>,</div>
<div class="line"><span class="lineno">  773</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_repository_settings.html">RepositorySettings</a> = <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Models.RepositorySettings</a></div>
<div class="line"><span class="lineno">  774</span>                {</div>
<div class="line"><span class="lineno">  775</span>                    CommitterEmail = Components.Repository.Repository.DefaultCommitterEmail,</div>
<div class="line"><span class="lineno">  776</span>                    CommitterName = Components.Repository.Repository.DefaultCommitterName,</div>
<div class="line"><span class="lineno">  777</span>                    PushTestMergeCommits = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  778</span>                    ShowTestMergeCommitters = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  779</span>                    AutoUpdatesKeepTestMerges = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  780</span>                    AutoUpdatesSynchronize = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  781</span>                    PostTestMergeComment = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  782</span>                    CreateGitHubDeployments = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  783</span>                    UpdateSubmodules = <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno">  784</span>                },</div>
<div class="line"><span class="lineno">  785</span>                InstancePermissionSets = <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">List&lt;InstancePermissionSet&gt;</a> <span class="comment">// give this user full privileges on the instance</span></div>
<div class="line"><span class="lineno">  786</span>                {</div>
<div class="line"><span class="lineno">  787</span>                    <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960">InstanceAdminPermissionSet</a>(<span class="keyword">null</span>),</div>
<div class="line"><span class="lineno">  788</span>                },</div>
<div class="line"><span class="lineno">  789</span>                SwarmIdentifer = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>,</div>
<div class="line"><span class="lineno">  790</span>            };</div>
<div class="line"><span class="lineno">  791</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_repository_settings_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_repository_settings.html">Tgstation.Server.Api.Models.RepositorySettings</a></div><div class="ttdoc">Represents configurable settings for a git repository.</div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_api_2_models_2_repository_settings_8cs_source.html#l00008">RepositorySettings.cs:9</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration_html_a51431792c5538add1bdad55e499a4971"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a51431792c5538add1bdad55e499a4971">Tgstation.Server.Host.Configuration.GeneralConfiguration.ByondTopicTimeout</a></div><div class="ttdeci">uint ByondTopicTimeout</div><div class="ttdoc">The timeout in milliseconds for sending and receiving topics to/from DreamDaemon. Note that a single ...</div><div class="ttdef"><b>Definition</b> <a href="_general_configuration_8cs_source.html#l00105">GeneralConfiguration.cs:105</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_a7505e585db1c6dd7fffda95599994960"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960">Tgstation.Server.Host.Controllers.InstanceController.InstanceAdminPermissionSet</a></div><div class="ttdeci">InstancePermissionSet InstanceAdminPermissionSet(InstancePermissionSet? permissionSetToModify)</div><div class="ttdoc">Generate an InstancePermissionSet with full rights.</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00798">InstanceController.cs:798</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_daemon_settings_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_daemon_settings.html">Tgstation.Server.Host.Models.DreamDaemonSettings</a></div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_dream_daemon_settings_8cs_source.html#l00006">DreamDaemonSettings.cs:7</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_maker_settings_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_maker_settings.html">Tgstation.Server.Host.Models.DreamMakerSettings</a></div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_dream_maker_settings_8cs_source.html#l00008">DreamMakerSettings.cs:9</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_maker_settings_html_a256c1b08203234508f11b7fe5e7ef073"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_maker_settings.html#a256c1b08203234508f11b7fe5e7ef073">Tgstation.Server.Host.Models.DreamMakerSettings.Instance</a></div><div class="ttdeci">Instance? Instance</div><div class="ttdoc">The parent Models.Instance.</div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_dream_maker_settings_8cs_source.html#l00024">DreamMakerSettings.cs:24</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_html_a6e95c489b01ba0ca06a8a803e2df9b9f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance.html#a6e95c489b01ba0ca06a8a803e2df9b9f">Tgstation.Server.Host.Models.Instance.DefaultChatBotLimit</a></div><div class="ttdeci">const ushort DefaultChatBotLimit</div><div class="ttdoc">Default for Api.Models.Instance.ChatBotLimit.</div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_instance_8cs_source.html#l00015">Instance.cs:15</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator_html_a5a1124502330220abb9c651d8154499f"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f">Tgstation.Server.Host.Utils.IPortAllocator.GetAvailablePort</a></div><div class="ttdeci">ValueTask&lt; ushort?&gt; GetAvailablePort(ushort basePort, bool checkOne, CancellationToken cancellationToken)</div><div class="ttdoc">Gets a port not currently in use by TGS.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_a2ca30004669a0f022b39b67d21ac976c"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a2ca30004669a0f022b39b67d21ac976c">Tgstation.Server.Api.Models.DreamDaemonVisibility</a></div><div class="ttdeci">DreamDaemonVisibility</div><div class="ttdoc">The visibility setting for DreamDaemon.</div><div class="ttdef"><b>Definition</b> <a href="_dream_daemon_visibility_8cs_source.html#l00006">DreamDaemonVisibility.cs:7</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_ab7bc96f211e450615be8669d10de2440"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ab7bc96f211e450615be8669d10de2440">Tgstation.Server.Api.Models.ConfigurationType</a></div><div class="ttdeci">ConfigurationType</div><div class="ttdoc">The type of configuration allowed on an Instance.</div><div class="ttdef"><b>Definition</b> <a href="_configuration_type_8cs_source.html#l00006">ConfigurationType.cs:7</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_abcc98739b8feb9dd6744647f287e0683a54f664c70c22054ea0d8d26fc3997ce7"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#abcc98739b8feb9dd6744647f287e0683a54f664c70c22054ea0d8d26fc3997ce7">Tgstation.Server.Api.Models.WatchdogStatus.Online</a></div><div class="ttdeci">@ Online</div><div class="ttdoc">The watchdog is online and DreamDaemon is running.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_ad4850e6b78816679602b13d63d2869b5"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad4850e6b78816679602b13d63d2869b5">Tgstation.Server.Api.Models.DreamDaemonSecurity</a></div><div class="ttdeci">DreamDaemonSecurity</div><div class="ttdoc">DreamDaemon's security level.</div><div class="ttdef"><b>Definition</b> <a href="_dream_daemon_security_8cs_source.html#l00006">DreamDaemonSecurity.cs:7</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_ae758c5cd6d61f61a7dc4b6f3c7000b52"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ae758c5cd6d61f61a7dc4b6f3c7000b52">Tgstation.Server.Api.Models.DMApiValidationMode</a></div><div class="ttdeci">DMApiValidationMode</div><div class="ttdoc">The DMAPI validation setting for deployments.</div><div class="ttdef"><b>Definition</b> <a href="_d_m_api_validation_mode_8cs_source.html#l00006">DMApiValidationMode.cs:7</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_general_configuration_8cs_source.html#l00105">Tgstation.Server.Host.Configuration.GeneralConfiguration.ByondTopicTimeout</a>, <a class="el" href="_tgstation_8_server_8_host_2_models_2_instance_8cs_source.html#l00015">Tgstation.Server.Host.Models.Instance.DefaultChatBotLimit</a>, <a class="el" href="_instance_controller_8cs_source.html#l00077">Tgstation.Server.Host.Controllers.InstanceController.generalConfiguration</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f">Tgstation.Server.Host.Utils.IPortAllocator.GetAvailablePort()</a>, <a class="el" href="_swarm_server_8cs_source.html#l00026">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_tgstation_8_server_8_host_2_models_2_dream_maker_settings_8cs_source.html#l00024">Tgstation.Server.Host.Models.DreamMakerSettings.Instance</a>, <a class="el" href="_instance_controller_8cs_source.html#l00798">Tgstation.Server.Host.Controllers.InstanceController.InstanceAdminPermissionSet()</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#abcc98739b8feb9dd6744647f287e0683a54f664c70c22054ea0d8d26fc3997ce7">Tgstation.Server.Api.Models.Online</a>, <a class="el" href="_instance_controller_8cs_source.html#l00067">Tgstation.Server.Host.Controllers.InstanceController.portAllocator</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_cgraph">
<area shape="rect" title="Creates a default Models.Instance from initialSettings ." alt="" coords="5,39,264,79"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html#a5a1124502330220abb9c651d8154499f" title="Gets a port not currently in use by TGS." alt="" coords="362,5,563,46"/>
<area shape="poly" title=" " alt="" coords="264,43,346,35,346,40,264,49"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960" title="Generate an InstancePermissionSet with full rights." alt="" coords="312,71,613,111"/>
<area shape="poly" title=" " alt="" coords="264,69,297,72,296,77,264,74"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a02be01c6c5cab421a7a0c9f01f213b30_icgraph">
<area shape="rect" title="Creates a default Models.Instance from initialSettings ." alt="" coords="269,5,527,46"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ab462ce6aa240b963c67cab7d20927060" title="Create or attach an Api.Models.Instance." alt="" coords="5,5,221,46"/>
<area shape="poly" title=" " alt="" coords="253,28,221,28,221,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="ae67fd03e536f1aaed8d8ad6975192344" name="ae67fd03e536f1aaed8d8ad6975192344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67fd03e536f1aaed8d8ad6975192344">&#9670;&#160;</a></span>Delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt; Tgstation.Server.Host.Controllers.InstanceController.Delete </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach an Api.Models.Instance with the given <em>id</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570" title="The ID of the entity.">EntityId.Id</a> of the instance to detach.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IActionResult</a> of the request.</dd></dl>
<p>&lt;response code="204"&gt;Instance detatched successfully.&lt;/response&gt; &lt;response code="410"&gt;The database entity for the requested instance could not be retrieved. The instance was likely detached.&lt;/response&gt; </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00276">276</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  277</span>        {</div>
<div class="line"><span class="lineno">  278</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  279</span>                .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a></div>
<div class="line"><span class="lineno">  280</span>                .AsQueryable()</div>
<div class="line"><span class="lineno">  281</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id == <span class="keywordtype">id</span> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.SwarmIdentifer == <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>)</div>
<div class="line"><span class="lineno">  282</span>                .FirstOrDefaultAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a> == <span class="keywordflow">default</span>)</div>
<div class="line"><span class="lineno">  284</span>                <span class="keywordflow">return</span> this.<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca0b497b33b1a05057bc1634e607170bf6">Gone</a>();</div>
<div class="line"><span class="lineno">  285</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Online!.Value)</div>
<div class="line"><span class="lineno">  286</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceDetachOnline));</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalPath</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Path!;</div>
<div class="line"><span class="lineno">  289</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attachFileName</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">ConcatPath</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalPath</a>, <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#aa40d55750e2193d714eb1470505c47ee">InstanceAttachFileName</a>);</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  291</span>            {</div>
<div class="line"><span class="lineno">  292</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa">DirectoryExists</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalPath</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>))</div>
<div class="line"><span class="lineno">  293</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a9aeb8b83ea3f4b13a183b6ac55b35a70">WriteAllBytes</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attachFileName</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Array</a>.Empty&lt;<span class="keywordtype">byte</span>&gt;(), <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  294</span>            }</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">catch</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">OperationCanceledException</a>)</div>
<div class="line"><span class="lineno">  296</span>            {</div>
<div class="line"><span class="lineno">  297</span>                <span class="comment">// DCT: Operation must always run</span></div>
<div class="line"><span class="lineno">  298</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a">DeleteFile</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attachFileName</a>, CancellationToken.None);</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  300</span>            }</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  303</span>            {</div>
<div class="line"><span class="lineno">  304</span>                <span class="comment">// yes this is racy af. I hate it</span></div>
<div class="line"><span class="lineno">  305</span>                <span class="comment">// there&#39;s a bug where removing the root instance doesn&#39;t work sometimes</span></div>
<div class="line"><span class="lineno">  306</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  307</span>                    .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#aa72d8f36af92d91080acf1af4d971420">CompileJobs</a></div>
<div class="line"><span class="lineno">  308</span>                    .AsQueryable()</div>
<div class="line"><span class="lineno">  309</span>                    .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Job!.Instance!.Id == <span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno">  310</span>                    .ExecuteDeleteAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  311</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  312</span>                    .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ad98366224f0902e710e86c2834bbc55f">RevInfoTestMerges</a></div>
<div class="line"><span class="lineno">  313</span>                    .AsQueryable()</div>
<div class="line"><span class="lineno">  314</span>                    .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.RevisionInformation.InstanceId == <span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno">  315</span>                    .ExecuteDeleteAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  316</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  317</span>                    .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#af0868b43356117d8cf252ae50c218b38">RevisionInformations</a></div>
<div class="line"><span class="lineno">  318</span>                    .AsQueryable()</div>
<div class="line"><span class="lineno">  319</span>                    .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.InstanceId == <span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno">  320</span>                    .ExecuteDeleteAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a>.Remove(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>);</div>
<div class="line"><span class="lineno">  323</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>); <span class="comment">// cascades everything else</span></div>
<div class="line"><span class="lineno">  324</span>            }</div>
<div class="line"><span class="lineno">  325</span>            <span class="keywordflow">catch</span></div>
<div class="line"><span class="lineno">  326</span>            {</div>
<div class="line"><span class="lineno">  327</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a">DeleteFile</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">attachFileName</a>, CancellationToken.None); <span class="comment">// DCT: Shouldn&#39;t be cancelled</span></div>
<div class="line"><span class="lineno">  328</span>                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  329</span>            }</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">NoContent</a>();</div>
<div class="line"><span class="lineno">  332</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html_aa72d8f36af92d91080acf1af4d971420"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#aa72d8f36af92d91080acf1af4d971420">Tgstation.Server.Host.Database.DatabaseContext.CompileJobs</a></div><div class="ttdeci">DbSet&lt; CompileJob &gt; CompileJobs</div><div class="ttdoc">The CompileJobs in the DatabaseContext.</div><div class="ttdef"><b>Definition</b> <a href="_database_context_8cs_source.html#l00039">DatabaseContext.cs:39</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html_ad98366224f0902e710e86c2834bbc55f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ad98366224f0902e710e86c2834bbc55f">Tgstation.Server.Host.Database.DatabaseContext.RevInfoTestMerges</a></div><div class="ttdeci">DbSet&lt; RevInfoTestMerge &gt; RevInfoTestMerges</div><div class="ttdoc">The RevInfoTestMerges in the DatabaseContext.</div><div class="ttdef"><b>Definition</b> <a href="_database_context_8cs_source.html#l00094">DatabaseContext.cs:94</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html_af0868b43356117d8cf252ae50c218b38"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#af0868b43356117d8cf252ae50c218b38">Tgstation.Server.Host.Database.DatabaseContext.RevisionInformations</a></div><div class="ttdeci">DbSet&lt; RevisionInformation &gt; RevisionInformations</div><div class="ttdoc">The RevisionInformations in the DatabaseContext.</div><div class="ttdef"><b>Definition</b> <a href="_database_context_8cs_source.html#l00044">DatabaseContext.cs:44</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a9aeb8b83ea3f4b13a183b6ac55b35a70"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a9aeb8b83ea3f4b13a183b6ac55b35a70">Tgstation.Server.Host.IO.IIOManager.WriteAllBytes</a></div><div class="ttdeci">ValueTask WriteAllBytes(string path, byte[] contents, CancellationToken cancellationToken)</div><div class="ttdoc">Writes some contents  to a file at path  overwriting previous content.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core_html_a0014d9d38ddef55b17fc52f0e4bd071ca0b497b33b1a05057bc1634e607170bf6"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca0b497b33b1a05057bc1634e607170bf6">Tgstation.Server.Host.Authority.Core.HttpFailureResponse.Gone</a></div><div class="ttdeci">@ Gone</div><div class="ttdoc">HTTP 410.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_database_context_8cs_source.html#l00039">Tgstation.Server.Host.Database.DatabaseContext.CompileJobs</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">Tgstation.Server.Host.IO.IIOManager.ConcatPath()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a">Tgstation.Server.Host.IO.IIOManager.DeleteFile()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa">Tgstation.Server.Host.IO.IIOManager.DirectoryExists()</a>, <a class="el" href="_swarm_server_8cs_source.html#l00026">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_instance_controller_8cs_source.html#l00047">Tgstation.Server.Host.Controllers.InstanceController.InstanceAttachFileName</a>, <a class="el" href="_database_context_8cs_source.html#l00034">Tgstation.Server.Host.Database.DatabaseContext.Instances</a>, <a class="el" href="_instance_controller_8cs_source.html#l00057">Tgstation.Server.Host.Controllers.InstanceController.ioManager</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_database_context_8cs_source.html#l00094">Tgstation.Server.Host.Database.DatabaseContext.RevInfoTestMerges</a>, <a class="el" href="_database_context_8cs_source.html#l00044">Tgstation.Server.Host.Database.DatabaseContext.RevisionInformations</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Tgstation.Server.Host.Database.DatabaseContext.Save()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>, and <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a9aeb8b83ea3f4b13a183b6ac55b35a70">Tgstation.Server.Host.IO.IIOManager.WriteAllBytes()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae67fd03e536f1aaed8d8ad6975192344_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae67fd03e536f1aaed8d8ad6975192344_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae67fd03e536f1aaed8d8ad6975192344_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_ae67fd03e536f1aaed8d8ad6975192344_cgraph">
<area shape="rect" title="Detach an Api.Models.Instance with the given id ." alt="" coords="5,136,221,177"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e" title="Combines an array of strings into a path." alt="" coords="289,5,457,46"/>
<area shape="poly" title=" " alt="" coords="141,133,198,95,267,57,284,49,286,54,270,61,201,100,144,138"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a6ca322ea63f5693487917c1ee71c707a" title="Deletes a file at path ." alt="" coords="289,71,457,111"/>
<area shape="poly" title=" " alt="" coords="196,133,274,113,275,118,197,138"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa" title="Check that the directory at path &#160;exists." alt="" coords="284,136,462,177"/>
<area shape="poly" title=" " alt="" coords="221,154,268,154,268,159,221,159"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c" title="Saves changes made to the IDatabaseContext.A Task representing the running operation." alt="" coords="269,201,477,242"/>
<area shape="poly" title=" " alt="" coords="197,175,275,194,274,200,196,180"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a9aeb8b83ea3f4b13a183b6ac55b35a70" title="Writes some contents &#160;to a file at path &#160;overwriting previous content." alt="" coords="288,267,458,307"/>
<area shape="poly" title=" " alt="" coords="144,175,201,213,270,251,286,258,284,263,267,256,198,218,141,179"/>
</map>
</div>

</div>
</div>
<a id="a16d88c0b757913b42934e82312434633" name="a16d88c0b757913b42934e82312434633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d88c0b757913b42934e82312434633">&#9670;&#160;</a></span>GetId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt; Tgstation.Server.Host.Controllers.InstanceController.GetId </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a specific Api.Models.Instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The instance <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570" title="The ID of the entity.">EntityId.Id</a> to retrieve.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IActionResult</a> of the request.</dd></dl>
<p>&lt;response code="200"&gt;Retrieved Api.Models.Instance successfully.&lt;/response&gt; &lt;response code="410"&gt;The database entity for the requested instance could not be retrieved. The instance was likely detached.&lt;/response&gt; </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00617">617</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  618</span>        {</div>
<div class="line"><span class="lineno">  619</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cantList</a> = !<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a8676d0049c53168324b9103d252710a2">InstanceManagerRights</a>!.Value.HasFlag(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.List);</div>
<div class="line"><span class="lineno">  620</span>            <a class="code hl_class" href="class_i_queryable.html">IQueryable</a>&lt;Models.Instance&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">QueryForUser</a>()</div>
<div class="line"><span class="lineno">  621</span>            {</div>
<div class="line"><span class="lineno">  622</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  623</span>                    .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a></div>
<div class="line"><span class="lineno">  624</span>                    .AsQueryable()</div>
<div class="line"><span class="lineno">  625</span>                    .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id == <span class="keywordtype">id</span> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.SwarmIdentifer == <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>);</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cantList</a>)</div>
<div class="line"><span class="lineno">  628</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a>.Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.InstancePermissionSets);</div>
<div class="line"><span class="lineno">  629</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a>;</div>
<div class="line"><span class="lineno">  630</span>            }</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> instance = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">QueryForUser</a>().FirstOrDefaultAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>            <span class="keywordflow">if</span> (instance == <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  635</span>                <span class="keywordflow">return</span> this.<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca0b497b33b1a05057bc1634e607170bf6">Gone</a>();</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde">ValidateInstanceOnlineStatus</a>(instance))</div>
<div class="line"><span class="lineno">  638</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cantList</a> &amp;&amp; !instance.InstancePermissionSets.Any(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.PermissionSetId == <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.Require(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id)</div>
<div class="line"><span class="lineno">  641</span>                &amp;&amp; (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.RepositoryRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a95336db3db40dbae9701ef6e51240f39">RepositoryRights</a>.None ||</div>
<div class="line"><span class="lineno">  642</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.EngineRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a92ef878d1a367365148110bee95bb311">EngineRights</a>.None ||</div>
<div class="line"><span class="lineno">  643</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.ChatBotRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a580a36a11165b2590be342b45c31ec72">ChatBotRights</a>.None ||</div>
<div class="line"><span class="lineno">  644</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.ConfigurationRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0c">ConfigurationRights</a>.None ||</div>
<div class="line"><span class="lineno">  645</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.DreamDaemonRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#acf2642afce6567c03b79876139a10a49">DreamDaemonRights</a>.None ||</div>
<div class="line"><span class="lineno">  646</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.DreamMakerRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a6aac419b6a793fe07657d96ac48dee5d">DreamMakerRights</a>.None ||</div>
<div class="line"><span class="lineno">  647</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.InstancePermissionSetRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#ac5664dd4d4a0618c0eb53d11e8067352">InstancePermissionSetRights</a>.None)))</div>
<div class="line"><span class="lineno">  648</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Forbid</a>();</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> api = instance.ToApi();</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moveJob</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">QueryForUser</a>()</div>
<div class="line"><span class="lineno">  653</span>                .SelectMany(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Jobs)</div>
<div class="line"><span class="lineno">  654</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; !<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.StoppedAt.HasValue &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.JobCode == <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a7c8f30de4159253ce2ffec51771bed71">JobCode</a>.Move)</div>
<div class="line"><span class="lineno">  655</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.StartedBy!)</div>
<div class="line"><span class="lineno">  656</span>                    .ThenInclude(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.CreatedBy)</div>
<div class="line"><span class="lineno">  657</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Instance)</div>
<div class="line"><span class="lineno">  658</span>                .FirstOrDefaultAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  659</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">api.MoveJob</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moveJob</a>?.ToApi();</div>
<div class="line"><span class="lineno">  660</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5">CheckAccessible</a>(api, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  661</span>            <span class="keywordflow">return</span> Json(api);</div>
<div class="line"><span class="lineno">  662</span>        }</div>
<div class="ttc" id="aclass_i_queryable_html"><div class="ttname"><a href="class_i_queryable.html">IQueryable</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set_html_a8676d0049c53168324b9103d252710a2"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a8676d0049c53168324b9103d252710a2">Tgstation.Server.Api.Models.PermissionSet.InstanceManagerRights</a></div><div class="ttdeci">InstanceManagerRights? InstanceManagerRights</div><div class="ttdoc">The Rights.InstanceManagerRights for the user.</div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00030">PermissionSet.cs:30</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller_html_aba9306ee424759a221509c021cdf0cde"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde">Tgstation.Server.Host.Controllers.ComponentInterfacingController.ValidateInstanceOnlineStatus</a></div><div class="ttdeci">bool ValidateInstanceOnlineStatus(Api.Models.Instance metadata)</div><div class="ttdoc">Corrects discrepencies between the Api.Models.Instance.Online status of IInstances in the database vs...</div><div class="ttdef"><b>Definition</b> <a href="_component_interfacing_controller_8cs_source.html#l00094">ComponentInterfacingController.cs:94</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_html_ae6de3128c5d49b91d7bb8f6f2caf0ed5"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5">Tgstation.Server.Host.Controllers.InstanceController.CheckAccessible</a></div><div class="ttdeci">async ValueTask CheckAccessible(InstanceResponse instanceResponse, CancellationToken cancellationToken)</div><div class="ttdoc">Populate the InstanceResponse.Accessible property of a given instanceResponse .</div><div class="ttdef"><b>Definition</b> <a href="_instance_controller_8cs_source.html#l00838">InstanceController.cs:838</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_a7c8f30de4159253ce2ffec51771bed71"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a7c8f30de4159253ce2ffec51771bed71">Tgstation.Server.Api.Models.JobCode</a></div><div class="ttdeci">JobCode</div><div class="ttdoc">The different types of Response.JobResponse.</div><div class="ttdef"><b>Definition</b> <a href="_job_code_8cs_source.html#l00008">JobCode.cs:9</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a580a36a11165b2590be342b45c31ec72"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a580a36a11165b2590be342b45c31ec72">Tgstation.Server.Api.Rights.ChatBotRights</a></div><div class="ttdeci">ChatBotRights</div><div class="ttdoc">Rights for chat bots.</div><div class="ttdef"><b>Definition</b> <a href="_chat_bot_rights_8cs_source.html#l00009">ChatBotRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a691a59767073bc7dff0f17b809d07b0c"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0c">Tgstation.Server.Api.Rights.ConfigurationRights</a></div><div class="ttdeci">ConfigurationRights</div><div class="ttdoc">Rights for Models.IConfigurationFiles.</div><div class="ttdef"><b>Definition</b> <a href="_configuration_rights_8cs_source.html#l00009">ConfigurationRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a6aac419b6a793fe07657d96ac48dee5d"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a6aac419b6a793fe07657d96ac48dee5d">Tgstation.Server.Api.Rights.DreamMakerRights</a></div><div class="ttdeci">DreamMakerRights</div><div class="ttdoc">Rights for deployment.</div><div class="ttdef"><b>Definition</b> <a href="_dream_maker_rights_8cs_source.html#l00009">DreamMakerRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a92ef878d1a367365148110bee95bb311"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a92ef878d1a367365148110bee95bb311">Tgstation.Server.Api.Rights.EngineRights</a></div><div class="ttdeci">EngineRights</div><div class="ttdoc">Rights for engine version management.</div><div class="ttdef"><b>Definition</b> <a href="_engine_rights_8cs_source.html#l00009">EngineRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a95336db3db40dbae9701ef6e51240f39"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a95336db3db40dbae9701ef6e51240f39">Tgstation.Server.Api.Rights.RepositoryRights</a></div><div class="ttdeci">RepositoryRights</div><div class="ttdoc">Rights for the git repository.</div><div class="ttdef"><b>Definition</b> <a href="_repository_rights_8cs_source.html#l00009">RepositoryRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_ac5664dd4d4a0618c0eb53d11e8067352"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#ac5664dd4d4a0618c0eb53d11e8067352">Tgstation.Server.Api.Rights.InstancePermissionSetRights</a></div><div class="ttdeci">InstancePermissionSetRights</div><div class="ttdoc">Rights for an Models.Instance.</div><div class="ttdef"><b>Definition</b> <a href="_instance_permission_set_rights_8cs_source.html#l00009">InstancePermissionSetRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_acf2642afce6567c03b79876139a10a49"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#acf2642afce6567c03b79876139a10a49">Tgstation.Server.Api.Rights.DreamDaemonRights</a></div><div class="ttdeci">DreamDaemonRights</div><div class="ttdoc">Rights for managing DreamDaemon.</div><div class="ttdef"><b>Definition</b> <a href="_dream_daemon_rights_8cs_source.html#l00009">DreamDaemonRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_af199a84ed6fe6ca557db9de91070ad79"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">Tgstation.Server.Api.Rights.InstanceManagerRights</a></div><div class="ttdeci">InstanceManagerRights</div><div class="ttdoc">Rights for managing Models.Instances.</div><div class="ttdef"><b>Definition</b> <a href="_instance_manager_rights_8cs_source.html#l00009">InstanceManagerRights.cs:10</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_instance_controller_8cs_source.html#l00838">Tgstation.Server.Host.Controllers.InstanceController.CheckAccessible()</a>, <a class="el" href="_swarm_server_8cs_source.html#l00026">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00030">Tgstation.Server.Api.Models.PermissionSet.InstanceManagerRights</a>, <a class="el" href="_database_context_8cs_source.html#l00034">Tgstation.Server.Host.Database.DatabaseContext.Instances</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_authentication_context_8cs_source.html#l00019">Tgstation.Server.Host.Security.AuthenticationContext.PermissionSet</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Tgstation.Server.Host.Database.DatabaseContext.Save()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>, and <a class="el" href="_component_interfacing_controller_8cs_source.html#l00094">Tgstation.Server.Host.Controllers.ComponentInterfacingController.ValidateInstanceOnlineStatus()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a16d88c0b757913b42934e82312434633_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a16d88c0b757913b42934e82312434633_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a16d88c0b757913b42934e82312434633_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a16d88c0b757913b42934e82312434633_cgraph">
<area shape="rect" title="Get a specific Api.Models.Instance." alt="" coords="5,71,221,111"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5" title="Populate the InstanceResponse.Accessible property of a given instanceResponse ." alt="" coords="280,5,511,46"/>
<area shape="poly" title=" " alt="" coords="203,67,289,47,290,53,205,73"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c" title="Saves changes made to the IDatabaseContext.A Task representing the running operation." alt="" coords="291,71,500,111"/>
<area shape="poly" title=" " alt="" coords="221,88,276,88,276,94,221,94"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde" title="Corrects discrepencies between the Api.Models.Instance.Online status of IInstances in the database vs..." alt="" coords="269,135,522,191"/>
<area shape="poly" title=" " alt="" coords="196,109,270,128,268,133,195,115"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html#ac2e926ff84623c496393880b5a8ada61" title="Get the IInstanceReference associated with given metadata ." alt="" coords="570,143,828,183"/>
<area shape="poly" title=" " alt="" coords="523,160,554,160,554,166,523,166"/>
</map>
</div>

</div>
</div>
<a id="aff1ddb6e7b8f7a52a29dbcc3c48b1aa3" name="aff1ddb6e7b8f7a52a29dbcc3c48b1aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1ddb6e7b8f7a52a29dbcc3c48b1aa3">&#9670;&#160;</a></span>GrantPermissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt; Tgstation.Server.Host.Controllers.InstanceController.GrantPermissions </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gives the current user full permissions on a given instance <em>id</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The instance <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570" title="The ID of the entity.">EntityId.Id</a> to give permissions on.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IActionResult</a> of the request.</dd></dl>
<p>&lt;response code="204"&gt;Granted permissions successfully.&lt;/response&gt; </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00675">675</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  676</span>        {</div>
<div class="line"><span class="lineno">  677</span>            <a class="code hl_class" href="class_i_queryable.html">IQueryable</a>&lt;Models.Instance&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">BaseQuery</a>() =&gt; <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  678</span>                .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a></div>
<div class="line"><span class="lineno">  679</span>                .AsQueryable()</div>
<div class="line"><span class="lineno">  680</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id == <span class="keywordtype">id</span> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.SwarmIdentifer == <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>);</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>            <span class="comment">// ensure the current user has write privilege on the instance</span></div>
<div class="line"><span class="lineno">  683</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">usersInstancePermissionSet</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">BaseQuery</a>()</div>
<div class="line"><span class="lineno">  684</span>                .SelectMany(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.InstancePermissionSets)</div>
<div class="line"><span class="lineno">  685</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.PermissionSetId == <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a7dd58fdca2eaeb82ceb474bc22b36a47">Id</a>)</div>
<div class="line"><span class="lineno">  686</span>                .FirstOrDefaultAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  687</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">usersInstancePermissionSet</a> == <span class="keywordflow">default</span>)</div>
<div class="line"><span class="lineno">  688</span>            {</div>
<div class="line"><span class="lineno">  689</span>                <span class="comment">// does the instance actually exist?</span></div>
<div class="line"><span class="lineno">  690</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceExists</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">BaseQuery</a>()</div>
<div class="line"><span class="lineno">  691</span>                    .AnyAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>                <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceExists</a>)</div>
<div class="line"><span class="lineno">  694</span>                    <span class="keywordflow">return</span> this.<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca0b497b33b1a05057bc1634e607170bf6">Gone</a>();</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceAdminUser</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960">InstanceAdminPermissionSet</a>(<span class="keyword">null</span>);</div>
<div class="line"><span class="lineno">  697</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceAdminUser.InstanceId</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">id</a>;</div>
<div class="line"><span class="lineno">  698</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a901489c5ed1c32ef2c745ecd93440892">InstancePermissionSets</a>.Add(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceAdminUser</a>);</div>
<div class="line"><span class="lineno">  699</span>            }</div>
<div class="line"><span class="lineno">  700</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  701</span>                <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960">InstanceAdminPermissionSet</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">usersInstancePermissionSet</a>);</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">NoContent</a>();</div>
<div class="line"><span class="lineno">  706</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00015">Tgstation.Server.Api.Models.PermissionSet.Id</a>, <a class="el" href="_swarm_server_8cs_source.html#l00026">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_instance_controller_8cs_source.html#l00798">Tgstation.Server.Host.Controllers.InstanceController.InstanceAdminPermissionSet()</a>, <a class="el" href="_database_context_8cs_source.html#l00069">Tgstation.Server.Host.Database.DatabaseContext.InstancePermissionSets</a>, <a class="el" href="_database_context_8cs_source.html#l00034">Tgstation.Server.Host.Database.DatabaseContext.Instances</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_authentication_context_8cs_source.html#l00019">Tgstation.Server.Host.Security.AuthenticationContext.PermissionSet</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Tgstation.Server.Host.Database.DatabaseContext.Save()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_aff1ddb6e7b8f7a52a29dbcc3c48b1aa3_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_aff1ddb6e7b8f7a52a29dbcc3c48b1aa3_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_aff1ddb6e7b8f7a52a29dbcc3c48b1aa3_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_aff1ddb6e7b8f7a52a29dbcc3c48b1aa3_cgraph">
<area shape="rect" title="Gives the current user full permissions on a given instance id ." alt="" coords="5,39,239,79"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a7505e585db1c6dd7fffda95599994960" title="Generate an InstancePermissionSet with full rights." alt="" coords="287,5,588,46"/>
<area shape="poly" title=" " alt="" coords="239,44,271,41,271,46,240,49"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c" title="Saves changes made to the IDatabaseContext.A Task representing the running operation." alt="" coords="333,71,542,111"/>
<area shape="poly" title=" " alt="" coords="240,68,318,76,317,82,239,74"/>
</map>
</div>

</div>
</div>
<a id="a7505e585db1c6dd7fffda95599994960" name="a7505e585db1c6dd7fffda95599994960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7505e585db1c6dd7fffda95599994960">&#9670;&#160;</a></span>InstanceAdminPermissionSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_permission_set.html">InstancePermissionSet</a> Tgstation.Server.Host.Controllers.InstanceController.InstanceAdminPermissionSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_permission_set.html">InstancePermissionSet</a>?&#160;</td>
          <td class="paramname"><em>permissionSetToModify</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate an <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a7b02c8c3dadd90810a9eaa24712a0a20ad81d61279ed6bcd6d53927ceaf4f24cd" title="InstancePermissionSetRights.">InstancePermissionSet</a> with full rights. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permissionSetToModify</td><td>An optional existing <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a7b02c8c3dadd90810a9eaa24712a0a20ad81d61279ed6bcd6d53927ceaf4f24cd" title="InstancePermissionSetRights.">InstancePermissionSet</a> to update.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><em>permissionSetToModify</em>  or a new <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a7b02c8c3dadd90810a9eaa24712a0a20ad81d61279ed6bcd6d53927ceaf4f24cd" title="InstancePermissionSetRights.">InstancePermissionSet</a> with full rights.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00798">798</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  799</span>        {</div>
<div class="line"><span class="lineno">  800</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify</a> ??= <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_permission_set.html">InstancePermissionSet</a>()</div>
<div class="line"><span class="lineno">  801</span>            {</div>
<div class="line"><span class="lineno">  802</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html">PermissionSet</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>,</div>
<div class="line"><span class="lineno">  803</span>                PermissionSetId = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.Require(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id),</div>
<div class="line"><span class="lineno">  804</span>            };</div>
<div class="line"><span class="lineno">  805</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify.EngineRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a92ef878d1a367365148110bee95bb311">EngineRights</a>&gt;();</div>
<div class="line"><span class="lineno">  806</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify.ChatBotRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a580a36a11165b2590be342b45c31ec72">ChatBotRights</a>&gt;();</div>
<div class="line"><span class="lineno">  807</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify.ConfigurationRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0c">ConfigurationRights</a>&gt;();</div>
<div class="line"><span class="lineno">  808</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify.DreamDaemonRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#acf2642afce6567c03b79876139a10a49">DreamDaemonRights</a>&gt;();</div>
<div class="line"><span class="lineno">  809</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify.DreamMakerRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a6aac419b6a793fe07657d96ac48dee5d">DreamMakerRights</a>&gt;();</div>
<div class="line"><span class="lineno">  810</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify.RepositoryRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a95336db3db40dbae9701ef6e51240f39">RepositoryRights</a>&gt;();</div>
<div class="line"><span class="lineno">  811</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify.InstancePermissionSetRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#ac5664dd4d4a0618c0eb53d11e8067352">InstancePermissionSetRights</a>&gt;();</div>
<div class="line"><span class="lineno">  812</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">permissionSetToModify</a>;</div>
<div class="line"><span class="lineno">  813</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html">Tgstation.Server.Api.Models.PermissionSet</a></div><div class="ttdoc">Represents a set of server permissions.</div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00010">PermissionSet.cs:11</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">Tgstation.Server.Api.Rights.RightsHelper</a></div><div class="ttdoc">Helper for RightsTypes.</div><div class="ttdef"><b>Definition</b> <a href="_rights_helper_8cs_source.html#l00011">RightsHelper.cs:12</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_permission_set_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_instance_permission_set.html">Tgstation.Server.Host.Models.InstancePermissionSet</a></div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_instance_permission_set_8cs_source.html#l00008">InstancePermissionSet.cs:9</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, and <a class="el" href="_authentication_context_8cs_source.html#l00019">Tgstation.Server.Host.Security.AuthenticationContext.PermissionSet</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00714">Tgstation.Server.Host.Controllers.InstanceController.CreateDefaultInstance()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00675">Tgstation.Server.Host.Controllers.InstanceController.GrantPermissions()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a7505e585db1c6dd7fffda95599994960_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a7505e585db1c6dd7fffda95599994960_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a7505e585db1c6dd7fffda95599994960_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a7505e585db1c6dd7fffda95599994960_icgraph">
<area shape="rect" title="Generate an InstancePermissionSet with full rights." alt="" coords="575,39,876,79"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a02be01c6c5cab421a7a0c9f01f213b30" title="Creates a default Models.Instance from initialSettings ." alt="" coords="269,5,527,46"/>
<area shape="poly" title=" " alt="" coords="559,45,527,41,527,36,560,39"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#aff1ddb6e7b8f7a52a29dbcc3c48b1aa3" title="Gives the current user full permissions on a given instance id ." alt="" coords="281,71,515,111"/>
<area shape="poly" title=" " alt="" coords="560,78,515,82,515,77,559,73"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ab462ce6aa240b963c67cab7d20927060" title="Create or attach an Api.Models.Instance." alt="" coords="5,5,221,46"/>
<area shape="poly" title=" " alt="" coords="253,28,221,28,221,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="a98360d756afee2844b21b0936cc050cc" name="a98360d756afee2844b21b0936cc050cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98360d756afee2844b21b0936cc050cc">&#9670;&#160;</a></span>List()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask&lt; IActionResult &gt; Tgstation.Server.Host.Controllers.InstanceController.List </td>
          <td>(</td>
          <td class="paramtype">[FromQuery] int?&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[FromQuery] int?&#160;</td>
          <td class="paramname"><em>pageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List Api.Models.Instances. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>The current page.</td></tr>
    <tr><td class="paramname">pageSize</td><td>The page size.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IActionResult</a> of the request.</dd></dl>
<p>&lt;response code="200"&gt;Retrieved Api.Models.Instances successfully.&lt;/response&gt; </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00549">549</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  553</span>        {</div>
<div class="line"><span class="lineno">  554</span>            <a class="code hl_class" href="class_i_queryable.html">IQueryable</a>&lt;Models.Instance&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">GetBaseQuery</a>()</div>
<div class="line"><span class="lineno">  555</span>            {</div>
<div class="line"><span class="lineno">  556</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  557</span>                    .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a></div>
<div class="line"><span class="lineno">  558</span>                    .AsQueryable()</div>
<div class="line"><span class="lineno">  559</span>                    .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.SwarmIdentifer == <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>);</div>
<div class="line"><span class="lineno">  560</span>                <span class="keywordflow">if</span> (!<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a8676d0049c53168324b9103d252710a2">InstanceManagerRights</a>!.Value.HasFlag(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.List))</div>
<div class="line"><span class="lineno">  561</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a></div>
<div class="line"><span class="lineno">  562</span>                        .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.InstancePermissionSets.Any(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">y</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">y</a>.PermissionSetId == <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a7dd58fdca2eaeb82ceb474bc22b36a47">Id</a>))</div>
<div class="line"><span class="lineno">  563</span>                        .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.InstancePermissionSets.Any(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a> =&gt;</div>
<div class="line"><span class="lineno">  564</span>                            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.EngineRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a92ef878d1a367365148110bee95bb311">EngineRights</a>.None ||</div>
<div class="line"><span class="lineno">  565</span>                            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.ChatBotRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a580a36a11165b2590be342b45c31ec72">ChatBotRights</a>.None ||</div>
<div class="line"><span class="lineno">  566</span>                            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.ConfigurationRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0c">ConfigurationRights</a>.None ||</div>
<div class="line"><span class="lineno">  567</span>                            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.DreamDaemonRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#acf2642afce6567c03b79876139a10a49">DreamDaemonRights</a>.None ||</div>
<div class="line"><span class="lineno">  568</span>                            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.DreamMakerRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a6aac419b6a793fe07657d96ac48dee5d">DreamMakerRights</a>.None ||</div>
<div class="line"><span class="lineno">  569</span>                            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instanceUser</a>.InstancePermissionSetRights != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#ac5664dd4d4a0618c0eb53d11e8067352">InstancePermissionSetRights</a>.None));</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>                <span class="comment">// Hack for EF IAsyncEnumerable BS</span></div>
<div class="line"><span class="lineno">  572</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">query</a>.Select(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>);</div>
<div class="line"><span class="lineno">  573</span>            }</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moveJobs</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">GetBaseQuery</a>()</div>
<div class="line"><span class="lineno">  576</span>                .SelectMany(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Jobs)</div>
<div class="line"><span class="lineno">  577</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; !<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.StoppedAt.HasValue &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.JobCode == <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a7c8f30de4159253ce2ffec51771bed71">JobCode</a>.Move)</div>
<div class="line"><span class="lineno">  578</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.StartedBy!)</div>
<div class="line"><span class="lineno">  579</span>                    .ThenInclude(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.CreatedBy)</div>
<div class="line"><span class="lineno">  580</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Instance)</div>
<div class="line"><span class="lineno">  581</span>                .ToListAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">needsUpdate</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  584</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">result</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Paginated</a>&lt;Models.Instance, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response.html">InstanceResponse</a>&gt;(</div>
<div class="line"><span class="lineno">  585</span>                () =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ValueTask</a>.FromResult(</div>
<div class="line"><span class="lineno">  586</span>                    <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_paginatable_result.html">PaginatableResult&lt;Models.Instance&gt;</a>(</div>
<div class="line"><span class="lineno">  587</span>                        <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">GetBaseQuery</a>()</div>
<div class="line"><span class="lineno">  588</span>                            .<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">OrderBy</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id))),</div>
<div class="line"><span class="lineno">  589</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">async</a> instance =&gt;</div>
<div class="line"><span class="lineno">  590</span>                {</div>
<div class="line"><span class="lineno">  591</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">needsUpdate</a> |= <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde">ValidateInstanceOnlineStatus</a>(instance);</div>
<div class="line"><span class="lineno">  592</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instance.MoveJob</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moveJobs</a>.FirstOrDefault(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Instance!.Id == instance.Id)?.ToApi();</div>
<div class="line"><span class="lineno">  593</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5">CheckAccessible</a>(instance, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  594</span>                },</div>
<div class="line"><span class="lineno">  595</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">page</a>,</div>
<div class="line"><span class="lineno">  596</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">pageSize</a>,</div>
<div class="line"><span class="lineno">  597</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">needsUpdate</a>)</div>
<div class="line"><span class="lineno">  600</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">result</a>;</div>
<div class="line"><span class="lineno">  603</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response.html">Tgstation.Server.Api.Models.Response.InstanceResponse</a></div><div class="ttdoc">Server response for Instances.</div><div class="ttdef"><b>Definition</b> <a href="_instance_response_8cs_source.html#l00006">InstanceResponse.cs:7</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_paginatable_result_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_paginatable_result.html">Tgstation.Server.Host.Controllers.Results.PaginatableResult</a></div><div class="ttdoc">Helper for returning paginated models.</div><div class="ttdef"><b>Definition</b> <a href="_paginatable_result_8cs_source.html#l00013">PaginatableResult.cs:14</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_instance_controller_8cs_source.html#l00838">Tgstation.Server.Host.Controllers.InstanceController.CheckAccessible()</a>, <a class="el" href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00015">Tgstation.Server.Api.Models.PermissionSet.Id</a>, <a class="el" href="_swarm_server_8cs_source.html#l00026">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00030">Tgstation.Server.Api.Models.PermissionSet.InstanceManagerRights</a>, <a class="el" href="_database_context_8cs_source.html#l00034">Tgstation.Server.Host.Database.DatabaseContext.Instances</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_authentication_context_8cs_source.html#l00019">Tgstation.Server.Host.Security.AuthenticationContext.PermissionSet</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Tgstation.Server.Host.Database.DatabaseContext.Save()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>, and <a class="el" href="_component_interfacing_controller_8cs_source.html#l00094">Tgstation.Server.Host.Controllers.ComponentInterfacingController.ValidateInstanceOnlineStatus()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a98360d756afee2844b21b0936cc050cc_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a98360d756afee2844b21b0936cc050cc_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a98360d756afee2844b21b0936cc050cc_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a98360d756afee2844b21b0936cc050cc_cgraph">
<area shape="rect" title="List Api.Models.Instances." alt="" coords="5,71,221,111"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5" title="Populate the InstanceResponse.Accessible property of a given instanceResponse ." alt="" coords="280,5,511,46"/>
<area shape="poly" title=" " alt="" coords="203,67,289,47,290,53,205,73"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c" title="Saves changes made to the IDatabaseContext.A Task representing the running operation." alt="" coords="291,71,500,111"/>
<area shape="poly" title=" " alt="" coords="221,88,276,88,276,94,221,94"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde" title="Corrects discrepencies between the Api.Models.Instance.Online status of IInstances in the database vs..." alt="" coords="269,135,522,191"/>
<area shape="poly" title=" " alt="" coords="196,109,270,128,268,133,195,115"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html#ac2e926ff84623c496393880b5a8ada61" title="Get the IInstanceReference associated with given metadata ." alt="" coords="570,143,828,183"/>
<area shape="poly" title=" " alt="" coords="523,160,554,160,554,166,523,166"/>
</map>
</div>

</div>
</div>
<a id="a600268a32d5da87b3c80f97d34319366" name="a600268a32d5da87b3c80f97d34319366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a600268a32d5da87b3c80f97d34319366">&#9670;&#160;</a></span>NormalizePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">string</a>? Tgstation.Server.Host.Controllers.InstanceController.NormalizePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">string</a>?&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normalize a given <em>path</em>  for an instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to normalize.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The normalized <em>path</em> .</dd></dl>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00821">821</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  822</span>        {</div>
<div class="line"><span class="lineno">  823</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a> == <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  824</span>                <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a18a442b5dff16f5e7a730ec354e81d78">ResolvePath</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a>);</div>
<div class="line"><span class="lineno">  827</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ac62c0b1b0e346409b20c3054d4a8354a">platformIdentifier</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098">NormalizePath</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a>);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">path</a>;</div>
<div class="line"><span class="lineno">  830</span>        }</div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a18a442b5dff16f5e7a730ec354e81d78"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a18a442b5dff16f5e7a730ec354e81d78">Tgstation.Server.Host.IO.IIOManager.ResolvePath</a></div><div class="ttdeci">string ResolvePath()</div><div class="ttdoc">Retrieve the full path of the current working directory.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier_html_a885378549e2e71bda33b550c252e6098"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098">Tgstation.Server.Host.System.IPlatformIdentifier.NormalizePath</a></div><div class="ttdeci">string NormalizePath(string path)</div><div class="ttdoc">Normalize a path for consistency.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_instance_controller_8cs_source.html#l00057">Tgstation.Server.Host.Controllers.InstanceController.ioManager</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098">Tgstation.Server.Host.System.IPlatformIdentifier.NormalizePath()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00062">Tgstation.Server.Host.Controllers.InstanceController.platformIdentifier</a>, and <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a18a442b5dff16f5e7a730ec354e81d78">Tgstation.Server.Host.IO.IIOManager.ResolvePath()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00349">Tgstation.Server.Host.Controllers.InstanceController.Update()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_cgraph">
<area shape="rect" title="Normalize a given path &#160;for an instance." alt="" coords="5,39,221,79"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098" title="Normalize a path for consistency." alt="" coords="269,5,480,46"/>
<area shape="poly" title=" " alt="" coords="221,43,253,38,253,44,221,48"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a18a442b5dff16f5e7a730ec354e81d78" title="Retrieve the full path of the current working directory." alt="" coords="291,71,458,111"/>
<area shape="poly" title=" " alt="" coords="221,70,276,76,275,82,221,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a600268a32d5da87b3c80f97d34319366_icgraph">
<area shape="rect" title="Normalize a given path &#160;for an instance." alt="" coords="269,39,484,79"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ab462ce6aa240b963c67cab7d20927060" title="Create or attach an Api.Models.Instance." alt="" coords="5,5,221,46"/>
<area shape="poly" title=" " alt="" coords="253,46,221,42,221,37,253,41"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a709c5985e78cdb8bde3f705869ddafb9" title="Modify an Api.Models.Instance&#39;s settings." alt="" coords="5,71,221,111"/>
<area shape="poly" title=" " alt="" coords="253,77,221,81,221,75,253,71"/>
</map>
</div>

</div>
</div>
<a id="a709c5985e78cdb8bde3f705869ddafb9" name="a709c5985e78cdb8bde3f705869ddafb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a709c5985e78cdb8bde3f705869ddafb9">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">async</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">ValueTask</a>&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">IActionResult</a> &gt; Tgstation.Server.Host.Controllers.InstanceController.Update </td>
          <td>(</td>
          <td class="paramtype">[FromBody] <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_request_1_1_instance_update_request.html">InstanceUpdateRequest</a>&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modify an Api.Models.Instance's settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The updated Api.Models.Instance settings.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IActionResult</a> of the request.</dd></dl>
<p>&lt;response code="200"&gt;Instance updated successfully.&lt;/response&gt; &lt;response code="202"&gt;Instance updated successfully and relocation job created.&lt;/response&gt; &lt;response code="410"&gt;The database entity for the requested instance could not be retrieved. The instance was likely detached.&lt;/response&gt; </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00349">349</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  350</span>        {</div>
<div class="line"><span class="lineno">  351</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>.ThrowIfNull(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>);</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>            <a class="code hl_class" href="class_i_queryable.html">IQueryable</a>&lt;Models.Instance&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">InstanceQuery</a>() =&gt; <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  354</span>                .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#a1bc257ebf1d31bfba7f665d61da5c4a2">Instances</a></div>
<div class="line"><span class="lineno">  355</span>                .AsQueryable()</div>
<div class="line"><span class="lineno">  356</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id == <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Id &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.SwarmIdentifer == <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a952ce837f434c65e69d35ec886d0fc2d">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>);</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moveJob</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">InstanceQuery</a>()</div>
<div class="line"><span class="lineno">  359</span>                .SelectMany(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Jobs)</div>
<div class="line"><span class="lineno">  360</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; !<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.StoppedAt.HasValue &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.JobCode == <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a7c8f30de4159253ce2ffec51771bed71">JobCode</a>.Move)</div>
<div class="line"><span class="lineno">  361</span>                .Select(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_job.html">Job</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id!.Value))</div>
<div class="line"><span class="lineno">  362</span>                .FirstOrDefaultAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moveJob</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  365</span>            {</div>
<div class="line"><span class="lineno">  366</span>                <span class="comment">// don&#39;t allow them to cancel it if they can&#39;t start it.</span></div>
<div class="line"><span class="lineno">  367</span>                <span class="keywordflow">if</span> (!<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#acfb9937bf37b839f1d60289129c5ea77">PermissionSet</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_permission_set.html#a8676d0049c53168324b9103d252710a2">InstanceManagerRights</a>!.Value.HasFlag(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.Relocate))</div>
<div class="line"><span class="lineno">  368</span>                    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Forbid</a>();</div>
<div class="line"><span class="lineno">  369</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a38f7f9669773242d177345e38be2dd34">jobManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#a5760fe527065407b364e674d2a9eaf1d">CancelJob</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moveJob</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#a0846ac9679599a99923987863edb0d5c">User</a>, <span class="keyword">true</span>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>); <span class="comment">// cancel it now</span></div>
<div class="line"><span class="lineno">  370</span>            }</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">InstanceQuery</a>()</div>
<div class="line"><span class="lineno">  373</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.RepositorySettings)</div>
<div class="line"><span class="lineno">  374</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.ChatSettings)</div>
<div class="line"><span class="lineno">  375</span>                    .ThenInclude(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Channels)</div>
<div class="line"><span class="lineno">  376</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.DreamDaemonSettings) <span class="comment">// need these for onlining</span></div>
<div class="line"><span class="lineno">  377</span>                .FirstOrDefaultAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  378</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a> == <span class="keywordflow">default</span>(Models.Instance))</div>
<div class="line"><span class="lineno">  379</span>                <span class="keywordflow">return</span> this.<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca0b497b33b1a05057bc1634e607170bf6">Gone</a>();</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde">ValidateInstanceOnlineStatus</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>))</div>
<div class="line"><span class="lineno">  382</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">userRights</a> = (<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>)<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#ade8aeb7dd0a0e480f6f89bd5973703c7">GetRight</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a7b02c8c3dadd90810a9eaa24712a0a20">RightsType</a>.InstanceManager);</div>
<div class="line"><span class="lineno">  385</span>            <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CheckModified&lt;T&gt;</a>(Expression&lt;<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Func&lt;Api.Models.Instance, T&gt;</a>&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">expression</a>, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">requiredRight</a>)</div>
<div class="line"><span class="lineno">  386</span>            {</div>
<div class="line"><span class="lineno">  387</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">memberSelectorExpression</a> = (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">MemberExpression</a>)<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">expression</a>.Body;</div>
<div class="line"><span class="lineno">  388</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <span class="keyword">property</span> = (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">PropertyInfo</a>)<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">memberSelectorExpression</a>.Member;</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newVal</a> = <span class="keyword">property</span>.GetValue(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>);</div>
<div class="line"><span class="lineno">  391</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newVal</a> == <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  392</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  393</span>                <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">userRights</a>.HasFlag(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">requiredRight</a>) &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">property</a>.GetValue(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>) != <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newVal</a>)</div>
<div class="line"><span class="lineno">  394</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>                <span class="keyword">property</span>.SetValue(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newVal</a>);</div>
<div class="line"><span class="lineno">  397</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  398</span>            }</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>            <span class="keywordtype">string</span>? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModelPath</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordtype">string</span>? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">normalizedPath</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  402</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalOnline</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Online!.Value;</div>
<div class="line"><span class="lineno">  403</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Path != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  404</span>            {</div>
<div class="line"><span class="lineno">  405</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">normalizedPath</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a600268a32d5da87b3c80f97d34319366">NormalizePath</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Path);</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">normalizedPath</a> != <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Path)</div>
<div class="line"><span class="lineno">  408</span>                {</div>
<div class="line"><span class="lineno">  409</span>                    <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">userRights</a>.HasFlag(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.Relocate))</div>
<div class="line"><span class="lineno">  410</span>                        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Forbid</a>();</div>
<div class="line"><span class="lineno">  411</span>                    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalOnline</a> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Online != <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  412</span>                        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceRelocateOnline));</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirExistsTask</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa">DirectoryExists</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Path, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  415</span>                    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#afb2e4e54c38a97b299d1fb7692cc5cdd">ioManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62">FileExists</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Path, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>) || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">dirExistsTask</a>)</div>
<div class="line"><span class="lineno">  416</span>                        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.InstanceAtExistingPath));</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModelPath</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Path;</div>
<div class="line"><span class="lineno">  419</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel.Path</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">normalizedPath</a>;</div>
<div class="line"><span class="lineno">  420</span>                }</div>
<div class="line"><span class="lineno">  421</span>            }</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">oldAutoUpdateInterval</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.AutoUpdateInterval!.Value;</div>
<div class="line"><span class="lineno">  424</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">oldAutoUpdateCron</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.AutoUpdateCron;</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">earlyOut</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a5b38d5cba6df39071299a0d0c5e71a6d">ValidateCronSetting</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>);</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">earlyOut</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">earlyOut</a>;</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">changedAutoInterval</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model.AutoUpdateInterval.HasValue</a> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">oldAutoUpdateInterval</a> != <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.AutoUpdateInterval;</div>
<div class="line"><span class="lineno">  431</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">changedAutoCron</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model.AutoUpdateCron</a> != <span class="keyword">null</span> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">oldAutoUpdateCron</a> != <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.AutoUpdateCron;</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">renamed</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model.Name</a> != <span class="keyword">null</span> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel.Name</a> != <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Name;</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CheckModified</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.AutoUpdateInterval, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.SetAutoUpdate)</div>
<div class="line"><span class="lineno">  436</span>                || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CheckModified</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.AutoUpdateCron, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.SetAutoUpdate)</div>
<div class="line"><span class="lineno">  437</span>                || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CheckModified</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.ConfigurationType, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.SetConfiguration)</div>
<div class="line"><span class="lineno">  438</span>                || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CheckModified</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Name, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.Rename)</div>
<div class="line"><span class="lineno">  439</span>                || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CheckModified</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Online, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.SetOnline)</div>
<div class="line"><span class="lineno">  440</span>                || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CheckModified</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.ChatBotLimit, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.SetChatBotLimit))</div>
<div class="line"><span class="lineno">  441</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Forbid</a>();</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.ChatBotLimit.HasValue)</div>
<div class="line"><span class="lineno">  444</span>            {</div>
<div class="line"><span class="lineno">  445</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">countOfExistingChatBots</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  446</span>                    .<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ad4cf2228c8dae3c2641251070fee76af">ChatBots</a></div>
<div class="line"><span class="lineno">  447</span>                    .AsQueryable()</div>
<div class="line"><span class="lineno">  448</span>                    .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.InstanceId == <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Id)</div>
<div class="line"><span class="lineno">  449</span>                    .CountAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">countOfExistingChatBots</a> &gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.ChatBotLimit.Value)</div>
<div class="line"><span class="lineno">  452</span>                    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071caf1d4ac54357cc0932f385d56814ba7e4">Conflict</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.ChatBotMax));</div>
<div class="line"><span class="lineno">  453</span>            }</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">changedAutoCron</a>)</div>
<div class="line"><span class="lineno">  456</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model.AutoUpdateInterval</a> = 0;</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">changedAutoInterval</a>)</div>
<div class="line"><span class="lineno">  458</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model.AutoUpdateCron</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">String</a>.Empty;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">renamed</a>)</div>
<div class="line"><span class="lineno">  463</span>            {</div>
<div class="line"><span class="lineno">  464</span>                <span class="comment">// ignoring retval because we don&#39;t care if it&#39;s offline</span></div>
<div class="line"><span class="lineno">  465</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a0e985e6b0812f8bbce17ed2e5028fd65">WithComponentInstanceNullable</a>(</div>
<div class="line"><span class="lineno">  466</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">async</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">componentInstance</a> =&gt;</div>
<div class="line"><span class="lineno">  467</span>                    {</div>
<div class="line"><span class="lineno">  468</span>                        <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">componentInstance</a>.InstanceRenamed(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Name!, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  469</span>                        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  470</span>                    },</div>
<div class="line"><span class="lineno">  471</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>);</div>
<div class="line"><span class="lineno">  472</span>            }</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">oldAutoStart</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.DreamDaemonSettings!.AutoStart;</div>
<div class="line"><span class="lineno">  475</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  476</span>            {</div>
<div class="line"><span class="lineno">  477</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalOnline</a> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Online == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  478</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a95dc96499f6b951fd0726fa7fe947ace">InstanceOperations</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#abca82157721193c4bb14b3628e9a083e">OfflineInstance</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#a0846ac9679599a99923987863edb0d5c">User</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  479</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalOnline</a> &amp;&amp; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.Online == <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  480</span>                {</div>
<div class="line"><span class="lineno">  481</span>                    <span class="comment">// force autostart false here because we don&#39;t want any long running jobs right now</span></div>
<div class="line"><span class="lineno">  482</span>                    <span class="comment">// remember to document this</span></div>
<div class="line"><span class="lineno">  483</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel.DreamDaemonSettings.AutoStart</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  484</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a95dc96499f6b951fd0726fa7fe947ace">InstanceOperations</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a21fcdc8c16fde3dd75ebf3780d7546cf">OnlineInstance</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  485</span>                }</div>
<div class="line"><span class="lineno">  486</span>            }</div>
<div class="line"><span class="lineno">  487</span>            <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_exception.html">Exception</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">e</a>)</div>
<div class="line"><span class="lineno">  488</span>            {</div>
<div class="line"><span class="lineno">  489</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">e</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">is</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">not</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">OperationCanceledException</a>)</div>
<div class="line"><span class="lineno">  490</span>                    <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_api_controller.html#ae5655868c2b2b913046ecf61934ce119">Logger</a>.LogError(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">e</a>, <span class="stringliteral">&quot;Error changing instance online state!&quot;</span>);</div>
<div class="line"><span class="lineno">  491</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel.Online</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalOnline</a>;</div>
<div class="line"><span class="lineno">  492</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel.DreamDaemonSettings.AutoStart</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">oldAutoStart</a>;</div>
<div class="line"><span class="lineno">  493</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModelPath</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  494</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel.Path</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModelPath</a>;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>                <span class="comment">// DCT: Operation must always run</span></div>
<div class="line"><span class="lineno">  497</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Save</a>(CancellationToken.None);</div>
<div class="line"><span class="lineno">  498</span>                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  499</span>            }</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> api = (<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#ade8aeb7dd0a0e480f6f89bd5973703c7">GetRight</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a7b02c8c3dadd90810a9eaa24712a0a20">RightsType</a>.InstanceManager) &amp; (ulong)<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.Read) != 0 ? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.ToApi() : <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_instance_response.html">InstanceResponse</a></div>
<div class="line"><span class="lineno">  502</span>            {</div>
<div class="line"><span class="lineno">  503</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority.html#a6055c0b2bf09442f677be3ed1eb725d5a490aa6e856ccf208a054389e47ce0d06">Id</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>.Id,</div>
<div class="line"><span class="lineno">  504</span>            };</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moving</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModelPath</a> != <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  507</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moving</a>)</div>
<div class="line"><span class="lineno">  508</span>            {</div>
<div class="line"><span class="lineno">  509</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">description</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">$</a><span class="stringliteral">&quot;Move instance ID {originalModel.Id} from {originalModelPath} to {normalizedPath}&quot;</span>;</div>
<div class="line"><span class="lineno">  510</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">job</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_job.html">Job</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_job.html#afb982e4f4d1492aced7dcf14d9ba5d97">Create</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a7c8f30de4159253ce2ffec51771bed71">JobCode</a>.Move, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html">AuthenticationContext</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#a0846ac9679599a99923987863edb0d5c">User</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>, <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.Relocate);</div>
<div class="line"><span class="lineno">  511</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">job.Description</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">description</a>;</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a38f7f9669773242d177345e38be2dd34">jobManager</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#aefaca6d0c2762350a41adfe7daaade95">RegisterOperation</a>(</div>
<div class="line"><span class="lineno">  514</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">job</a>,</div>
<div class="line"><span class="lineno">  515</span>                    (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">core</a>, databaseContextFactory, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">paramJob</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">progressHandler</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ct</a>) <span class="comment">// core will be null here since the instance is offline</span></div>
<div class="line"><span class="lineno">  516</span>                        =&gt; <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a95dc96499f6b951fd0726fa7fe947ace">InstanceOperations</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a8aaa4081d257b5fb39bb09ffd07383ff">MoveInstance</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModelPath</a>!, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ct</a>),</div>
<div class="line"><span class="lineno">  517</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  518</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">api.MoveJob</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">job</a>.ToApi();</div>
<div class="line"><span class="lineno">  519</span>            }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">changedAutoInterval</a> || <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">changedAutoCron</a>)</div>
<div class="line"><span class="lineno">  522</span>            {</div>
<div class="line"><span class="lineno">  523</span>                <span class="comment">// ignoring retval because we don&#39;t care if it&#39;s offline</span></div>
<div class="line"><span class="lineno">  524</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a0e985e6b0812f8bbce17ed2e5028fd65">WithComponentInstanceNullable</a>(</div>
<div class="line"><span class="lineno">  525</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">async</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">componentInstance</a> =&gt;</div>
<div class="line"><span class="lineno">  526</span>                    {</div>
<div class="line"><span class="lineno">  527</span>                        <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">componentInstance</a>.ScheduleAutoUpdate(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.AutoUpdateInterval!.Value, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">model</a>.AutoUpdateCron);</div>
<div class="line"><span class="lineno">  528</span>                        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  529</span>                    },</div>
<div class="line"><span class="lineno">  530</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">originalModel</a>);</div>
<div class="line"><span class="lineno">  531</span>            }</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5">CheckAccessible</a>(api, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">moving</a> ? <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#af84b8352b6700778fe097b1b28eb374ca382ab522931673c11e398ead1b7b1678">Accepted</a>(api) : Json(api);</div>
<div class="line"><span class="lineno">  535</span>        }</div>
<div class="ttc" id="aclass_exception_html"><div class="ttname"><a href="class_exception.html">Exception</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller_html_a0e985e6b0812f8bbce17ed2e5028fd65"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a0e985e6b0812f8bbce17ed2e5028fd65">Tgstation.Server.Host.Controllers.ComponentInterfacingController.WithComponentInstanceNullable</a></div><div class="ttdeci">async ValueTask&lt; IActionResult?&gt; WithComponentInstanceNullable(Func&lt; IInstanceCore, ValueTask&lt; IActionResult?&gt; &gt; action, Models.Instance? instance=null)</div><div class="ttdoc">Run a given action  with the relevant IInstance.</div><div class="ttdef"><b>Definition</b> <a href="_component_interfacing_controller_8cs_source.html#l00125">ComponentInterfacingController.cs:125</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller_html_a95dc96499f6b951fd0726fa7fe947ace"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a95dc96499f6b951fd0726fa7fe947ace">Tgstation.Server.Host.Controllers.ComponentInterfacingController.InstanceOperations</a></div><div class="ttdeci">IInstanceOperations InstanceOperations</div><div class="ttdoc">Access the IInstanceOperations instance.</div><div class="ttdef"><b>Definition</b> <a href="_component_interfacing_controller_8cs_source.html#l00027">ComponentInterfacingController.cs:27</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html_ad4cf2228c8dae3c2641251070fee76af"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ad4cf2228c8dae3c2641251070fee76af">Tgstation.Server.Host.Database.DatabaseContext.ChatBots</a></div><div class="ttdeci">DbSet&lt; ChatBot &gt; ChatBots</div><div class="ttdoc">The ChatBots in the DatabaseContext.</div><div class="ttdef"><b>Definition</b> <a href="_database_context_8cs_source.html#l00054">DatabaseContext.cs:54</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_job_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_job.html">Tgstation.Server.Host.Models.Job</a></div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_job_8cs_source.html#l00014">Job.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_job_html_afb982e4f4d1492aced7dcf14d9ba5d97"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_job.html#afb982e4f4d1492aced7dcf14d9ba5d97">Tgstation.Server.Host.Models.Job.Create</a></div><div class="ttdeci">static Job Create(JobCode code, User? startedBy, Api.Models.Instance instance)</div><div class="ttdoc">Creates a new job for registering in the Jobs.IJobService.</div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_html_ade8aeb7dd0a0e480f6f89bd5973703c7"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#ade8aeb7dd0a0e480f6f89bd5973703c7">Tgstation.Server.Host.Security.AuthenticationContext.GetRight</a></div><div class="ttdeci">ulong GetRight(RightsType rightsType)</div><div class="ttdoc">Get the value of a given rightsType .The value of rightsType . Note that if InstancePermissionSet is ...</div><div class="ttdef"><b>Definition</b> <a href="_authentication_context_8cs_source.html#l00103">AuthenticationContext.cs:103</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations_html_a21fcdc8c16fde3dd75ebf3780d7546cf"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a21fcdc8c16fde3dd75ebf3780d7546cf">Tgstation.Server.Host.Components.IInstanceOperations.OnlineInstance</a></div><div class="ttdeci">ValueTask OnlineInstance(Models.Instance metadata, CancellationToken cancellationToken)</div><div class="ttdoc">Online an IInstance.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations_html_a8aaa4081d257b5fb39bb09ffd07383ff"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a8aaa4081d257b5fb39bb09ffd07383ff">Tgstation.Server.Host.Components.IInstanceOperations.MoveInstance</a></div><div class="ttdeci">ValueTask MoveInstance(Models.Instance metadata, string oldPath, CancellationToken cancellationToken)</div><div class="ttdoc">Move an IInstance.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations_html_abca82157721193c4bb14b3628e9a083e"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#abca82157721193c4bb14b3628e9a083e">Tgstation.Server.Host.Components.IInstanceOperations.OfflineInstance</a></div><div class="ttdeci">ValueTask OfflineInstance(Models.Instance metadata, User user, CancellationToken cancellationToken)</div><div class="ttdoc">Offline an IInstance.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager_html_a5760fe527065407b364e674d2a9eaf1d"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#a5760fe527065407b364e674d2a9eaf1d">Tgstation.Server.Host.Jobs.IJobManager.CancelJob</a></div><div class="ttdeci">ValueTask&lt; Job?&gt; CancelJob(Job job, User? user, bool blocking, CancellationToken cancellationToken)</div><div class="ttdoc">Cancels a give job .</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager_html_aefaca6d0c2762350a41adfe7daaade95"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#aefaca6d0c2762350a41adfe7daaade95">Tgstation.Server.Host.Jobs.IJobManager.RegisterOperation</a></div><div class="ttdeci">ValueTask RegisterOperation(Job job, JobEntrypoint operation, CancellationToken cancellationToken)</div><div class="ttdoc">Registers a given Job and begins running it.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a7b02c8c3dadd90810a9eaa24712a0a20"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a7b02c8c3dadd90810a9eaa24712a0a20">Tgstation.Server.Api.Rights.RightsType</a></div><div class="ttdeci">RightsType</div><div class="ttdoc">The type of rights a model uses.</div><div class="ttdef"><b>Definition</b> <a href="_rights_type_8cs_source.html#l00006">RightsType.cs:7</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core_html_af84b8352b6700778fe097b1b28eb374ca382ab522931673c11e398ead1b7b1678"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#af84b8352b6700778fe097b1b28eb374ca382ab522931673c11e398ead1b7b1678">Tgstation.Server.Host.Authority.Core.HttpSuccessResponse.Accepted</a></div><div class="ttdeci">@ Accepted</div><div class="ttdoc">HTTP 202.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#a5760fe527065407b364e674d2a9eaf1d">Tgstation.Server.Host.Jobs.IJobManager.CancelJob()</a>, <a class="el" href="_database_context_8cs_source.html#l00054">Tgstation.Server.Host.Database.DatabaseContext.ChatBots</a>, <a class="el" href="_instance_controller_8cs_source.html#l00838">Tgstation.Server.Host.Controllers.InstanceController.CheckAccessible()</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_job.html#afb982e4f4d1492aced7dcf14d9ba5d97">Tgstation.Server.Host.Models.Job.Create()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa">Tgstation.Server.Host.IO.IIOManager.DirectoryExists()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62">Tgstation.Server.Host.IO.IIOManager.FileExists()</a>, <a class="el" href="_authentication_context_8cs_source.html#l00103">Tgstation.Server.Host.Security.AuthenticationContext.GetRight()</a>, <a class="el" href="_swarm_server_8cs_source.html#l00026">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_tgstation_8_server_8_api_2_models_2_permission_set_8cs_source.html#l00030">Tgstation.Server.Api.Models.PermissionSet.InstanceManagerRights</a>, <a class="el" href="_component_interfacing_controller_8cs_source.html#l00027">Tgstation.Server.Host.Controllers.ComponentInterfacingController.InstanceOperations</a>, <a class="el" href="_database_context_8cs_source.html#l00034">Tgstation.Server.Host.Database.DatabaseContext.Instances</a>, <a class="el" href="_instance_controller_8cs_source.html#l00057">Tgstation.Server.Host.Controllers.InstanceController.ioManager</a>, <a class="el" href="_instance_controller_8cs_source.html#l00052">Tgstation.Server.Host.Controllers.InstanceController.jobManager</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_api_controller_8cs_source.html#l00071">Tgstation.Server.Host.Controllers.ApiController.Logger</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a8aaa4081d257b5fb39bb09ffd07383ff">Tgstation.Server.Host.Components.IInstanceOperations.MoveInstance()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00821">Tgstation.Server.Host.Controllers.InstanceController.NormalizePath()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#abca82157721193c4bb14b3628e9a083e">Tgstation.Server.Host.Components.IInstanceOperations.OfflineInstance()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a21fcdc8c16fde3dd75ebf3780d7546cf">Tgstation.Server.Host.Components.IInstanceOperations.OnlineInstance()</a>, <a class="el" href="_authentication_context_8cs_source.html#l00019">Tgstation.Server.Host.Security.AuthenticationContext.PermissionSet</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#aefaca6d0c2762350a41adfe7daaade95">Tgstation.Server.Host.Jobs.IJobManager.RegisterOperation()</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c">Tgstation.Server.Host.Database.DatabaseContext.Save()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00082">Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</a>, <a class="el" href="_authentication_context_8cs_source.html#l00016">Tgstation.Server.Host.Security.AuthenticationContext.User</a>, <a class="el" href="_instance_controller_8cs_source.html#l00852">Tgstation.Server.Host.Controllers.InstanceController.ValidateCronSetting()</a>, <a class="el" href="_component_interfacing_controller_8cs_source.html#l00094">Tgstation.Server.Host.Controllers.ComponentInterfacingController.ValidateInstanceOnlineStatus()</a>, and <a class="el" href="_component_interfacing_controller_8cs_source.html#l00125">Tgstation.Server.Host.Controllers.ComponentInterfacingController.WithComponentInstanceNullable()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a709c5985e78cdb8bde3f705869ddafb9_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a709c5985e78cdb8bde3f705869ddafb9_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a709c5985e78cdb8bde3f705869ddafb9_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a709c5985e78cdb8bde3f705869ddafb9_cgraph">
<area shape="rect" title="Modify an Api.Models.Instance&#39;s settings." alt="" coords="5,463,221,503"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#a5760fe527065407b364e674d2a9eaf1d" title="Cancels a give job ." alt="" coords="305,5,486,46"/>
<area shape="poly" title=" " alt="" coords="113,462,121,386,145,277,164,217,191,159,225,104,267,57,289,42,292,46,270,61,229,108,195,161,169,219,150,278,127,387,118,462"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ae6de3128c5d49b91d7bb8f6f2caf0ed5" title="Populate the InstanceResponse.Accessible property of a given instanceResponse ." alt="" coords="280,71,511,111"/>
<area shape="poly" title=" " alt="" coords="114,462,127,396,153,304,173,255,198,207,229,161,267,122,273,117,276,122,270,126,233,165,203,209,178,257,158,306,132,397,120,463"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_job.html#afb982e4f4d1492aced7dcf14d9ba5d97" title="Creates a new job for registering in the Jobs.IJobService." alt="" coords="298,136,493,177"/>
<area shape="poly" title=" " alt="" coords="117,462,133,407,162,332,182,293,206,254,234,219,267,188,282,177,285,182,270,192,238,222,210,257,186,296,167,335,138,408,122,463"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#aeae08438da658a3c0afddbb7960e4faa" title="Check that the directory at path &#160;exists." alt="" coords="306,201,485,242"/>
<area shape="poly" title=" " alt="" coords="120,461,140,417,171,361,214,303,239,276,267,253,291,240,293,244,270,257,243,280,218,306,176,364,145,420,125,463"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ad4de873180481f7afa206b6282158d62" title="Check that the file at path &#160;exists." alt="" coords="312,267,479,307"/>
<area shape="poly" title=" " alt="" coords="126,460,182,390,222,351,267,318,296,305,298,309,270,323,225,355,186,394,130,464"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context.html#ade8aeb7dd0a0e480f6f89bd5973703c7" title="Get the value of a given rightsType .The value of rightsType . Note that if InstancePermissionSet is ..." alt="" coords="294,332,497,373"/>
<area shape="poly" title=" " alt="" coords="140,460,197,421,268,383,287,376,289,381,270,388,200,426,143,465"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a8aaa4081d257b5fb39bb09ffd07383ff" title="Move an IInstance." alt="" coords="282,397,509,438"/>
<area shape="poly" title=" " alt="" coords="203,459,289,439,290,445,205,465"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a600268a32d5da87b3c80f97d34319366" title="Normalize a given path &#160;for an instance." alt="" coords="288,463,503,503"/>
<area shape="poly" title=" " alt="" coords="221,480,272,480,272,486,221,486"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#abca82157721193c4bb14b3628e9a083e" title="Offline an IInstance." alt="" coords="282,528,509,569"/>
<area shape="poly" title=" " alt="" coords="205,501,290,521,289,527,203,507"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_operations.html#a21fcdc8c16fde3dd75ebf3780d7546cf" title="Online an IInstance." alt="" coords="281,593,510,634"/>
<area shape="poly" title=" " alt="" coords="143,501,200,540,270,578,289,585,287,590,268,583,197,545,140,506"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html#aefaca6d0c2762350a41adfe7daaade95" title="Registers a given Job and begins running it." alt="" coords="294,659,497,699"/>
<area shape="poly" title=" " alt="" coords="130,502,186,572,225,611,270,643,282,650,280,655,267,648,222,615,182,576,126,506"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html#ac2e88d53bf1b6ac87d175d83ed39da7c" title="Saves changes made to the IDatabaseContext.A Task representing the running operation." alt="" coords="291,724,500,765"/>
<area shape="poly" title=" " alt="" coords="125,503,145,546,176,602,218,660,243,686,270,709,279,714,276,719,267,713,239,690,214,663,171,605,140,549,120,505"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a5b38d5cba6df39071299a0d0c5e71a6d" title="Validates a given instance &#39;s Api.Models.Instance.AutoUpdateCron setting." alt="" coords="273,789,518,830"/>
<area shape="poly" title=" " alt="" coords="122,503,138,558,167,631,186,670,210,709,238,744,270,774,277,779,273,783,267,778,234,747,206,712,182,673,162,634,133,559,117,504"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#aba9306ee424759a221509c021cdf0cde" title="Corrects discrepencies between the Api.Models.Instance.Online status of IInstances in the database vs..." alt="" coords="269,854,522,910"/>
<area shape="poly" title=" " alt="" coords="120,503,133,568,159,659,179,708,204,756,234,800,271,840,274,842,270,846,267,844,230,804,199,758,174,710,154,661,127,570,115,504"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_component_interfacing_controller.html#a0e985e6b0812f8bbce17ed2e5028fd65" title="Run a given action &#160;with the relevant IInstance." alt="" coords="279,934,512,990"/>
<area shape="poly" title=" " alt="" coords="118,504,126,581,150,693,169,754,195,814,229,870,271,920,273,922,269,926,267,924,224,873,190,816,164,756,144,694,121,582,113,504"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html#a40d32838ff902da852c54215bd8e89fb" title="Check if a given rightsType &#160;is meant for an Models.Instance." alt="" coords="604,284,794,325"/>
<area shape="poly" title=" " alt="" coords="497,334,588,319,589,324,497,339"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html#ab694cd1b9b98a6be7d79f236a71b386c" title="Map a given rightsType &#160;to its respective Enum Type." alt="" coords="609,349,790,390"/>
<area shape="poly" title=" " alt="" coords="497,355,593,361,593,366,497,361"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098" title="Normalize a path for consistency." alt="" coords="594,447,805,487"/>
<area shape="poly" title=" " alt="" coords="503,475,578,471,578,476,503,480"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a18a442b5dff16f5e7a730ec354e81d78" title="Retrieve the full path of the current working directory." alt="" coords="616,512,783,553"/>
<area shape="poly" title=" " alt="" coords="504,498,601,514,600,519,503,503"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html#ac2e926ff84623c496393880b5a8ada61" title="Get the IInstanceReference associated with given metadata ." alt="" coords="570,901,828,942"/>
<area shape="poly" title=" " alt="" coords="523,896,555,900,554,905,522,901"/>
<area shape="poly" title=" " alt="" coords="511,944,554,938,555,943,512,949"/>
</map>
</div>

</div>
</div>
<a id="a5b38d5cba6df39071299a0d0c5e71a6d" name="a5b38d5cba6df39071299a0d0c5e71a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b38d5cba6df39071299a0d0c5e71a6d">&#9670;&#160;</a></span>ValidateCronSetting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">BadRequestObjectResult</a>? Tgstation.Server.Host.Controllers.InstanceController.ValidateCronSetting </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Api::Models::Instance</a>&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates a given <em>instance</em> 's <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html#aa94e263fa829683a2b8ae4cdf8d366c6" title="A cron expression indicating when auto-updates should trigger. Must be a valid 6 part cron schedule (...">Api.Models.Instance.AutoUpdateCron</a> setting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The Api.Models.Instance to validate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code><a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">null</a></code> if <em>instance</em>  has a valid <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html#aa94e263fa829683a2b8ae4cdf8d366c6" title="A cron expression indicating when auto-updates should trigger. Must be a valid 6 part cron schedule (...">Api.Models.Instance.AutoUpdateCron</a> setting, a <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">BadRequestObjectResult</a> otherwise.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00852">852</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  853</span>        {</div>
<div class="line"><span class="lineno">  854</span>            <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">String</a>.IsNullOrWhiteSpace(instance.AutoUpdateCron))</div>
<div class="line"><span class="lineno">  855</span>            {</div>
<div class="line"><span class="lineno">  856</span>                <span class="keywordflow">if</span> ((instance.AutoUpdateInterval.HasValue &amp;&amp; instance.AutoUpdateInterval.Value != 0)</div>
<div class="line"><span class="lineno">  857</span>                   || (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CrontabSchedule</a>.TryParse(</div>
<div class="line"><span class="lineno">  858</span>                       instance.AutoUpdateCron,</div>
<div class="line"><span class="lineno">  859</span>                       <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">CrontabSchedule</a>.ParseOptions</div>
<div class="line"><span class="lineno">  860</span>                       {</div>
<div class="line"><span class="lineno">  861</span>                           IncludingSeconds = true,</div>
<div class="line"><span class="lineno">  862</span>                       }) == <span class="keyword">null</span>))</div>
<div class="line"><span class="lineno">  863</span>                    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority_1_1_core.html#a0014d9d38ddef55b17fc52f0e4bd071ca9edf8fbf00a57d95a0af4923c9a1ec6f">BadRequest</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_response_1_1_error_message_response.html">ErrorMessageResponse</a>(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#a1a6adb59dd51244efabf4e548e7075c8">ErrorCode</a>.ModelValidationFailure));</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instance.AutoUpdateInterval</a> = 0;</div>
<div class="line"><span class="lineno">  866</span>            }</div>
<div class="line"><span class="lineno">  867</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  868</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instance.AutoUpdateCron</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">String</a>.Empty;</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  871</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespace_tgstation_1_1_server_1_1_api.html#a622da263c0ca2e2060d2daf329c2c2bca72664dc0959f3b0c04891f8c7046a9f3">Tgstation.Server.Api.Api</a>, and <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00349">Tgstation.Server.Host.Controllers.InstanceController.Update()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a5b38d5cba6df39071299a0d0c5e71a6d_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a5b38d5cba6df39071299a0d0c5e71a6d_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a5b38d5cba6df39071299a0d0c5e71a6d_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller_a5b38d5cba6df39071299a0d0c5e71a6d_icgraph">
<area shape="rect" title="Validates a given instance &#39;s Api.Models.Instance.AutoUpdateCron setting." alt="" coords="269,39,513,79"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#ab462ce6aa240b963c67cab7d20927060" title="Create or attach an Api.Models.Instance." alt="" coords="5,5,221,46"/>
<area shape="poly" title=" " alt="" coords="253,45,221,41,221,36,253,40"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a709c5985e78cdb8bde3f705869ddafb9" title="Modify an Api.Models.Instance&#39;s settings." alt="" coords="5,71,221,111"/>
<area shape="poly" title=" " alt="" coords="253,78,221,81,221,76,253,72"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4f60f72c082a222a31383dbfceb755a6" name="a4f60f72c082a222a31383dbfceb755a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f60f72c082a222a31383dbfceb755a6">&#9670;&#160;</a></span>generalConfiguration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> Tgstation.Server.Host.Controllers.InstanceController.generalConfiguration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The GeneralConfiguration for the InstanceController. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00077">77</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00714">Tgstation.Server.Host.Controllers.InstanceController.CreateDefaultInstance()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00099">Tgstation.Server.Host.Controllers.InstanceController.InstanceController()</a>.</p>

</div>
</div>
<a id="aa40d55750e2193d714eb1470505c47ee" name="aa40d55750e2193d714eb1470505c47ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa40d55750e2193d714eb1470505c47ee">&#9670;&#160;</a></span>InstanceAttachFileName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">const</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">string</a> Tgstation.Server.Host.Controllers.InstanceController.InstanceAttachFileName = &quot;TGS4_ALLOW_INSTANCE_ATTACH&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File name to allow attaching instances. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00047">47</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00276">Tgstation.Server.Host.Controllers.InstanceController.Delete()</a>, and <a class="el" href="_instance_manager_8cs_source.html#l00267">Tgstation.Server.Host.Components.InstanceManager.MoveInstance()</a>.</p>

</div>
</div>
<a id="afb2e4e54c38a97b299d1fb7692cc5cdd" name="afb2e4e54c38a97b299d1fb7692cc5cdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb2e4e54c38a97b299d1fb7692cc5cdd">&#9670;&#160;</a></span>ioManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> Tgstation.Server.Host.Controllers.InstanceController.ioManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IIOManager for the InstanceController. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00057">57</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00276">Tgstation.Server.Host.Controllers.InstanceController.Delete()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00099">Tgstation.Server.Host.Controllers.InstanceController.InstanceController()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00821">Tgstation.Server.Host.Controllers.InstanceController.NormalizePath()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00349">Tgstation.Server.Host.Controllers.InstanceController.Update()</a>.</p>

</div>
</div>
<a id="a38f7f9669773242d177345e38be2dd34" name="a38f7f9669773242d177345e38be2dd34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f7f9669773242d177345e38be2dd34">&#9670;&#160;</a></span>jobManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a> Tgstation.Server.Host.Controllers.InstanceController.jobManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IJobManager for the InstanceController. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00052">52</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00099">Tgstation.Server.Host.Controllers.InstanceController.InstanceController()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00349">Tgstation.Server.Host.Controllers.InstanceController.Update()</a>.</p>

</div>
</div>
<a id="ae45aceab65d37ece10acd7eb0fa15b85" name="ae45aceab65d37ece10acd7eb0fa15b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae45aceab65d37ece10acd7eb0fa15b85">&#9670;&#160;</a></span>permissionsUpdateNotifyee</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html">IPermissionsUpdateNotifyee</a> Tgstation.Server.Host.Controllers.InstanceController.permissionsUpdateNotifyee</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IPermissionsUpdateNotifyee for the InstanceController. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00072">72</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00099">Tgstation.Server.Host.Controllers.InstanceController.InstanceController()</a>.</p>

</div>
</div>
<a id="ac62c0b1b0e346409b20c3054d4a8354a" name="ac62c0b1b0e346409b20c3054d4a8354a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac62c0b1b0e346409b20c3054d4a8354a">&#9670;&#160;</a></span>platformIdentifier</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a> Tgstation.Server.Host.Controllers.InstanceController.platformIdentifier</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IPlatformIdentifier for the InstanceController. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00062">62</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00099">Tgstation.Server.Host.Controllers.InstanceController.InstanceController()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00821">Tgstation.Server.Host.Controllers.InstanceController.NormalizePath()</a>.</p>

</div>
</div>
<a id="a61dbab212a95b16ad876b7c5f8dd51c5" name="a61dbab212a95b16ad876b7c5f8dd51c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61dbab212a95b16ad876b7c5f8dd51c5">&#9670;&#160;</a></span>portAllocator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html">IPortAllocator</a> Tgstation.Server.Host.Controllers.InstanceController.portAllocator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IPortAllocator for the InstanceController. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00067">67</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00714">Tgstation.Server.Host.Controllers.InstanceController.CreateDefaultInstance()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00099">Tgstation.Server.Host.Controllers.InstanceController.InstanceController()</a>.</p>

</div>
</div>
<a id="a952ce837f434c65e69d35ec886d0fc2d" name="a952ce837f434c65e69d35ec886d0fc2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952ce837f434c65e69d35ec886d0fc2d">&#9670;&#160;</a></span>swarmConfiguration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_instance_controller.html#a98360d756afee2844b21b0936cc050cc">readonly</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> Tgstation.Server.Host.Controllers.InstanceController.swarmConfiguration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SwarmConfiguration for the InstanceController. </p>

<p class="definition">Definition at line <a class="el" href="_instance_controller_8cs_source.html#l00082">82</a> of file <a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_instance_controller_8cs_source.html#l00142">Tgstation.Server.Host.Controllers.InstanceController.Create()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00714">Tgstation.Server.Host.Controllers.InstanceController.CreateDefaultInstance()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00276">Tgstation.Server.Host.Controllers.InstanceController.Delete()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00617">Tgstation.Server.Host.Controllers.InstanceController.GetId()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00675">Tgstation.Server.Host.Controllers.InstanceController.GrantPermissions()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00099">Tgstation.Server.Host.Controllers.InstanceController.InstanceController()</a>, <a class="el" href="_instance_controller_8cs_source.html#l00549">Tgstation.Server.Host.Controllers.InstanceController.List()</a>, and <a class="el" href="_instance_controller_8cs_source.html#l00349">Tgstation.Server.Host.Controllers.InstanceController.Update()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Tgstation.Server.Host/Controllers/<a class="el" href="_instance_controller_8cs_source.html">InstanceController.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
