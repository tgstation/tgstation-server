<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tgstation-server: Tgstation.Server.Host.Database.DatabaseSeeder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tgstation-server<span id="projectnumber">&#160;6.16.1</span>
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_tgstation.html">Tgstation</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server.html">Server</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host.html">Host</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_database.html">Database</a></li><li class="navelem"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html">DatabaseSeeder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Tgstation.Server.Host.Database.DatabaseSeeder Class Reference<span class="mlabels"><span class="mlabel">sealed</span></span></div></div>
</div><!--header-->
<div class="contents">

<p> 
 <a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Tgstation.Server.Host.Database.DatabaseSeeder:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder__inherit__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_database_8_database_seeder_inherit__map" alt="Inheritance graph"/></div>
<map name="a_tgstation_8_server_8_host_8_database_8_database_seeder_inherit__map" id="a_tgstation_8_server_8_host_8_database_8_database_seeder_inherit__map">
<area shape="rect" title=" " alt="" coords="5,79,214,120"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_seeder.html" title="For initially setting up a database." alt="" coords="49,5,170,31"/>
<area shape="poly" title=" " alt="" coords="112,46,112,79,107,79,107,46"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Tgstation.Server.Host.Database.DatabaseSeeder:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder__coll__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_database_8_database_seeder_coll__map" alt="Collaboration graph"/></div>
<map name="a_tgstation_8_server_8_host_8_database_8_database_seeder_coll__map" id="a_tgstation_8_server_8_host_8_database_8_database_seeder_coll__map">
<area shape="rect" title=" " alt="" coords="840,219,1048,260"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_seeder.html" title="For initially setting up a database." alt="" coords="470,5,591,31"/>
<area shape="poly" title=" " alt="" coords="607,20,656,27,711,40,766,59,817,85,856,116,888,152,933,217,929,220,884,156,852,120,815,90,764,63,710,45,655,33,606,25"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html" title="Contains various cryptographic functions." alt="" coords="430,55,631,96"/>
<area shape="poly" title=" " alt="" coords="646,94,731,116,817,149,874,182,920,216,917,221,871,187,815,154,730,122,645,99"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html" title="For identifying the current platform." alt="" coords="432,121,629,161"/>
<area shape="poly" title=" " alt="" coords="645,159,817,197,882,216,881,221,815,202,644,164"/>
<area shape="rect" title=" " alt="" coords="400,186,661,227"/>
<area shape="poly" title=" " alt="" coords="676,215,840,229,840,234,676,221"/>
<area shape="rect" title=" " alt="" coords="401,251,660,292"/>
<area shape="poly" title=" " alt="" coords="675,259,816,248,839,246,840,251,816,253,675,264"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html" title="General configuration options." alt="" coords="416,317,645,357"/>
<area shape="poly" title=" " alt="" coords="660,313,815,279,884,258,885,263,817,284,661,318"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_server_information_base.html" title="Base class for Response.ServerInformationResponse." alt="" coords="5,93,160,119"/>
<area shape="poly" title=" " alt="" coords="146,87,201,79,263,78,294,83,324,91,352,104,378,123,394,145,399,167,398,190,392,213,387,236,384,258,388,280,402,302,418,315,414,319,398,305,383,282,379,258,382,235,387,212,392,189,394,168,389,147,374,127,350,109,323,96,293,88,263,84,202,84,147,92"/>
<area shape="rect" title=" " alt="" coords="38,445,127,471"/>
<area shape="poly" title=" " alt="" coords="142,443,250,418,375,386,470,355,472,360,376,391,252,424,143,448"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html" title="Configuration options for the Database.DatabaseContext." alt="" coords="416,399,645,440"/>
<area shape="poly" title=" " alt="" coords="142,459,251,462,375,455,458,438,459,443,376,460,251,467,142,465"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html" title="Configuration for the server swarm system." alt="" coords="416,483,645,524"/>
<area shape="poly" title=" " alt="" coords="143,473,184,481,303,494,416,500,416,505,303,500,183,486,141,478"/>
<area shape="rect" title=" " alt="" coords="36,143,129,168"/>
<area shape="poly" title=" " alt="" coords="144,142,199,138,261,141,293,147,323,156,352,170,378,190,388,203,393,218,391,247,389,275,392,288,402,302,418,314,414,319,398,305,388,291,384,276,386,246,388,219,384,206,374,193,349,175,321,161,292,152,261,146,199,143,144,147"/>
<area shape="rect" title=" " alt="" coords="61,277,104,303"/>
<area shape="poly" title=" " alt="" coords="120,291,416,322,415,328,119,297"/>
<area shape="rect" title=" " alt="" coords="7,327,158,352"/>
<area shape="poly" title=" " alt="" coords="174,336,416,335,416,340,174,342"/>
<area shape="poly" title=" " alt="" coords="636,392,725,364,815,327,871,293,917,258,920,262,874,297,817,332,726,369,637,397"/>
<area shape="poly" title=" " alt="" coords="641,476,730,445,774,423,814,398,852,365,884,327,929,259,934,262,889,330,856,368,818,402,776,428,732,450,643,481"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html" title="Information about a server in the swarm." alt="" coords="32,535,133,560"/>
<area shape="poly" title=" " alt="" coords="148,543,255,537,375,526,415,521,416,526,376,531,255,542,148,548"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a67fd607937fd1eacb5af78d01df594f3" id="r_a67fd607937fd1eacb5af78d01df594f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a67fd607937fd1eacb5af78d01df594f3">DatabaseSeeder</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html">ICryptographySuite</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a88f644df987dce53ffa2e26a763f5974">cryptographySuite</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a9b30ce06ad99c07d9405020656cc3a1d">platformIdentifier</a>, IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> &gt; generalConfigurationOptions, IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html">DatabaseConfiguration</a> &gt; databaseConfigurationOptions, IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> &gt; swarmConfigurationOptions, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a> &gt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a2bc9f345004fe0cd972d9275d771b948">databaseLogger</a>, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html">DatabaseSeeder</a> &gt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a>)</td></tr>
<tr class="memdesc:a67fd607937fd1eacb5af78d01df594f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the DatabaseSeeder class.  <br /></td></tr>
<tr class="separator:a67fd607937fd1eacb5af78d01df594f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25dc5de4181c941c699a26e098149e6" id="r_ad25dc5de4181c941c699a26e098149e6"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad25dc5de4181c941c699a26e098149e6">Initialize</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ad25dc5de4181c941c699a26e098149e6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_setup.html">Setup</a> up a given <em>databaseContext</em> .<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html" title="Represents the database.">IDatabaseContext</a> to setup.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>
  <br /></td></tr>
<tr class="separator:ad25dc5de4181c941c699a26e098149e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1516a1b38e124f682e779a9c9942318" id="r_aa1516a1b38e124f682e779a9c9942318"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aa1516a1b38e124f682e779a9c9942318">Downgrade</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, Version downgradeVersion, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:aa1516a1b38e124f682e779a9c9942318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Migrate a given <em>databaseContext</em>  down.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html" title="Represents the database.">IDatabaseContext</a> to downgrade.</td></tr>
    <tr><td class="paramname">downgradeVersion</td><td>The migration Version to downgrade the <em>databaseContext</em>  to.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>
  <br /></td></tr>
<tr class="separator:aa1516a1b38e124f682e779a9c9942318"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a58329cfe5297b2569da770f7c05e1fbf" id="r_a58329cfe5297b2569da770f7c05e1fbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf">SeedAdminUser</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext)</td></tr>
<tr class="memdesc:a58329cfe5297b2569da770f7c05e1fbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a default admin User to a given <em>databaseContext</em> .  <br /></td></tr>
<tr class="separator:a58329cfe5297b2569da770f7c05e1fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c3f85134ebd165aaa4df15c45d3901" id="r_a59c3f85134ebd165aaa4df15c45d3901"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a59c3f85134ebd165aaa4df15c45d3901">SeedDatabase</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a59c3f85134ebd165aaa4df15c45d3901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initially seed a given <em>databaseContext</em> .  <br /></td></tr>
<tr class="separator:a59c3f85134ebd165aaa4df15c45d3901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccb4650f7b19158f0241418c7345719" id="r_acccb4650f7b19158f0241418c7345719"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#acccb4650f7b19158f0241418c7345719">SanitizeDatabase</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:acccb4650f7b19158f0241418c7345719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Correct invalid database data caused by previous versions (NOT user fuckery).  <br /></td></tr>
<tr class="separator:acccb4650f7b19158f0241418c7345719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374a1163eaa6f02afb419449a4478b48" id="r_a374a1163eaa6f02afb419449a4478b48"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a374a1163eaa6f02afb419449a4478b48">ResetAdminPassword</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a374a1163eaa6f02afb419449a4478b48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the admin password in IDatabaseContext back to it's default, enables the account, and gives it <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21a6da2fa278de1516d65f3ebe77670f215" title="User has complete control over creating/editing Models.Response.UserResponses and Models....">AdministrationRights.WriteUsers</a> access.  <br /></td></tr>
<tr class="separator:a374a1163eaa6f02afb419449a4478b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a302d5aab480a8a4599d92f1126d79d10" id="r_a302d5aab480a8a4599d92f1126d79d10"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>?&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10">GetAdminUser</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a302d5aab480a8a4599d92f1126d79d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get or create the admin User.  <br /></td></tr>
<tr class="separator:a302d5aab480a8a4599d92f1126d79d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ad6ca6c5c2af3d00965272871489da978" id="r_ad6ca6c5c2af3d00965272871489da978"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad6ca6c5c2af3d00965272871489da978">SeedSystemUser</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a> databaseContext, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>? tgsUser=null)</td></tr>
<tr class="memdesc:ad6ca6c5c2af3d00965272871489da978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a default system User to a given <em>databaseContext</em> .  <br /></td></tr>
<tr class="separator:ad6ca6c5c2af3d00965272871489da978"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a88f644df987dce53ffa2e26a763f5974" id="r_a88f644df987dce53ffa2e26a763f5974"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html">ICryptographySuite</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a88f644df987dce53ffa2e26a763f5974">cryptographySuite</a></td></tr>
<tr class="memdesc:a88f644df987dce53ffa2e26a763f5974"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ICryptographySuite for the DatabaseSeeder.  <br /></td></tr>
<tr class="separator:a88f644df987dce53ffa2e26a763f5974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b30ce06ad99c07d9405020656cc3a1d" id="r_a9b30ce06ad99c07d9405020656cc3a1d"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a9b30ce06ad99c07d9405020656cc3a1d">platformIdentifier</a></td></tr>
<tr class="memdesc:a9b30ce06ad99c07d9405020656cc3a1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IPlatformIdentifier for the DatabaseSeeder.  <br /></td></tr>
<tr class="separator:a9b30ce06ad99c07d9405020656cc3a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc9f345004fe0cd972d9275d771b948" id="r_a2bc9f345004fe0cd972d9275d771b948"><td class="memItemLeft" align="right" valign="top">readonly ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a2bc9f345004fe0cd972d9275d771b948">databaseLogger</a></td></tr>
<tr class="memdesc:a2bc9f345004fe0cd972d9275d771b948"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ILogger</a> used for IDatabaseContexts.  <br /></td></tr>
<tr class="separator:a2bc9f345004fe0cd972d9275d771b948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6976bc08dbb6209b8ca16509604a09" id="r_aaf6976bc08dbb6209b8ca16509604a09"><td class="memItemLeft" align="right" valign="top">readonly ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html">DatabaseSeeder</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a></td></tr>
<tr class="memdesc:aaf6976bc08dbb6209b8ca16509604a09"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ILogger</a> for the DatabaseSeeder.  <br /></td></tr>
<tr class="separator:aaf6976bc08dbb6209b8ca16509604a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51341ea00d7cfc1eead8b52235e76257" id="r_a51341ea00d7cfc1eead8b52235e76257"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a51341ea00d7cfc1eead8b52235e76257">generalConfiguration</a></td></tr>
<tr class="memdesc:a51341ea00d7cfc1eead8b52235e76257"><td class="mdescLeft">&#160;</td><td class="mdescRight">The GeneralConfiguration for the DatabaseSeeder.  <br /></td></tr>
<tr class="separator:a51341ea00d7cfc1eead8b52235e76257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8e101a216a05b59a646260218b2467" id="r_a6c8e101a216a05b59a646260218b2467"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html">DatabaseConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a6c8e101a216a05b59a646260218b2467">databaseConfiguration</a></td></tr>
<tr class="memdesc:a6c8e101a216a05b59a646260218b2467"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DatabaseConfiguration for the DatabaseSeeder.  <br /></td></tr>
<tr class="separator:a6c8e101a216a05b59a646260218b2467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99d5d9cbe6a8c97d385f81743094c5c" id="r_ae99d5d9cbe6a8c97d385f81743094c5c"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ae99d5d9cbe6a8c97d385f81743094c5c">swarmConfiguration</a></td></tr>
<tr class="memdesc:ae99d5d9cbe6a8c97d385f81743094c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SwarmConfiguration for the DatabaseSeeder.  <br /></td></tr>
<tr class="separator:ae99d5d9cbe6a8c97d385f81743094c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00020">20</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a67fd607937fd1eacb5af78d01df594f3" name="a67fd607937fd1eacb5af78d01df594f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fd607937fd1eacb5af78d01df594f3">&#9670;&#160;</a></span>DatabaseSeeder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html">ICryptographySuite</a>&#160;</td>
          <td class="paramname"><em>cryptographySuite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a>&#160;</td>
          <td class="paramname"><em>platformIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>generalConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html">DatabaseConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>databaseConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>swarmConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a> &gt;&#160;</td>
          <td class="paramname"><em>databaseLogger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html">DatabaseSeeder</a> &gt;&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new instance of the DatabaseSeeder class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cryptographySuite</td><td>The value of cryptographySuite.</td></tr>
    <tr><td class="paramname">platformIdentifier</td><td>The value of platformIdentifier.</td></tr>
    <tr><td class="paramname">generalConfigurationOptions</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IOptions&lt;TOptions&gt;</a> containing the value of generalConfiguration.</td></tr>
    <tr><td class="paramname">databaseConfigurationOptions</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IOptions&lt;TOptions&gt;</a> containing the value of databaseConfiguration.</td></tr>
    <tr><td class="paramname">swarmConfigurationOptions</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">IOptions&lt;TOptions&gt;</a> containing the value of swarmConfiguration.</td></tr>
    <tr><td class="paramname">databaseLogger</td><td>The value of databaseLogger.</td></tr>
    <tr><td class="paramname">logger</td><td>The value of logger.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00092">92</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>        {</div>
<div class="line"><span class="lineno">  101</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.cryptographySuite</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a88f644df987dce53ffa2e26a763f5974">cryptographySuite</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a88f644df987dce53ffa2e26a763f5974">cryptographySuite</a>));</div>
<div class="line"><span class="lineno">  102</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.platformIdentifier</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a9b30ce06ad99c07d9405020656cc3a1d">platformIdentifier</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a9b30ce06ad99c07d9405020656cc3a1d">platformIdentifier</a>));</div>
<div class="line"><span class="lineno">  103</span>            <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a6c8e101a216a05b59a646260218b2467">databaseConfiguration</a> = databaseConfigurationOptions?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(databaseConfigurationOptions));</div>
<div class="line"><span class="lineno">  104</span>            <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a51341ea00d7cfc1eead8b52235e76257">generalConfiguration</a> = generalConfigurationOptions?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(generalConfigurationOptions));</div>
<div class="line"><span class="lineno">  105</span>            <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ae99d5d9cbe6a8c97d385f81743094c5c">swarmConfiguration</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">swarmConfigurationOptions</a>?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">swarmConfigurationOptions</a>));</div>
<div class="line"><span class="lineno">  106</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.databaseLogger</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a2bc9f345004fe0cd972d9275d771b948">databaseLogger</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a2bc9f345004fe0cd972d9275d771b948">databaseLogger</a>));</div>
<div class="line"><span class="lineno">  107</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">this.logger</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">nameof</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a>));</div>
<div class="line"><span class="lineno">  108</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a2bc9f345004fe0cd972d9275d771b948"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a2bc9f345004fe0cd972d9275d771b948">Tgstation.Server.Host.Database.DatabaseSeeder.databaseLogger</a></div><div class="ttdeci">readonly ILogger&lt; DatabaseContext &gt; databaseLogger</div><div class="ttdoc">The ILogger used for IDatabaseContexts.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00035">DatabaseSeeder.cs:35</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a51341ea00d7cfc1eead8b52235e76257"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a51341ea00d7cfc1eead8b52235e76257">Tgstation.Server.Host.Database.DatabaseSeeder.generalConfiguration</a></div><div class="ttdeci">readonly GeneralConfiguration generalConfiguration</div><div class="ttdoc">The GeneralConfiguration for the DatabaseSeeder.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00045">DatabaseSeeder.cs:45</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a6c8e101a216a05b59a646260218b2467"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a6c8e101a216a05b59a646260218b2467">Tgstation.Server.Host.Database.DatabaseSeeder.databaseConfiguration</a></div><div class="ttdeci">readonly DatabaseConfiguration databaseConfiguration</div><div class="ttdoc">The DatabaseConfiguration for the DatabaseSeeder.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00050">DatabaseSeeder.cs:50</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a88f644df987dce53ffa2e26a763f5974"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a88f644df987dce53ffa2e26a763f5974">Tgstation.Server.Host.Database.DatabaseSeeder.cryptographySuite</a></div><div class="ttdeci">readonly ICryptographySuite cryptographySuite</div><div class="ttdoc">The ICryptographySuite for the DatabaseSeeder.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00025">DatabaseSeeder.cs:25</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a9b30ce06ad99c07d9405020656cc3a1d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a9b30ce06ad99c07d9405020656cc3a1d">Tgstation.Server.Host.Database.DatabaseSeeder.platformIdentifier</a></div><div class="ttdeci">readonly IPlatformIdentifier platformIdentifier</div><div class="ttdoc">The IPlatformIdentifier for the DatabaseSeeder.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00030">DatabaseSeeder.cs:30</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_aaf6976bc08dbb6209b8ca16509604a09"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">Tgstation.Server.Host.Database.DatabaseSeeder.logger</a></div><div class="ttdeci">readonly ILogger&lt; DatabaseSeeder &gt; logger</div><div class="ttdoc">The ILogger for the DatabaseSeeder.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00040">DatabaseSeeder.cs:40</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_ae99d5d9cbe6a8c97d385f81743094c5c"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ae99d5d9cbe6a8c97d385f81743094c5c">Tgstation.Server.Host.Database.DatabaseSeeder.swarmConfiguration</a></div><div class="ttdeci">readonly SwarmConfiguration swarmConfiguration</div><div class="ttdoc">The SwarmConfiguration for the DatabaseSeeder.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00055">DatabaseSeeder.cs:55</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.ConfigurationRights.List</a></div><div class="ttdeci">@ List</div><div class="ttdoc">User may list files if the Models.Instance allows it.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_database_seeder_8cs_source.html#l00025">Tgstation.Server.Host.Database.DatabaseSeeder.cryptographySuite</a>, <a class="el" href="_database_seeder_8cs_source.html#l00050">Tgstation.Server.Host.Database.DatabaseSeeder.databaseConfiguration</a>, <a class="el" href="_database_seeder_8cs_source.html#l00035">Tgstation.Server.Host.Database.DatabaseSeeder.databaseLogger</a>, <a class="el" href="_database_seeder_8cs_source.html#l00045">Tgstation.Server.Host.Database.DatabaseSeeder.generalConfiguration</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_database_seeder_8cs_source.html#l00040">Tgstation.Server.Host.Database.DatabaseSeeder.logger</a>, <a class="el" href="_database_seeder_8cs_source.html#l00030">Tgstation.Server.Host.Database.DatabaseSeeder.platformIdentifier</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00055">Tgstation.Server.Host.Database.DatabaseSeeder.swarmConfiguration</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa1516a1b38e124f682e779a9c9942318" name="aa1516a1b38e124f682e779a9c9942318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1516a1b38e124f682e779a9c9942318">&#9670;&#160;</a></span>Downgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ValueTask Tgstation.Server.Host.Database.DatabaseSeeder.Downgrade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>downgradeVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Migrate a given <em>databaseContext</em>  down.<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html" title="Represents the database.">IDatabaseContext</a> to downgrade.</td></tr>
    <tr><td class="paramname">downgradeVersion</td><td>The migration Version to downgrade the <em>databaseContext</em>  to.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>
 </p>

<p>Implements <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_seeder.html#a059e028f3fe17ded07c0eb9008d3e5b9">Tgstation.Server.Host.Database.IDatabaseSeeder</a>.</p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00140">140</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>        {</div>
<div class="line"><span class="lineno">  142</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>.ThrowIfNull(databaseContext);</div>
<div class="line"><span class="lineno">  143</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>.ThrowIfNull(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">downgradeVersion</a>);</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>            <span class="keywordflow">return</span> databaseContext.SchemaDowngradeForServerVersion(</div>
<div class="line"><span class="lineno">  146</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a2bc9f345004fe0cd972d9275d771b948">databaseLogger</a>,</div>
<div class="line"><span class="lineno">  147</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">downgradeVersion</a>,</div>
<div class="line"><span class="lineno">  148</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a6c8e101a216a05b59a646260218b2467">databaseConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#adab83eaad53afabdb2f7b43c23ece38a">DatabaseType</a>,</div>
<div class="line"><span class="lineno">  149</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  150</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration_html_adab83eaad53afabdb2f7b43c23ece38a"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#adab83eaad53afabdb2f7b43c23ece38a">Tgstation.Server.Host.Configuration.DatabaseConfiguration.DatabaseType</a></div><div class="ttdeci">DatabaseType DatabaseType</div><div class="ttdoc">The Configuration.DatabaseType to create.</div><div class="ttdef"><b>Definition</b> <a href="_database_configuration_8cs_source.html#l00020">DatabaseConfiguration.cs:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_database_seeder_8cs_source.html#l00050">Tgstation.Server.Host.Database.DatabaseSeeder.databaseConfiguration</a>, <a class="el" href="_database_seeder_8cs_source.html#l00035">Tgstation.Server.Host.Database.DatabaseSeeder.databaseLogger</a>, <a class="el" href="_database_configuration_8cs_source.html#l00020">Tgstation.Server.Host.Configuration.DatabaseConfiguration.DatabaseType</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, and <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a3dc28d78cb9503b921799233156ed3f1">Tgstation.Server.Host.Database.IDatabaseContext.SchemaDowngradeForServerVersion()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_aa1516a1b38e124f682e779a9c9942318_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_aa1516a1b38e124f682e779a9c9942318_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_aa1516a1b38e124f682e779a9c9942318_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_aa1516a1b38e124f682e779a9c9942318_cgraph">
<area shape="rect" title="Migrate a given databaseContext &#160;down.A ValueTask representing the running operation." alt="" coords="5,13,214,54"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a3dc28d78cb9503b921799233156ed3f1" title="Attempt to downgrade the schema to the migration used for a given server targetVersion ." alt="" coords="262,5,521,61"/>
<area shape="poly" title=" " alt="" coords="214,31,246,31,246,36,214,36"/>
</map>
</div>

</div>
</div>
<a id="a302d5aab480a8a4599d92f1126d79d10" name="a302d5aab480a8a4599d92f1126d79d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a302d5aab480a8a4599d92f1126d79d10">&#9670;&#160;</a></span>GetAdminUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>?&gt; Tgstation.Server.Host.Database.DatabaseSeeder.GetAdminUser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get or create the admin User. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The IDatabaseContext to use.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask&lt;TResult&gt;</a> resulting in the admin User or <code><a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">null</a></code>. If <code><a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">null</a></code>, IDatabaseContext.Save(CancellationToken) must be called on <em>databaseContext</em> .</dd></dl>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00310">310</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  311</span>        {</div>
<div class="line"><span class="lineno">  312</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext</div>
<div class="line"><span class="lineno">  313</span>                .Users</div>
<div class="line"><span class="lineno">  314</span>                .AsQueryable()</div>
<div class="line"><span class="lineno">  315</span>                .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.CanonicalName == <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">CanonicalizeName</a>(<a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html">DefaultCredentials</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html#a92e853a434de557956993046d1b364bb">AdminUserName</a>))</div>
<div class="line"><span class="lineno">  316</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.CreatedBy)</div>
<div class="line"><span class="lineno">  317</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.PermissionSet)</div>
<div class="line"><span class="lineno">  318</span>                .Include(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Group)</div>
<div class="line"><span class="lineno">  319</span>                .FirstOrDefaultAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  320</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a> == <span class="keywordflow">default</span>)</div>
<div class="line"><span class="lineno">  321</span>                <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf">SeedAdminUser</a>(databaseContext);</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>;</div>
<div class="line"><span class="lineno">  324</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_default_credentials_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html">Tgstation.Server.Api.DefaultCredentials</a></div><div class="ttdoc">Represents initial credentials used by the server.</div><div class="ttdef"><b>Definition</b> <a href="_default_credentials_8cs_source.html#l00006">DefaultCredentials.cs:7</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_default_credentials_html_a92e853a434de557956993046d1b364bb"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html#a92e853a434de557956993046d1b364bb">Tgstation.Server.Api.DefaultCredentials.AdminUserName</a></div><div class="ttdeci">static readonly string AdminUserName</div><div class="ttdoc">The name of the default admin user.</div><div class="ttdef"><b>Definition</b> <a href="_default_credentials_8cs_source.html#l00011">DefaultCredentials.cs:11</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a58329cfe5297b2569da770f7c05e1fbf"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf">Tgstation.Server.Host.Database.DatabaseSeeder.SeedAdminUser</a></div><div class="ttdeci">User SeedAdminUser(IDatabaseContext databaseContext)</div><div class="ttdoc">Add a default admin User to a given databaseContext .</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00157">DatabaseSeeder.cs:157</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_user_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">Tgstation.Server.Host.Models.User</a></div><div class="ttdef"><b>Definition</b> <a href="_models_2_user_8cs_source.html#l00013">User.cs:17</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_user_html_a4b139051d0d6db501e37590fa1eabf16"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">Tgstation.Server.Host.Models.User.CanonicalizeName</a></div><div class="ttdeci">static string CanonicalizeName(string name)</div><div class="ttdoc">Change a UserName.Name into a CanonicalName.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_default_credentials_8cs_source.html#l00011">Tgstation.Server.Api.DefaultCredentials.AdminUserName</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">Tgstation.Server.Host.Models.User.CanonicalizeName()</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_database_seeder_8cs_source.html#l00157">Tgstation.Server.Host.Database.DatabaseSeeder.SeedAdminUser()</a>, and <a class="el" href="_i_database_context_8cs_source.html#l00021">Tgstation.Server.Host.Database.IDatabaseContext.Users</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00278">Tgstation.Server.Host.Database.DatabaseSeeder.ResetAdminPassword()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00201">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_cgraph">
<area shape="rect" title="Get or create the admin User." alt="" coords="5,39,214,79"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16" title="Change a UserName.Name into a CanonicalName." alt="" coords="547,5,742,46"/>
<area shape="poly" title=" " alt="" coords="214,50,531,30,532,35,214,55"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf" title="Add a default admin User to a given databaseContext ." alt="" coords="262,67,477,107"/>
<area shape="poly" title=" " alt="" coords="215,68,247,71,246,76,214,73"/>
<area shape="poly" title=" " alt="" coords="463,63,535,47,536,53,464,69"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081" title="Add a given model &#160;to the the working set." alt="" coords="541,71,749,111"/>
<area shape="poly" title=" " alt="" coords="478,86,525,87,525,92,478,91"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430" title="Sets a User.PasswordHash for a given user ." alt="" coords="525,136,764,177"/>
<area shape="poly" title=" " alt="" coords="454,105,547,129,546,134,453,111"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a302d5aab480a8a4599d92f1126d79d10_icgraph">
<area shape="rect" title="Get or create the admin User." alt="" coords="559,39,767,79"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a374a1163eaa6f02afb419449a4478b48" title="Changes the admin password in IDatabaseContext back to it&#39;s default, enables the account,..." alt="" coords="262,5,511,46"/>
<area shape="poly" title=" " alt="" coords="543,47,511,43,512,38,544,42"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#acccb4650f7b19158f0241418c7345719" title="Correct invalid database data caused by previous versions (NOT user fuckery)." alt="" coords="276,71,497,111"/>
<area shape="poly" title=" " alt="" coords="544,75,498,81,497,76,543,70"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad25dc5de4181c941c699a26e098149e6" title="Setup up a given databaseContext .A ValueTask representing the running operation." alt="" coords="5,39,214,79"/>
<area shape="poly" title=" " alt="" coords="246,45,214,49,214,44,246,40"/>
<area shape="poly" title=" " alt="" coords="260,79,214,74,214,68,260,74"/>
</map>
</div>

</div>
</div>
<a id="ad25dc5de4181c941c699a26e098149e6" name="ad25dc5de4181c941c699a26e098149e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25dc5de4181c941c699a26e098149e6">&#9670;&#160;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask Tgstation.Server.Host.Database.DatabaseSeeder.Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_setup.html">Setup</a> up a given <em>databaseContext</em> .<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html" title="Represents the database.">IDatabaseContext</a> to setup.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>
 </p>

<p>Implements <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_seeder.html#a790482cff63554a0e4c9d618397830a9">Tgstation.Server.Host.Database.IDatabaseSeeder</a>.</p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00111">111</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>        {</div>
<div class="line"><span class="lineno">  113</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ArgumentNullException</a>.ThrowIfNull(databaseContext);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a6c8e101a216a05b59a646260218b2467">databaseConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#a30f47f73075f305073ad72ef3ff44cd4">DropDatabase</a>)</div>
<div class="line"><span class="lineno">  116</span>            {</div>
<div class="line"><span class="lineno">  117</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a>.LogCritical(<span class="stringliteral">&quot;DropDatabase configuration option set! Dropping any existing database...&quot;</span>);</div>
<div class="line"><span class="lineno">  118</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext.Drop(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  119</span>            }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">wasEmpty</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext.Migrate(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a2bc9f345004fe0cd972d9275d771b948">databaseLogger</a>, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  122</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">wasEmpty</a>)</div>
<div class="line"><span class="lineno">  123</span>            {</div>
<div class="line"><span class="lineno">  124</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a>.LogInformation(<span class="stringliteral">&quot;Seeding database...&quot;</span>);</div>
<div class="line"><span class="lineno">  125</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a59c3f85134ebd165aaa4df15c45d3901">SeedDatabase</a>(databaseContext, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  126</span>            }</div>
<div class="line"><span class="lineno">  127</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  128</span>            {</div>
<div class="line"><span class="lineno">  129</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a6c8e101a216a05b59a646260218b2467">databaseConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#a90f97812f033dd9cc418ea1fcffe3ce0">ResetAdminPassword</a>)</div>
<div class="line"><span class="lineno">  130</span>                {</div>
<div class="line"><span class="lineno">  131</span>                    <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a>.LogWarning(<span class="stringliteral">&quot;Enabling and resetting admin password due to configuration!&quot;</span>);</div>
<div class="line"><span class="lineno">  132</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a374a1163eaa6f02afb419449a4478b48">ResetAdminPassword</a>(databaseContext, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  133</span>                }</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#acccb4650f7b19158f0241418c7345719">SanitizeDatabase</a>(databaseContext, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  136</span>            }</div>
<div class="line"><span class="lineno">  137</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration_html_a30f47f73075f305073ad72ef3ff44cd4"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#a30f47f73075f305073ad72ef3ff44cd4">Tgstation.Server.Host.Configuration.DatabaseConfiguration.DropDatabase</a></div><div class="ttdeci">bool DropDatabase</div><div class="ttdoc">If the database should be deleted on application startup. Should not be used in production!...</div><div class="ttdef"><b>Definition</b> <a href="_database_configuration_8cs_source.html#l00035">DatabaseConfiguration.cs:35</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration_html_a90f97812f033dd9cc418ea1fcffe3ce0"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#a90f97812f033dd9cc418ea1fcffe3ce0">Tgstation.Server.Host.Configuration.DatabaseConfiguration.ResetAdminPassword</a></div><div class="ttdeci">bool ResetAdminPassword</div><div class="ttdoc">If the admin user should be enabled and have it's password reset.</div><div class="ttdef"><b>Definition</b> <a href="_database_configuration_8cs_source.html#l00025">DatabaseConfiguration.cs:25</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a374a1163eaa6f02afb419449a4478b48"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a374a1163eaa6f02afb419449a4478b48">Tgstation.Server.Host.Database.DatabaseSeeder.ResetAdminPassword</a></div><div class="ttdeci">async ValueTask ResetAdminPassword(IDatabaseContext databaseContext, CancellationToken cancellationToken)</div><div class="ttdoc">Changes the admin password in IDatabaseContext back to it's default, enables the account,...</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00278">DatabaseSeeder.cs:278</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a59c3f85134ebd165aaa4df15c45d3901"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a59c3f85134ebd165aaa4df15c45d3901">Tgstation.Server.Host.Database.DatabaseSeeder.SeedDatabase</a></div><div class="ttdeci">async ValueTask SeedDatabase(IDatabaseContext databaseContext, CancellationToken cancellationToken)</div><div class="ttdoc">Initially seed a given databaseContext .</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00182">DatabaseSeeder.cs:182</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_acccb4650f7b19158f0241418c7345719"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#acccb4650f7b19158f0241418c7345719">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase</a></div><div class="ttdeci">async ValueTask SanitizeDatabase(IDatabaseContext databaseContext, CancellationToken cancellationToken)</div><div class="ttdoc">Correct invalid database data caused by previous versions (NOT user fuckery).</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00201">DatabaseSeeder.cs:201</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_database_seeder_8cs_source.html#l00050">Tgstation.Server.Host.Database.DatabaseSeeder.databaseConfiguration</a>, <a class="el" href="_database_seeder_8cs_source.html#l00035">Tgstation.Server.Host.Database.DatabaseSeeder.databaseLogger</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a6216e8a817ab6700a155699bb8013584">Tgstation.Server.Host.Database.IDatabaseContext.Drop()</a>, <a class="el" href="_database_configuration_8cs_source.html#l00035">Tgstation.Server.Host.Configuration.DatabaseConfiguration.DropDatabase</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_database_seeder_8cs_source.html#l00040">Tgstation.Server.Host.Database.DatabaseSeeder.logger</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a2c49a304dcaa39776af5b1d5dbeda1fd">Tgstation.Server.Host.Database.IDatabaseContext.Migrate()</a>, <a class="el" href="_database_configuration_8cs_source.html#l00025">Tgstation.Server.Host.Configuration.DatabaseConfiguration.ResetAdminPassword</a>, <a class="el" href="_database_seeder_8cs_source.html#l00278">Tgstation.Server.Host.Database.DatabaseSeeder.ResetAdminPassword()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00201">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00182">Tgstation.Server.Host.Database.DatabaseSeeder.SeedDatabase()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad25dc5de4181c941c699a26e098149e6_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad25dc5de4181c941c699a26e098149e6_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad25dc5de4181c941c699a26e098149e6_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad25dc5de4181c941c699a26e098149e6_cgraph">
<area shape="rect" title="Setup up a given databaseContext .A ValueTask representing the running operation." alt="" coords="5,136,214,177"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a6216e8a817ab6700a155699bb8013584" title="Attempts to delete all tables and drop the database in use." alt="" coords="282,5,491,46"/>
<area shape="poly" title=" " alt="" coords="136,134,191,95,261,57,280,49,282,54,263,61,194,99,139,138"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a2c49a304dcaa39776af5b1d5dbeda1fd" title="Creates and migrates the IDatabaseContext." alt="" coords="282,71,491,111"/>
<area shape="poly" title=" " alt="" coords="198,133,282,113,283,118,199,138"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a374a1163eaa6f02afb419449a4478b48" title="Changes the admin password in IDatabaseContext back to it&#39;s default, enables the account,..." alt="" coords="262,301,511,342"/>
<area shape="poly" title=" " alt="" coords="138,175,194,218,263,263,321,292,318,297,260,268,191,222,134,179"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#acccb4650f7b19158f0241418c7345719" title="Correct invalid database data caused by previous versions (NOT user fuckery)." alt="" coords="276,136,497,177"/>
<area shape="poly" title=" " alt="" coords="214,154,260,154,260,159,214,159"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a59c3f85134ebd165aaa4df15c45d3901" title="Initially seed a given databaseContext ." alt="" coords="282,213,491,254"/>
<area shape="poly" title=" " alt="" coords="186,175,297,206,295,211,184,180"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10" title="Get or create the admin User." alt="" coords="561,232,769,273"/>
<area shape="poly" title=" " alt="" coords="470,298,565,274,566,280,472,303"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430" title="Sets a User.PasswordHash for a given user ." alt="" coords="1089,367,1328,407"/>
<area shape="poly" title=" " alt="" coords="423,340,486,371,522,386,560,396,626,408,695,416,832,420,962,415,1073,404,1074,410,962,420,832,426,694,421,625,413,558,402,520,391,483,376,421,345"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a74e123c6393ad813f997c882a22b228e" title="Saves changes made to the IDatabaseContext." alt="" coords="561,347,769,387"/>
<area shape="poly" title=" " alt="" coords="512,339,546,345,545,350,511,345"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16" title="Change a UserName.Name into a CanonicalName." alt="" coords="1111,188,1306,229"/>
<area shape="poly" title=" " alt="" coords="769,244,1040,224,1095,219,1095,224,1041,230,770,249"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf" title="Add a default admin User to a given databaseContext ." alt="" coords="822,289,1037,330"/>
<area shape="poly" title=" " alt="" coords="762,271,818,283,817,288,761,276"/>
<area shape="poly" title=" " alt="" coords="990,286,1040,268,1137,232,1139,237,1042,274,992,291"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081" title="Add a given model &#160;to the the working set." alt="" coords="1104,277,1313,318"/>
<area shape="poly" title=" " alt="" coords="1037,302,1089,300,1089,305,1038,308"/>
<area shape="poly" title=" " alt="" coords="1006,328,1118,359,1117,365,1005,333"/>
<area shape="poly" title=" " alt="" coords="449,175,590,224,588,229,447,180"/>
<area shape="poly" title=" " alt="" coords="498,145,611,140,747,139,895,145,1041,160,1129,181,1128,186,1040,166,894,150,747,144,611,146,498,151"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098" title="Normalize a path for consistency." alt="" coords="559,16,770,57"/>
<area shape="poly" title=" " alt="" coords="483,133,510,121,524,110,533,98,543,85,557,73,579,61,582,66,561,77,546,89,537,101,528,113,512,125,486,138"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad6ca6c5c2af3d00965272871489da978" title="Add a default system User to a given databaseContext ." alt="" coords="818,175,1041,215"/>
<area shape="poly" title=" " alt="" coords="498,158,771,174,803,177,803,182,770,179,497,163"/>
<area shape="poly" title=" " alt="" coords="1041,198,1095,200,1095,206,1041,203"/>
<area shape="poly" title=" " alt="" coords="988,213,1138,269,1136,274,986,218"/>
<area shape="poly" title=" " alt="" coords="448,252,502,268,559,282,686,298,806,305,806,311,686,303,559,287,500,274,446,257"/>
<area shape="poly" title=" " alt="" coords="443,252,512,287,536,307,560,326,584,338,582,343,558,331,533,311,510,292,440,257"/>
<area shape="poly" title=" " alt="" coords="491,223,559,218,803,201,803,206,559,223,491,228"/>
</map>
</div>

</div>
</div>
<a id="a374a1163eaa6f02afb419449a4478b48" name="a374a1163eaa6f02afb419449a4478b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a374a1163eaa6f02afb419449a4478b48">&#9670;&#160;</a></span>ResetAdminPassword()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask Tgstation.Server.Host.Database.DatabaseSeeder.ResetAdminPassword </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Changes the admin password in IDatabaseContext back to it's default, enables the account, and gives it <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21a6da2fa278de1516d65f3ebe77670f215" title="User has complete control over creating/editing Models.Response.UserResponses and Models....">AdministrationRights.WriteUsers</a> access. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The IDatabaseContext to reset the admin password for.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00278">278</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  279</span>        {</div>
<div class="line"><span class="lineno">  280</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10">GetAdminUser</a>(databaseContext, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  282</span>            {</div>
<div class="line"><span class="lineno">  283</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.Enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>                <span class="comment">// force the user out of any groups</span></div>
<div class="line"><span class="lineno">  286</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>.PermissionSet == <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  287</span>                {</div>
<div class="line"><span class="lineno">  288</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.Group</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  289</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.GroupId</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  290</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.PermissionSet</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_permission_set.html">PermissionSet</a></div>
<div class="line"><span class="lineno">  291</span>                    {</div>
<div class="line"><span class="lineno">  292</span>                        <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a> = <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>.None,</div>
<div class="line"><span class="lineno">  293</span>                        <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21">AdministrationRights</a> = <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21">AdministrationRights</a>.WriteUsers,</div>
<div class="line"><span class="lineno">  294</span>                    };</div>
<div class="line"><span class="lineno">  295</span>                }</div>
<div class="line"><span class="lineno">  296</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  297</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.PermissionSet.AdministrationRights</a> |= <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21">AdministrationRights</a>.WriteUsers;</div>
<div class="line"><span class="lineno">  298</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a88f644df987dce53ffa2e26a763f5974">cryptographySuite</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430">SetUserPassword</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html">DefaultCredentials</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html#a7c4bd40bf42d05fe66169093d3bfc172">DefaultAdminUserPassword</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  299</span>            }</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext.Save(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  302</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_default_credentials_html_a7c4bd40bf42d05fe66169093d3bfc172"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html#a7c4bd40bf42d05fe66169093d3bfc172">Tgstation.Server.Api.DefaultCredentials.DefaultAdminUserPassword</a></div><div class="ttdeci">static readonly string DefaultAdminUserPassword</div><div class="ttdoc">The default admin password.</div><div class="ttdef"><b>Definition</b> <a href="_default_credentials_8cs_source.html#l00016">DefaultCredentials.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_a302d5aab480a8a4599d92f1126d79d10"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10">Tgstation.Server.Host.Database.DatabaseSeeder.GetAdminUser</a></div><div class="ttdeci">async ValueTask&lt; User?&gt; GetAdminUser(IDatabaseContext databaseContext, CancellationToken cancellationToken)</div><div class="ttdoc">Get or create the admin User.</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00310">DatabaseSeeder.cs:310</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_permission_set_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_permission_set.html">Tgstation.Server.Host.Models.PermissionSet</a></div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_permission_set_8cs_source.html#l00008">PermissionSet.cs:9</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite_html_aeab60aa0a0ee2cb5e2ad5dbde1983430"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430">Tgstation.Server.Host.Security.ICryptographySuite.SetUserPassword</a></div><div class="ttdeci">void SetUserPassword(User user, string newPassword, bool newUser)</div><div class="ttdoc">Sets a User.PasswordHash for a given user .</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_af199a84ed6fe6ca557db9de91070ad79"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">Tgstation.Server.Api.Rights.InstanceManagerRights</a></div><div class="ttdeci">InstanceManagerRights</div><div class="ttdoc">Rights for managing Models.Instances.</div><div class="ttdef"><b>Definition</b> <a href="_instance_manager_rights_8cs_source.html#l00009">InstanceManagerRights.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_rights_html_affda1440f9c5e2dfcca65138d2f89a21"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21">Tgstation.Server.Api.Rights.AdministrationRights</a></div><div class="ttdeci">AdministrationRights</div><div class="ttdoc">Administration rights for the server.</div><div class="ttdef"><b>Definition</b> <a href="_administration_rights_8cs_source.html#l00009">AdministrationRights.cs:10</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_database_seeder_8cs_source.html#l00025">Tgstation.Server.Host.Database.DatabaseSeeder.cryptographySuite</a>, <a class="el" href="_default_credentials_8cs_source.html#l00016">Tgstation.Server.Api.DefaultCredentials.DefaultAdminUserPassword</a>, <a class="el" href="_database_seeder_8cs_source.html#l00310">Tgstation.Server.Host.Database.DatabaseSeeder.GetAdminUser()</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a74e123c6393ad813f997c882a22b228e">Tgstation.Server.Host.Database.IDatabaseContext.Save()</a>, and <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430">Tgstation.Server.Host.Security.ICryptographySuite.SetUserPassword()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00111">Tgstation.Server.Host.Database.DatabaseSeeder.Initialize()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_cgraph">
<area shape="rect" title="Changes the admin password in IDatabaseContext back to it&#39;s default, enables the account,..." alt="" coords="5,132,255,173"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10" title="Get or create the admin User." alt="" coords="303,71,511,111"/>
<area shape="poly" title=" " alt="" coords="224,129,297,113,298,118,226,134"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430" title="Sets a User.PasswordHash for a given user ." alt="" coords="822,136,1062,177"/>
<area shape="poly" title=" " alt="" coords="255,150,807,153,807,158,255,156"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a74e123c6393ad813f997c882a22b228e" title="Saves changes made to the IDatabaseContext." alt="" coords="303,189,511,230"/>
<area shape="poly" title=" " alt="" coords="232,171,291,183,290,188,231,176"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16" title="Change a UserName.Name into a CanonicalName." alt="" coords="844,5,1040,46"/>
<area shape="poly" title=" " alt="" coords="497,67,559,56,699,40,829,29,829,34,699,45,559,62,498,73"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf" title="Add a default admin User to a given databaseContext ." alt="" coords="559,71,774,111"/>
<area shape="poly" title=" " alt="" coords="512,88,544,88,544,94,512,94"/>
<area shape="poly" title=" " alt="" coords="755,67,838,47,839,53,756,73"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081" title="Add a given model &#160;to the the working set." alt="" coords="838,71,1046,111"/>
<area shape="poly" title=" " alt="" coords="775,88,823,88,823,94,775,94"/>
<area shape="poly" title=" " alt="" coords="756,109,839,129,838,135,755,115"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a374a1163eaa6f02afb419449a4478b48_icgraph">
<area shape="rect" title="Changes the admin password in IDatabaseContext back to it&#39;s default, enables the account,..." alt="" coords="262,5,511,46"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad25dc5de4181c941c699a26e098149e6" title="Setup up a given databaseContext .A ValueTask representing the running operation." alt="" coords="5,5,214,46"/>
<area shape="poly" title=" " alt="" coords="246,28,214,28,214,23,246,23"/>
</map>
</div>

</div>
</div>
<a id="acccb4650f7b19158f0241418c7345719" name="acccb4650f7b19158f0241418c7345719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acccb4650f7b19158f0241418c7345719">&#9670;&#160;</a></span>SanitizeDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Correct invalid database data caused by previous versions (NOT user fuckery). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The IDatabaseContext to sanitize.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00201">201</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  202</span>        {</div>
<div class="line"><span class="lineno">  203</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10">GetAdminUser</a>(databaseContext, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  205</span>            {</div>
<div class="line"><span class="lineno">  206</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>.PermissionSet != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  207</span>                {</div>
<div class="line"><span class="lineno">  208</span>                    <span class="comment">// Fix the issue with ulong enums</span></div>
<div class="line"><span class="lineno">  209</span>                    <span class="comment">// https://github.com/tgstation/tgstation-server/commit/db341d43b3dab74fe3681f5172ca9bfeaafa6b6d#diff-09f06ec4584665cf89bb77b97f5ccfb9R36-R39</span></div>
<div class="line"><span class="lineno">  210</span>                    <span class="comment">// https://github.com/JamesNK/Newtonsoft.Json/issues/2301</span></div>
<div class="line"><span class="lineno">  211</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.PermissionSet.AdministrationRights</a> &amp;= <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21">AdministrationRights</a>&gt;();</div>
<div class="line"><span class="lineno">  212</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.PermissionSet.InstanceManagerRights</a> &amp;= <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>&gt;();</div>
<div class="line"><span class="lineno">  213</span>                }</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>.CreatedBy == <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  216</span>                {</div>
<div class="line"><span class="lineno">  217</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext</div>
<div class="line"><span class="lineno">  218</span>                        .Users</div>
<div class="line"><span class="lineno">  219</span>                        .AsQueryable()</div>
<div class="line"><span class="lineno">  220</span>                        .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.CanonicalName == <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">CanonicalizeName</a>(<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a2e68345f5d52c8ba64dca5ec061d029d">TgsSystemUserName</a>))</div>
<div class="line"><span class="lineno">  221</span>                        .<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">FirstOrDefaultAsync</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>                    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  224</span>                        <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a>.LogError(</div>
<div class="line"><span class="lineno">  225</span>                            <span class="stringliteral">&quot;A user named TGS (Canonically) exists but isn&#39;t marked as the admin&#39;s creator. This may be because it was created manually. This user is going to be adapted to use as the starter of system jobs.&quot;</span>);</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad6ca6c5c2af3d00965272871489da978">SeedSystemUser</a>(databaseContext, <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a>);</div>
<div class="line"><span class="lineno">  228</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin.CreatedBy</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a>;</div>
<div class="line"><span class="lineno">  229</span>                }</div>
<div class="line"><span class="lineno">  230</span>            }</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>            <span class="comment">// normalize backslashes to forward slashes</span></div>
<div class="line"><span class="lineno">  233</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">allInstances</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext</div>
<div class="line"><span class="lineno">  234</span>                .Instances</div>
<div class="line"><span class="lineno">  235</span>                .AsQueryable()</div>
<div class="line"><span class="lineno">  236</span>                .Where(instance =&gt; instance.SwarmIdentifer == <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ae99d5d9cbe6a8c97d385f81743094c5c">swarmConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Identifier</a>)</div>
<div class="line"><span class="lineno">  237</span>                .ToListAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordflow">foreach</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> instance <span class="keywordflow">in</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">allInstances</a>)</div>
<div class="line"><span class="lineno">  239</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">instance.Path</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a9b30ce06ad99c07d9405020656cc3a1d">platformIdentifier</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098">NormalizePath</a>(instance.Path!.Replace(<span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;/&#39;</span>));</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a51341ea00d7cfc1eead8b52235e76257">generalConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a51431792c5538add1bdad55e499a4971">ByondTopicTimeout</a> != 0)</div>
<div class="line"><span class="lineno">  242</span>            {</div>
<div class="line"><span class="lineno">  243</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ids</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext</div>
<div class="line"><span class="lineno">  244</span>                    .DreamDaemonSettings</div>
<div class="line"><span class="lineno">  245</span>                    .AsQueryable()</div>
<div class="line"><span class="lineno">  246</span>                    .Where(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.TopicRequestTimeout == 0)</div>
<div class="line"><span class="lineno">  247</span>                    .Select(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a> =&gt; <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">x</a>.Id)</div>
<div class="line"><span class="lineno">  248</span>                    .ToListAsync(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">rowsUpdated</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ids</a>.Count;</div>
<div class="line"><span class="lineno">  251</span>                <span class="keywordflow">foreach</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <span class="keywordtype">id</span> <span class="keywordflow">in</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">ids</a>)</div>
<div class="line"><span class="lineno">  252</span>                {</div>
<div class="line"><span class="lineno">  253</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newDDSettings</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_daemon_settings.html">DreamDaemonSettings</a></div>
<div class="line"><span class="lineno">  254</span>                    {</div>
<div class="line"><span class="lineno">  255</span>                        <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host_1_1_authority.html#a6055c0b2bf09442f677be3ed1eb725d5a490aa6e856ccf208a054389e47ce0d06">Id</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">id</a>,</div>
<div class="line"><span class="lineno">  256</span>                    };</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>                    databaseContext.DreamDaemonSettings.Attach(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newDDSettings</a>);</div>
<div class="line"><span class="lineno">  259</span>                    <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">newDDSettings.TopicRequestTimeout</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a51341ea00d7cfc1eead8b52235e76257">generalConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a51431792c5538add1bdad55e499a4971">ByondTopicTimeout</a>;</div>
<div class="line"><span class="lineno">  260</span>                }</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>                <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">rowsUpdated</a> &gt; 0)</div>
<div class="line"><span class="lineno">  263</span>                    <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#aaf6976bc08dbb6209b8ca16509604a09">logger</a>.LogInformation(</div>
<div class="line"><span class="lineno">  264</span>                        <span class="stringliteral">&quot;Updated {count} instances to use database backed BYOND topic timeouts from configuration setting of {timeout}&quot;</span>,</div>
<div class="line"><span class="lineno">  265</span>                        <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">rowsUpdated</a>,</div>
<div class="line"><span class="lineno">  266</span>                        <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a51341ea00d7cfc1eead8b52235e76257">generalConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a51431792c5538add1bdad55e499a4971">ByondTopicTimeout</a>);</div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext.Save(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  270</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server_html_af98e4f47f1aa632ead02ed80695ce836"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_swarm_server.html#af98e4f47f1aa632ead02ed80695ce836">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a></div><div class="ttdeci">string? Identifier</div><div class="ttdoc">The server's identifier.</div><div class="ttdef"><b>Definition</b> <a href="_swarm_server_8cs_source.html#l00027">SwarmServer.cs:27</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">Tgstation.Server.Api.Rights.RightsHelper</a></div><div class="ttdoc">Helper for RightsTypes.</div><div class="ttdef"><b>Definition</b> <a href="_rights_helper_8cs_source.html#l00011">RightsHelper.cs:12</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration_html_a51431792c5538add1bdad55e499a4971"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a51431792c5538add1bdad55e499a4971">Tgstation.Server.Host.Configuration.GeneralConfiguration.ByondTopicTimeout</a></div><div class="ttdeci">uint ByondTopicTimeout</div><div class="ttdoc">The timeout in milliseconds for sending and receiving topics to/from DreamDaemon. Note that a single ...</div><div class="ttdef"><b>Definition</b> <a href="_general_configuration_8cs_source.html#l00113">GeneralConfiguration.cs:113</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html_ad6ca6c5c2af3d00965272871489da978"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad6ca6c5c2af3d00965272871489da978">Tgstation.Server.Host.Database.DatabaseSeeder.SeedSystemUser</a></div><div class="ttdeci">static User SeedSystemUser(IDatabaseContext databaseContext, User? tgsUser=null)</div><div class="ttdoc">Add a default system User to a given databaseContext .</div><div class="ttdef"><b>Definition</b> <a href="_database_seeder_8cs_source.html#l00063">DatabaseSeeder.cs:63</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_daemon_settings_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_dream_daemon_settings.html">Tgstation.Server.Host.Models.DreamDaemonSettings</a></div><div class="ttdef"><b>Definition</b> <a href="_tgstation_8_server_8_host_2_models_2_dream_daemon_settings_8cs_source.html#l00006">DreamDaemonSettings.cs:7</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_models_1_1_user_html_a2e68345f5d52c8ba64dca5ec061d029d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a2e68345f5d52c8ba64dca5ec061d029d">Tgstation.Server.Host.Models.User.TgsSystemUserName</a></div><div class="ttdeci">const string TgsSystemUserName</div><div class="ttdoc">Username used when creating jobs automatically.</div><div class="ttdef"><b>Definition</b> <a href="_models_2_user_8cs_source.html#l00021">User.cs:21</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier_html_a885378549e2e71bda33b550c252e6098"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098">Tgstation.Server.Host.System.IPlatformIdentifier.NormalizePath</a></div><div class="ttdeci">string NormalizePath(string path)</div><div class="ttdoc">Normalize a path for consistency.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_authority_html_a6055c0b2bf09442f677be3ed1eb725d5a490aa6e856ccf208a054389e47ce0d06"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_authority.html#a6055c0b2bf09442f677be3ed1eb725d5a490aa6e856ccf208a054389e47ce0d06">Tgstation.Server.Host.Authority.PermissionSetLookupType.Id</a></div><div class="ttdeci">@ Id</div><div class="ttdoc">Lookup the Api.Models.EntityId.Id of the Models.PermissionSet.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_general_configuration_8cs_source.html#l00113">Tgstation.Server.Host.Configuration.GeneralConfiguration.ByondTopicTimeout</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">Tgstation.Server.Host.Models.User.CanonicalizeName()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00045">Tgstation.Server.Host.Database.DatabaseSeeder.generalConfiguration</a>, <a class="el" href="_database_seeder_8cs_source.html#l00310">Tgstation.Server.Host.Database.DatabaseSeeder.GetAdminUser()</a>, <a class="el" href="_swarm_server_8cs_source.html#l00027">Tgstation.Server.Api.Models.Internal.SwarmServer.Identifier</a>, <a class="el" href="_i_database_context_8cs_source.html#l00026">Tgstation.Server.Host.Database.IDatabaseContext.Instances</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_database_seeder_8cs_source.html#l00040">Tgstation.Server.Host.Database.DatabaseSeeder.logger</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098">Tgstation.Server.Host.System.IPlatformIdentifier.NormalizePath()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00030">Tgstation.Server.Host.Database.DatabaseSeeder.platformIdentifier</a>, <a class="el" href="_database_seeder_8cs_source.html#l00063">Tgstation.Server.Host.Database.DatabaseSeeder.SeedSystemUser()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00055">Tgstation.Server.Host.Database.DatabaseSeeder.swarmConfiguration</a>, <a class="el" href="_models_2_user_8cs_source.html#l00021">Tgstation.Server.Host.Models.User.TgsSystemUserName</a>, and <a class="el" href="_i_database_context_8cs_source.html#l00021">Tgstation.Server.Host.Database.IDatabaseContext.Users</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00111">Tgstation.Server.Host.Database.DatabaseSeeder.Initialize()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_cgraph">
<area shape="rect" title="Correct invalid database data caused by previous versions (NOT user fuckery)." alt="" coords="5,75,227,115"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16" title="Change a UserName.Name into a CanonicalName." alt="" coords="826,5,1022,46"/>
<area shape="poly" title=" " alt="" coords="158,72,212,49,274,31,345,19,418,11,563,4,698,6,811,12,811,17,698,11,564,9,419,16,346,25,275,36,214,54,160,77"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10" title="Get or create the admin User." alt="" coords="276,45,485,86"/>
<area shape="poly" title=" " alt="" coords="227,80,260,76,261,82,227,85"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#a885378549e2e71bda33b550c252e6098" title="Normalize a path for consistency." alt="" coords="275,160,486,201"/>
<area shape="poly" title=" " alt="" coords="183,113,302,152,300,157,181,119"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad6ca6c5c2af3d00965272871489da978" title="Add a default system User to a given databaseContext ." alt="" coords="534,136,756,177"/>
<area shape="poly" title=" " alt="" coords="227,105,519,139,518,144,227,110"/>
<area shape="poly" title=" " alt="" coords="485,55,811,31,811,37,485,61"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf" title="Add a default admin User to a given databaseContext ." alt="" coords="538,71,753,111"/>
<area shape="poly" title=" " alt="" coords="485,73,522,77,522,82,485,78"/>
<area shape="poly" title=" " alt="" coords="734,67,819,47,820,53,736,73"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081" title="Add a given model &#160;to the the working set." alt="" coords="820,136,1028,177"/>
<area shape="poly" title=" " alt="" coords="736,109,820,129,819,135,734,115"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430" title="Sets a User.PasswordHash for a given user ." alt="" coords="804,71,1044,111"/>
<area shape="poly" title=" " alt="" coords="753,88,789,88,789,94,753,94"/>
<area shape="poly" title=" " alt="" coords="733,133,755,121,770,106,778,90,786,73,803,57,812,51,815,56,806,61,791,76,783,92,774,109,758,125,735,138"/>
<area shape="poly" title=" " alt="" coords="757,154,804,154,804,159,757,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_acccb4650f7b19158f0241418c7345719_icgraph">
<area shape="rect" title="Correct invalid database data caused by previous versions (NOT user fuckery)." alt="" coords="262,5,483,46"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad25dc5de4181c941c699a26e098149e6" title="Setup up a given databaseContext .A ValueTask representing the running operation." alt="" coords="5,5,214,46"/>
<area shape="poly" title=" " alt="" coords="246,28,214,28,214,23,246,23"/>
</map>
</div>

</div>
</div>
<a id="a58329cfe5297b2569da770f7c05e1fbf" name="a58329cfe5297b2569da770f7c05e1fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58329cfe5297b2569da770f7c05e1fbf">&#9670;&#160;</a></span>SeedAdminUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a> Tgstation.Server.Host.Database.DatabaseSeeder.SeedAdminUser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a default admin User to a given <em>databaseContext</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The IDatabaseContext to add an admin User to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created admin User.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00157">157</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  158</span>        {</div>
<div class="line"><span class="lineno">  159</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a></div>
<div class="line"><span class="lineno">  160</span>            {</div>
<div class="line"><span class="lineno">  161</span>                <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_permission_set.html">PermissionSet</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_permission_set.html">PermissionSet</a></div>
<div class="line"><span class="lineno">  162</span>                {</div>
<div class="line"><span class="lineno">  163</span>                    <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21">AdministrationRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#affda1440f9c5e2dfcca65138d2f89a21">AdministrationRights</a>&gt;(),</div>
<div class="line"><span class="lineno">  164</span>                    <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_rights_1_1_rights_helper.html">RightsHelper</a>.AllRights&lt;<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#af199a84ed6fe6ca557db9de91070ad79">InstanceManagerRights</a>&gt;(),</div>
<div class="line"><span class="lineno">  165</span>                },</div>
<div class="line"><span class="lineno">  166</span>                CreatedAt = DateTimeOffset.UtcNow,</div>
<div class="line"><span class="lineno">  167</span>                Name = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html">DefaultCredentials</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html#a92e853a434de557956993046d1b364bb">AdminUserName</a>,</div>
<div class="line"><span class="lineno">  168</span>                CanonicalName = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">CanonicalizeName</a>(<a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html">DefaultCredentials</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html#a92e853a434de557956993046d1b364bb">AdminUserName</a>),</div>
<div class="line"><span class="lineno">  169</span>                <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_host.html#a71712cdd4f38be5482e1d08905c0c308a00d23a76e43b46dae9ec7aa9dcbebb32">Enabled</a> = <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno">  170</span>            };</div>
<div class="line"><span class="lineno">  171</span>            <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a88f644df987dce53ffa2e26a763f5974">cryptographySuite</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430">SetUserPassword</a>(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html">DefaultCredentials</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_api_1_1_default_credentials.html#a7c4bd40bf42d05fe66169093d3bfc172">DefaultAdminUserPassword</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  172</span>            databaseContext.Users.Add(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>);</div>
<div class="line"><span class="lineno">  173</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">admin</a>;</div>
<div class="line"><span class="lineno">  174</span>        }</div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_html_a71712cdd4f38be5482e1d08905c0c308a00d23a76e43b46dae9ec7aa9dcbebb32"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host.html#a71712cdd4f38be5482e1d08905c0c308a00d23a76e43b46dae9ec7aa9dcbebb32">Tgstation.Server.Host.OAuthGatewayStatus.Enabled</a></div><div class="ttdeci">@ Enabled</div><div class="ttdoc">The OAuth Gateway is enabled.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081">Tgstation.Server.Host.Database.IDatabaseCollection&lt; TModel &gt;.Add()</a>, <a class="el" href="_default_credentials_8cs_source.html#l00011">Tgstation.Server.Api.DefaultCredentials.AdminUserName</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">Tgstation.Server.Host.Models.User.CanonicalizeName()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00025">Tgstation.Server.Host.Database.DatabaseSeeder.cryptographySuite</a>, <a class="el" href="_default_credentials_8cs_source.html#l00016">Tgstation.Server.Api.DefaultCredentials.DefaultAdminUserPassword</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_host.html#a71712cdd4f38be5482e1d08905c0c308a00d23a76e43b46dae9ec7aa9dcbebb32">Tgstation.Server.Host.Enabled</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430">Tgstation.Server.Host.Security.ICryptographySuite.SetUserPassword()</a>, and <a class="el" href="_i_database_context_8cs_source.html#l00021">Tgstation.Server.Host.Database.IDatabaseContext.Users</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00310">Tgstation.Server.Host.Database.DatabaseSeeder.GetAdminUser()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00182">Tgstation.Server.Host.Database.DatabaseSeeder.SeedDatabase()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_cgraph">
<area shape="rect" title="Add a default admin User to a given databaseContext ." alt="" coords="5,71,221,111"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081" title="Add a given model &#160;to the the working set." alt="" coords="284,5,493,46"/>
<area shape="poly" title=" " alt="" coords="201,67,284,47,286,53,202,73"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16" title="Change a UserName.Name into a CanonicalName." alt="" coords="291,71,486,111"/>
<area shape="poly" title=" " alt="" coords="221,88,275,88,275,94,221,94"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430" title="Sets a User.PasswordHash for a given user ." alt="" coords="269,136,508,177"/>
<area shape="poly" title=" " alt="" coords="202,109,286,129,284,135,201,115"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a58329cfe5297b2569da770f7c05e1fbf_icgraph">
<area shape="rect" title="Add a default admin User to a given databaseContext ." alt="" coords="815,96,1031,137"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a302d5aab480a8a4599d92f1126d79d10" title="Get or create the admin User." alt="" coords="559,63,767,103"/>
<area shape="poly" title=" " alt="" coords="799,103,767,99,768,94,800,98"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a59c3f85134ebd165aaa4df15c45d3901" title="Initially seed a given databaseContext ." alt="" coords="559,128,767,169"/>
<area shape="poly" title=" " alt="" coords="800,134,768,138,767,133,799,129"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a374a1163eaa6f02afb419449a4478b48" title="Changes the admin password in IDatabaseContext back to it&#39;s default, enables the account,..." alt="" coords="262,5,511,46"/>
<area shape="poly" title=" " alt="" coords="546,62,487,49,489,44,547,56"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#acccb4650f7b19158f0241418c7345719" title="Correct invalid database data caused by previous versions (NOT user fuckery)." alt="" coords="276,71,497,111"/>
<area shape="poly" title=" " alt="" coords="543,89,497,90,497,85,543,84"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad25dc5de4181c941c699a26e098149e6" title="Setup up a given databaseContext .A ValueTask representing the running operation." alt="" coords="5,71,214,111"/>
<area shape="poly" title=" " alt="" coords="283,53,199,73,198,67,282,48"/>
<area shape="poly" title=" " alt="" coords="260,94,214,94,214,88,260,88"/>
<area shape="poly" title=" " alt="" coords="543,148,408,141,261,126,199,115,199,109,262,120,408,135,544,143"/>
</map>
</div>

</div>
</div>
<a id="a59c3f85134ebd165aaa4df15c45d3901" name="a59c3f85134ebd165aaa4df15c45d3901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c3f85134ebd165aaa4df15c45d3901">&#9670;&#160;</a></span>SeedDatabase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask Tgstation.Server.Host.Database.DatabaseSeeder.SeedDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initially seed a given <em>databaseContext</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The IDatabaseContext to seed.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ValueTask</a> representing the running operation.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00182">182</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  183</span>        {</div>
<div class="line"><span class="lineno">  184</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">adminUser</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf">SeedAdminUser</a>(databaseContext);</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>            <span class="comment">// Save here because we want admin to have the first DB Id</span></div>
<div class="line"><span class="lineno">  187</span>            <span class="comment">// The system user isn&#39;t shown in the API except by references in the admin user and jobs</span></div>
<div class="line"><span class="lineno">  188</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext.Save(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  189</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">var</a> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad6ca6c5c2af3d00965272871489da978">SeedSystemUser</a>(databaseContext);</div>
<div class="line"><span class="lineno">  190</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">adminUser.CreatedBy</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a>;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">await</a> databaseContext.Save(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">cancellationToken</a>);</div>
<div class="line"><span class="lineno">  193</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a74e123c6393ad813f997c882a22b228e">Tgstation.Server.Host.Database.IDatabaseContext.Save()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00157">Tgstation.Server.Host.Database.DatabaseSeeder.SeedAdminUser()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00063">Tgstation.Server.Host.Database.DatabaseSeeder.SeedSystemUser()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00111">Tgstation.Server.Host.Database.DatabaseSeeder.Initialize()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_cgraph">
<area shape="rect" title="Initially seed a given databaseContext ." alt="" coords="5,71,214,111"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html#a74e123c6393ad813f997c882a22b228e" title="Saves changes made to the IDatabaseContext." alt="" coords="269,5,477,46"/>
<area shape="poly" title=" " alt="" coords="194,67,273,48,274,53,195,73"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a58329cfe5297b2569da770f7c05e1fbf" title="Add a default admin User to a given databaseContext ." alt="" coords="265,136,481,177"/>
<area shape="poly" title=" " alt="" coords="195,109,274,129,273,134,194,115"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad6ca6c5c2af3d00965272871489da978" title="Add a default system User to a given databaseContext ." alt="" coords="262,71,484,111"/>
<area shape="poly" title=" " alt="" coords="214,88,246,88,246,94,214,94"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081" title="Add a given model &#160;to the the working set." alt="" coords="548,136,756,177"/>
<area shape="poly" title=" " alt="" coords="481,154,532,154,532,159,481,159"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16" title="Change a UserName.Name into a CanonicalName." alt="" coords="554,71,749,111"/>
<area shape="poly" title=" " alt="" coords="462,133,546,113,548,118,463,138"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html#aeab60aa0a0ee2cb5e2ad5dbde1983430" title="Sets a User.PasswordHash for a given user ." alt="" coords="532,201,771,242"/>
<area shape="poly" title=" " alt="" coords="463,175,548,195,546,200,462,180"/>
<area shape="poly" title=" " alt="" coords="463,109,548,129,546,135,462,115"/>
<area shape="poly" title=" " alt="" coords="485,88,539,88,539,94,485,94"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_a59c3f85134ebd165aaa4df15c45d3901_icgraph">
<area shape="rect" title="Initially seed a given databaseContext ." alt="" coords="262,5,470,46"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad25dc5de4181c941c699a26e098149e6" title="Setup up a given databaseContext .A ValueTask representing the running operation." alt="" coords="5,5,214,46"/>
<area shape="poly" title=" " alt="" coords="246,28,214,28,214,23,246,23"/>
</map>
</div>

</div>
</div>
<a id="ad6ca6c5c2af3d00965272871489da978" name="ad6ca6c5c2af3d00965272871489da978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ca6c5c2af3d00965272871489da978">&#9670;&#160;</a></span>SeedSystemUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a> Tgstation.Server.Host.Database.DatabaseSeeder.SeedSystemUser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&#160;</td>
          <td class="paramname"><em>databaseContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>?&#160;</td>
          <td class="paramname"><em>tgsUser</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a default system User to a given <em>databaseContext</em> . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseContext</td><td>The IDatabaseContext to add a system User to.</td></tr>
    <tr><td class="paramname">tgsUser</td><td>An existing User, if any.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created system User.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00063">63</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>        {</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">alreadyExists</a> = <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a> != <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">   66</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a> ??= <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>()</div>
<div class="line"><span class="lineno">   67</span>            {</div>
<div class="line"><span class="lineno">   68</span>                CreatedAt = DateTimeOffset.UtcNow,</div>
<div class="line"><span class="lineno">   69</span>                CanonicalName = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">CanonicalizeName</a>(<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a2e68345f5d52c8ba64dca5ec061d029d">TgsSystemUserName</a>),</div>
<div class="line"><span class="lineno">   70</span>            };</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>            <span class="comment">// intentionally not giving a group or permissionset</span></div>
<div class="line"><span class="lineno">   73</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser.Name</a> = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html">User</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a2e68345f5d52c8ba64dca5ec061d029d">TgsSystemUserName</a>;</div>
<div class="line"><span class="lineno">   74</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser.PasswordHash</a> = <span class="stringliteral">&quot;_&quot;</span>; <span class="comment">// This can&#39;t be hashed</span></div>
<div class="line"><span class="lineno">   75</span>            <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser.Enabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>            <span class="keywordflow">if</span> (!<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">alreadyExists</a>)</div>
<div class="line"><span class="lineno">   78</span>                databaseContext.Users.Add(<a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a>);</div>
<div class="line"><span class="lineno">   79</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">tgsUser</a>;</div>
<div class="line"><span class="lineno">   80</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081">Tgstation.Server.Host.Database.IDatabaseCollection&lt; TModel &gt;.Add()</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16">Tgstation.Server.Host.Models.User.CanonicalizeName()</a>, <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135">Tgstation.Server.Api.Rights.List</a>, <a class="el" href="_models_2_user_8cs_source.html#l00021">Tgstation.Server.Host.Models.User.TgsSystemUserName</a>, and <a class="el" href="_i_database_context_8cs_source.html#l00021">Tgstation.Server.Host.Database.IDatabaseContext.Users</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00201">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00182">Tgstation.Server.Host.Database.DatabaseSeeder.SeedDatabase()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_cgraph">
<area shape="rect" title="Add a default system User to a given databaseContext ." alt="" coords="5,39,228,79"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_collection.html#abd9cab598d35f6af8c789a1f01bba081" title="Add a given model &#160;to the the working set." alt="" coords="276,5,484,46"/>
<area shape="poly" title=" " alt="" coords="228,42,260,38,261,43,228,48"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_user.html#a4b139051d0d6db501e37590fa1eabf16" title="Change a UserName.Name into a CanonicalName." alt="" coords="282,71,478,111"/>
<area shape="poly" title=" " alt="" coords="228,70,267,75,266,80,228,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_ad6ca6c5c2af3d00965272871489da978_icgraph">
<area shape="rect" title="Add a default system User to a given databaseContext ." alt="" coords="531,39,753,79"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#acccb4650f7b19158f0241418c7345719" title="Correct invalid database data caused by previous versions (NOT user fuckery)." alt="" coords="262,5,483,46"/>
<area shape="poly" title=" " alt="" coords="515,46,483,42,484,37,516,41"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#a59c3f85134ebd165aaa4df15c45d3901" title="Initially seed a given databaseContext ." alt="" coords="268,71,477,111"/>
<area shape="poly" title=" " alt="" coords="516,77,477,81,476,76,515,71"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html#ad25dc5de4181c941c699a26e098149e6" title="Setup up a given databaseContext .A ValueTask representing the running operation." alt="" coords="5,39,214,79"/>
<area shape="poly" title=" " alt="" coords="246,44,215,48,214,43,246,39"/>
<area shape="poly" title=" " alt="" coords="253,79,214,74,215,69,253,74"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a88f644df987dce53ffa2e26a763f5974" name="a88f644df987dce53ffa2e26a763f5974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f644df987dce53ffa2e26a763f5974">&#9670;&#160;</a></span>cryptographySuite</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html">ICryptographySuite</a> Tgstation.Server.Host.Database.DatabaseSeeder.cryptographySuite</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The ICryptographySuite for the DatabaseSeeder. </p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00025">25</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00092">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00278">Tgstation.Server.Host.Database.DatabaseSeeder.ResetAdminPassword()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00157">Tgstation.Server.Host.Database.DatabaseSeeder.SeedAdminUser()</a>.</p>

</div>
</div>
<a id="a6c8e101a216a05b59a646260218b2467" name="a6c8e101a216a05b59a646260218b2467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c8e101a216a05b59a646260218b2467">&#9670;&#160;</a></span>databaseConfiguration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html">DatabaseConfiguration</a> Tgstation.Server.Host.Database.DatabaseSeeder.databaseConfiguration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The DatabaseConfiguration for the DatabaseSeeder. </p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00050">50</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00092">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00140">Tgstation.Server.Host.Database.DatabaseSeeder.Downgrade()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00111">Tgstation.Server.Host.Database.DatabaseSeeder.Initialize()</a>.</p>

</div>
</div>
<a id="a2bc9f345004fe0cd972d9275d771b948" name="a2bc9f345004fe0cd972d9275d771b948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc9f345004fe0cd972d9275d771b948">&#9670;&#160;</a></span>databaseLogger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly ILogger&lt;<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>&gt; Tgstation.Server.Host.Database.DatabaseSeeder.databaseLogger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ILogger</a> used for IDatabaseContexts. </p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00035">35</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00092">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00140">Tgstation.Server.Host.Database.DatabaseSeeder.Downgrade()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00111">Tgstation.Server.Host.Database.DatabaseSeeder.Initialize()</a>.</p>

</div>
</div>
<a id="a51341ea00d7cfc1eead8b52235e76257" name="a51341ea00d7cfc1eead8b52235e76257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51341ea00d7cfc1eead8b52235e76257">&#9670;&#160;</a></span>generalConfiguration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> Tgstation.Server.Host.Database.DatabaseSeeder.generalConfiguration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The GeneralConfiguration for the DatabaseSeeder. </p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00045">45</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00092">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00201">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase()</a>.</p>

</div>
</div>
<a id="aaf6976bc08dbb6209b8ca16509604a09" name="aaf6976bc08dbb6209b8ca16509604a09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf6976bc08dbb6209b8ca16509604a09">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly ILogger&lt;<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html">DatabaseSeeder</a>&gt; Tgstation.Server.Host.Database.DatabaseSeeder.logger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_rights.html#a691a59767073bc7dff0f17b809d07b0ca4ee29ca12c7d126654bd0e5275de6135" title="User may list files if the Models.Instance allows it.">ILogger</a> for the DatabaseSeeder. </p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00040">40</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00092">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder()</a>, <a class="el" href="_database_seeder_8cs_source.html#l00111">Tgstation.Server.Host.Database.DatabaseSeeder.Initialize()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00201">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase()</a>.</p>

</div>
</div>
<a id="a9b30ce06ad99c07d9405020656cc3a1d" name="a9b30ce06ad99c07d9405020656cc3a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b30ce06ad99c07d9405020656cc3a1d">&#9670;&#160;</a></span>platformIdentifier</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html">IPlatformIdentifier</a> Tgstation.Server.Host.Database.DatabaseSeeder.platformIdentifier</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IPlatformIdentifier for the DatabaseSeeder. </p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00030">30</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00092">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00201">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase()</a>.</p>

</div>
</div>
<a id="ae99d5d9cbe6a8c97d385f81743094c5c" name="ae99d5d9cbe6a8c97d385f81743094c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae99d5d9cbe6a8c97d385f81743094c5c">&#9670;&#160;</a></span>swarmConfiguration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> Tgstation.Server.Host.Database.DatabaseSeeder.swarmConfiguration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SwarmConfiguration for the DatabaseSeeder. </p>

<p class="definition">Definition at line <a class="el" href="_database_seeder_8cs_source.html#l00055">55</a> of file <a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_database_seeder_8cs_source.html#l00092">Tgstation.Server.Host.Database.DatabaseSeeder.DatabaseSeeder()</a>, and <a class="el" href="_database_seeder_8cs_source.html#l00201">Tgstation.Server.Host.Database.DatabaseSeeder.SanitizeDatabase()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Tgstation.Server.Host/Database/<a class="el" href="_database_seeder_8cs_source.html">DatabaseSeeder.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
