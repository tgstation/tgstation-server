<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tgstation-server: Tgstation.Server.Host.Core.Application Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="tgs.ico"/></td>
  <td id="projectalign">
   <div id="projectname">tgstation-server<span id="projectnumber">&#160;6.7.0</span>
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_tgstation.html">Tgstation</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server.html">Server</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host.html">Host</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_core.html">Core</a></li><li class="navelem"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html">Application</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Tgstation.Server.Host.Core.Application Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Sets up dependency injection.   
 <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Tgstation.Server.Host.Core.Application:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application__inherit__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_core_8_application_inherit__map" alt="Inheritance graph"/></div>
<map name="a_tgstation_8_server_8_host_8_core_8_application_inherit__map" id="a_tgstation_8_server_8_host_8_core_8_application_inherit__map">
<area shape="rect" title="Sets up dependency injection." alt="" coords="5,79,187,119"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html" title="DI root for configuring a SetupWizard." alt="" coords="36,5,156,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Tgstation.Server.Host.Core.Application:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application__coll__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_core_8_application_coll__map" alt="Collaboration graph"/></div>
<map name="a_tgstation_8_server_8_host_8_core_8_application_coll__map" id="a_tgstation_8_server_8_host_8_core_8_application_coll__map">
<area shape="rect" title="Sets up dependency injection." alt="" coords="373,47,555,87"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html" title="DI root for configuring a SetupWizard." alt="" coords="47,5,167,31"/>
<area shape="rect" title=" " alt="" coords="5,55,208,80"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html" title="For creating TokenResponses." alt="" coords="6,105,207,145"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abc6f8677db1baf9744162670d4a02a6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#abc6f8677db1baf9744162670d4a02a6c">Application</a> (IConfiguration configuration, IWebHostEnvironment <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">hostingEnvironment</a>)</td></tr>
<tr class="memdesc:abc6f8677db1baf9744162670d4a02a6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a> class.   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#abc6f8677db1baf9744162670d4a02a6c">More...</a><br /></td></tr>
<tr class="separator:abc6f8677db1baf9744162670d4a02a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec60bfa2b57cd85cae110578270a60f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a3ec60bfa2b57cd85cae110578270a60f">ConfigureServices</a> (IServiceCollection services, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_assembly_information_provider.html">IAssemblyInformationProvider</a> assemblyInformationProvider, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> ioManager, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html">IPostSetupServices</a> postSetupServices)</td></tr>
<tr class="memdesc:a3ec60bfa2b57cd85cae110578270a60f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>'s <em>services</em> .   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a3ec60bfa2b57cd85cae110578270a60f">More...</a><br /></td></tr>
<tr class="separator:a3ec60bfa2b57cd85cae110578270a60f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e37dafd001a45a74d6b22893456ed8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#aa7e37dafd001a45a74d6b22893456ed8">Configure</a> (IApplicationBuilder applicationBuilder, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_control.html">IServerControl</a> serverControl, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html">ITokenFactory</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c">tokenFactory</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_port_provider.html">IServerPortProvider</a> serverPortProvider, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_assembly_information_provider.html">IAssemblyInformationProvider</a> assemblyInformationProvider, IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_control_panel_configuration.html">ControlPanelConfiguration</a> &gt; controlPanelConfigurationOptions, IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> &gt; generalConfigurationOptions, IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> &gt; swarmConfigurationOptions, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html">Application</a> &gt; logger)</td></tr>
<tr class="memdesc:aa7e37dafd001a45a74d6b22893456ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#aa7e37dafd001a45a74d6b22893456ed8">More...</a><br /></td></tr>
<tr class="separator:aa7e37dafd001a45a74d6b22893456ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html">Tgstation.Server.Host.Setup.SetupApplication</a></td></tr>
<tr class="memitem:a84d9dcc04d19491908f337980bfc36dc inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a84d9dcc04d19491908f337980bfc36dc">SetupApplication</a> (IConfiguration configuration)</td></tr>
<tr class="memdesc:a84d9dcc04d19491908f337980bfc36dc inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html" title="DI root for configuring a SetupWizard.">SetupApplication</a> class.   <a href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a84d9dcc04d19491908f337980bfc36dc">More...</a><br /></td></tr>
<tr class="separator:a84d9dcc04d19491908f337980bfc36dc inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06dbb5c5ccb268f1f47b5819450c1290 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a06dbb5c5ccb268f1f47b5819450c1290">ConfigureServices</a> (IServiceCollection services, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_assembly_information_provider.html">IAssemblyInformationProvider</a> assemblyInformationProvider, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> ioManager)</td></tr>
<tr class="memdesc:a06dbb5c5ccb268f1f47b5819450c1290 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure dependency injected services.   <a href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a06dbb5c5ccb268f1f47b5819450c1290">More...</a><br /></td></tr>
<tr class="separator:a06dbb5c5ccb268f1f47b5819450c1290 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6720ad4775ff4751c0d2e00b36f0c31f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_server_factory.html">IServerFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a6720ad4775ff4751c0d2e00b36f0c31f">CreateDefaultServerFactory</a> ()</td></tr>
<tr class="memdesc:a6720ad4775ff4751c0d2e00b36f0c31f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the default <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_server_factory.html" title="For creating IServers.">IServerFactory</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a6720ad4775ff4751c0d2e00b36f0c31f">More...</a><br /></td></tr>
<tr class="separator:a6720ad4775ff4751c0d2e00b36f0c31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1d6e849d4a69fe90f23f60aaeb2bc960"><td class="memItemLeft" align="right" valign="top">override void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a1d6e849d4a69fe90f23f60aaeb2bc960">ConfigureHostedService</a> (IServiceCollection services)</td></tr>
<tr class="memdesc:a1d6e849d4a69fe90f23f60aaeb2bc960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the <a class="el" href="class_i_hosted_service.html">IHostedService</a>. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">services</td><td>The IServiceCollection to configure.</td></tr>
  </table>
  </dd>
</dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a1d6e849d4a69fe90f23f60aaeb2bc960">More...</a><br /></td></tr>
<tr class="separator:a1d6e849d4a69fe90f23f60aaeb2bc960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03097b9f375ae721b318fc2aaf970b9b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a03097b9f375ae721b318fc2aaf970b9b">ConfigureHostedService</a> (IServiceCollection services)</td></tr>
<tr class="memdesc:a03097b9f375ae721b318fc2aaf970b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the <a class="el" href="class_i_hosted_service.html">IHostedService</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a03097b9f375ae721b318fc2aaf970b9b">More...</a><br /></td></tr>
<tr class="separator:a03097b9f375ae721b318fc2aaf970b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7518c1b2ec58feaa1dffc13c9caf48af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a7518c1b2ec58feaa1dffc13c9caf48af">ConfigureAuthenticationPipeline</a> (IServiceCollection services)</td></tr>
<tr class="memdesc:a7518c1b2ec58feaa1dffc13c9caf48af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the <em>services</em>  for the authentication pipeline.   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a7518c1b2ec58feaa1dffc13c9caf48af">More...</a><br /></td></tr>
<tr class="separator:a7518c1b2ec58feaa1dffc13c9caf48af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a3c750651b93228ec3e2776977545cec2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a3c750651b93228ec3e2776977545cec2">AddWatchdog&lt; TSystemWatchdogFactory &gt;</a> (IServiceCollection services, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html">IPostSetupServices</a> postSetupServices)</td></tr>
<tr class="memdesc:a3c750651b93228ec3e2776977545cec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the IWatchdogFactory implementation.   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a3c750651b93228ec3e2776977545cec2">More...</a><br /></td></tr>
<tr class="separator:a3c750651b93228ec3e2776977545cec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:affdb9aca40d21e4d92078d3da87483d1"><td class="memItemLeft" align="right" valign="top">readonly IWebHostEnvironment&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">hostingEnvironment</a></td></tr>
<tr class="memdesc:affdb9aca40d21e4d92078d3da87483d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IWebHostEnvironment for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">More...</a><br /></td></tr>
<tr class="separator:affdb9aca40d21e4d92078d3da87483d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f8743ed7f409fd904fdc236bb4010c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html">ITokenFactory</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c">tokenFactory</a></td></tr>
<tr class="memdesc:a99f8743ed7f409fd904fdc236bb4010c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ITokenFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c">More...</a><br /></td></tr>
<tr class="separator:a99f8743ed7f409fd904fdc236bb4010c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header properties_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td colspan="2" onclick="javascript:toggleInherit('properties_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html">Tgstation.Server.Host.Setup.SetupApplication</a></td></tr>
<tr class="memitem:abecd5329f7937e822959734f3c5272d1 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="memItemLeft" align="right" valign="top">IConfiguration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#abecd5329f7937e822959734f3c5272d1">Configuration</a><code> [get]</code></td></tr>
<tr class="memdesc:abecd5329f7937e822959734f3c5272d1 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IConfiguration for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html" title="DI root for configuring a SetupWizard.">SetupApplication</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#abecd5329f7937e822959734f3c5272d1">More...</a><br /></td></tr>
<tr class="separator:abecd5329f7937e822959734f3c5272d1 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Sets up dependency injection.  </p>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00071">71</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abc6f8677db1baf9744162670d4a02a6c" name="abc6f8677db1baf9744162670d4a02a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc6f8677db1baf9744162670d4a02a6c">&#9670;&#160;</a></span>Application()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tgstation.Server.Host.Core.Application.Application </td>
          <td>(</td>
          <td class="paramtype">IConfiguration&#160;</td>
          <td class="paramname"><em>configuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IWebHostEnvironment&#160;</td>
          <td class="paramname"><em>hostingEnvironment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new instance of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a> class.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configuration</td><td>The IConfiguration for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a84d9dcc04d19491908f337980bfc36dc" title="Initializes a new instance of the SetupApplication class.">SetupApplication</a>.</td></tr>
    <tr><td class="paramname">hostingEnvironment</td><td>The IWebHostEnvironment for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a84d9dcc04d19491908f337980bfc36dc" title="Initializes a new instance of the SetupApplication class.">SetupApplication</a>.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00116">116</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  119</span>            : base(configuration)</div>
<div class="line"><span class="lineno">  120</span>        {</div>
<div class="line"><span class="lineno">  121</span>            this.hostingEnvironment = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">hostingEnvironment</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">hostingEnvironment</a>));</div>
<div class="line"><span class="lineno">  122</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_html_affdb9aca40d21e4d92078d3da87483d1"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">Tgstation.Server.Host.Core.Application.hostingEnvironment</a></div><div class="ttdeci">readonly IWebHostEnvironment hostingEnvironment</div><div class="ttdoc">The IWebHostEnvironment for the Application.</div><div class="ttdef"><b>Definition:</b> <a href="_application_8cs_source.html#l00076">Application.cs:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_application_8cs_source.html#l00076">Tgstation.Server.Host.Core.Application.hostingEnvironment</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3c750651b93228ec3e2776977545cec2" name="a3c750651b93228ec3e2776977545cec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c750651b93228ec3e2776977545cec2">&#9670;&#160;</a></span>AddWatchdog&lt; TSystemWatchdogFactory &gt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Tgstation.Server.Host.Core.Application.AddWatchdog&lt; TSystemWatchdogFactory &gt; </td>
          <td>(</td>
          <td class="paramtype">IServiceCollection&#160;</td>
          <td class="paramname"><em>services</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html">IPostSetupServices</a>&#160;</td>
          <td class="paramname"><em>postSetupServices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the IWatchdogFactory implementation.  </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TSystemWatchdogFactory</td><td>The WatchdogFactory child <code>class</code> for the current system.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">services</td><td>The IServiceCollection to configure.</td></tr>
    <tr><td class="paramname">postSetupServices</td><td>The <a class="el" href="class_i_post_setup_services.html">IPostSetupServices</a> to use.</td></tr>
  </table>
  </dd>
</dl>
<div class="typeconstraint">
<dl><dt><b>Type Constraints</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>TSystemWatchdogFactory</em></td><td>&#160;:</td><td valign="top"><em>class</em></td><td>&#160;</td></tr>
<tr><td valign="top"><em>TSystemWatchdogFactory</em></td><td>&#160;:</td><td valign="top"><em>IWatchdogFactory</em></td><td>&#160;</td></tr>
</table>
</dd>
</dl>
</div>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00102">102</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>                                         : <span class="keyword">class</span>, <a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog_factory.html">IWatchdogFactory</a></div>
<div class="line"><span class="lineno">  104</span>        {</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">if</span> (postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a11ecc704e68650d06ce04f8da01e47d1">GeneralConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a243d2eb586c4560648de8e670bad907c">UseBasicWatchdog</a>)</div>
<div class="line"><span class="lineno">  106</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog_factory.html">IWatchdogFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_factory.html">WatchdogFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  107</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  108</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog_factory.html">IWatchdogFactory</a>, TSystemWatchdogFactory&gt;();</div>
<div class="line"><span class="lineno">  109</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_factory.html">Tgstation.Server.Host.Components.Watchdog.WatchdogFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_tgstation_8_server_8_host_2_components_2_watchdog_2_watchdog_factory_8cs_source.html#l00021">WatchdogFactory.cs:22</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration_html_a243d2eb586c4560648de8e670bad907c"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a243d2eb586c4560648de8e670bad907c">Tgstation.Server.Host.Configuration.GeneralConfiguration.UseBasicWatchdog</a></div><div class="ttdeci">bool UseBasicWatchdog</div><div class="ttdoc">If the Components.Watchdog.BasicWatchdog should be preferred.</div><div class="ttdef"><b>Definition:</b> <a href="_general_configuration_8cs_source.html#l00120">GeneralConfiguration.cs:120</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog_factory.html">Tgstation.Server.Host.Components.Watchdog.IWatchdogFactory</a></div><div class="ttdoc">For creating IWatchdogs.</div><div class="ttdef"><b>Definition:</b> <a href="_tgstation_8_server_8_host_2_components_2_watchdog_2_i_watchdog_factory_8cs_source.html#l00014">IWatchdogFactory.cs:15</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services_html_a11ecc704e68650d06ce04f8da01e47d1"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a11ecc704e68650d06ce04f8da01e47d1">Tgstation.Server.Host.Setup.IPostSetupServices.GeneralConfiguration</a></div><div class="ttdeci">GeneralConfiguration GeneralConfiguration</div><div class="ttdoc">The Configuration.GeneralConfiguration.</div><div class="ttdef"><b>Definition:</b> <a href="_i_post_setup_services_8cs_source.html#l00014">IPostSetupServices.cs:14</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7e37dafd001a45a74d6b22893456ed8" name="aa7e37dafd001a45a74d6b22893456ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e37dafd001a45a74d6b22893456ed8">&#9670;&#160;</a></span>Configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Tgstation.Server.Host.Core.Application.Configure </td>
          <td>(</td>
          <td class="paramtype">IApplicationBuilder&#160;</td>
          <td class="paramname"><em>applicationBuilder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_control.html">IServerControl</a>&#160;</td>
          <td class="paramname"><em>serverControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html">ITokenFactory</a>&#160;</td>
          <td class="paramname"><em>tokenFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_port_provider.html">IServerPortProvider</a>&#160;</td>
          <td class="paramname"><em>serverPortProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_assembly_information_provider.html">IAssemblyInformationProvider</a>&#160;</td>
          <td class="paramname"><em>assemblyInformationProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_control_panel_configuration.html">ControlPanelConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>controlPanelConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>generalConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOptions&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a> &gt;&#160;</td>
          <td class="paramname"><em>swarmConfigurationOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html">Application</a> &gt;&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">applicationBuilder</td><td>The IApplicationBuilder to configure.</td></tr>
    <tr><td class="paramname">serverControl</td><td>The <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_control.html" title="Represents a service that may take an updated Host assembly and run it, stopping the current assembly...">IServerControl</a> for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.</td></tr>
    <tr><td class="paramname">tokenFactory</td><td>The value of <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c" title="The ITokenFactory for the Application.">tokenFactory</a>.</td></tr>
    <tr><td class="paramname">serverPortProvider</td><td>The <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_port_provider.html" title="Provides access to the server&#39;s HttpApiPort.">IServerPortProvider</a>.</td></tr>
    <tr><td class="paramname">assemblyInformationProvider</td><td>The IAssemblyInformationProvider.</td></tr>
    <tr><td class="paramname">controlPanelConfigurationOptions</td><td>The IOptions&lt;TOptions&gt; containing the ControlPanelConfiguration to use.</td></tr>
    <tr><td class="paramname">generalConfigurationOptions</td><td>The IOptions&lt;TOptions&gt; containing the GeneralConfiguration to use.</td></tr>
    <tr><td class="paramname">swarmConfigurationOptions</td><td>The IOptions&lt;TOptions&gt; containing the SwarmConfiguration to use.</td></tr>
    <tr><td class="paramname">logger</td><td>The Microsoft.Extensions.Logging.ILogger for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00456">456</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  466</span>        {</div>
<div class="line"><span class="lineno">  467</span>            ArgumentNullException.ThrowIfNull(applicationBuilder);</div>
<div class="line"><span class="lineno">  468</span>            ArgumentNullException.ThrowIfNull(serverControl);</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>            this.tokenFactory = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c">tokenFactory</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c">tokenFactory</a>));</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>            ArgumentNullException.ThrowIfNull(serverPortProvider);</div>
<div class="line"><span class="lineno">  473</span>            ArgumentNullException.ThrowIfNull(assemblyInformationProvider);</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>            var controlPanelConfiguration = controlPanelConfigurationOptions?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(controlPanelConfigurationOptions));</div>
<div class="line"><span class="lineno">  476</span>            var generalConfiguration = generalConfigurationOptions?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(generalConfigurationOptions));</div>
<div class="line"><span class="lineno">  477</span>            var swarmConfiguration = swarmConfigurationOptions?.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(swarmConfigurationOptions));</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>            ArgumentNullException.ThrowIfNull(logger);</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>            logger.LogDebug(<span class="stringliteral">&quot;Content Root: {contentRoot}&quot;</span>, <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">hostingEnvironment</a>.ContentRootPath);</div>
<div class="line"><span class="lineno">  482</span>            logger.LogTrace(<span class="stringliteral">&quot;Web Root: {webRoot}&quot;</span>, <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">hostingEnvironment</a>.WebRootPath);</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>            <span class="comment">// setup the HTTP request pipeline</span></div>
<div class="line"><span class="lineno">  485</span>            <span class="comment">// Add additional logging context to the request</span></div>
<div class="line"><span class="lineno">  486</span>            applicationBuilder.UseAdditionalRequestLoggingContext(swarmConfiguration);</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>            <span class="comment">// Wrap exceptions in a 500 (ErrorMessage) response</span></div>
<div class="line"><span class="lineno">  489</span>            applicationBuilder.UseServerErrorHandling();</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>            <span class="comment">// Add the X-Powered-By response header</span></div>
<div class="line"><span class="lineno">  492</span>            applicationBuilder.UseServerBranding(assemblyInformationProvider);</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>            <span class="comment">// Add the X-Accel-Buffering response header</span></div>
<div class="line"><span class="lineno">  495</span>            applicationBuilder.UseDisabledNginxProxyBuffering();</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>            <span class="comment">// suppress OperationCancelledExceptions, they are just aborted HTTP requests</span></div>
<div class="line"><span class="lineno">  498</span>            applicationBuilder.UseCancelledRequestSuppression();</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>            <span class="comment">// 503 requests made while the application is starting</span></div>
<div class="line"><span class="lineno">  501</span>            applicationBuilder.UseAsyncInitialization&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html">IInstanceManager</a>&gt;(</div>
<div class="line"><span class="lineno">  502</span>                (instanceManager, cancellationToken) =&gt; instanceManager.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html#a4ad311358f74779a6c1f2fcba4a30578">Ready</a>.WaitAsync(cancellationToken));</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">if</span> (generalConfiguration.HostApiDocumentation)</div>
<div class="line"><span class="lineno">  505</span>            {</div>
<div class="line"><span class="lineno">  506</span>                var siteDocPath = Routes.ApiRoot + $<span class="stringliteral">&quot;doc/{SwaggerConfiguration.DocumentName}.json&quot;</span>;</div>
<div class="line"><span class="lineno">  507</span>                <span class="keywordflow">if</span> (!String.IsNullOrWhiteSpace(controlPanelConfiguration.PublicPath))</div>
<div class="line"><span class="lineno">  508</span>                    siteDocPath = controlPanelConfiguration.PublicPath.TrimEnd(<span class="charliteral">&#39;/&#39;</span>) + siteDocPath;</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>                applicationBuilder.UseSwagger(options =&gt;</div>
<div class="line"><span class="lineno">  511</span>                {</div>
<div class="line"><span class="lineno">  512</span>                    options.RouteTemplate = Routes.ApiRoot + <span class="stringliteral">&quot;doc/{documentName}.{json|yaml}&quot;</span>;</div>
<div class="line"><span class="lineno">  513</span>                });</div>
<div class="line"><span class="lineno">  514</span>                applicationBuilder.UseSwaggerUI(options =&gt;</div>
<div class="line"><span class="lineno">  515</span>                {</div>
<div class="line"><span class="lineno">  516</span>                    options.RoutePrefix = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html">SwaggerConfiguration</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html#a491cd42b9d11a659b718c70ebebb9014">DocumentationSiteRouteExtension</a>;</div>
<div class="line"><span class="lineno">  517</span>                    options.SwaggerEndpoint(siteDocPath, <span class="stringliteral">&quot;TGS API&quot;</span>);</div>
<div class="line"><span class="lineno">  518</span>                });</div>
<div class="line"><span class="lineno">  519</span>                logger.LogTrace(<span class="stringliteral">&quot;Swagger API generation enabled&quot;</span>);</div>
<div class="line"><span class="lineno">  520</span>            }</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>            <span class="comment">// spa loading if necessary</span></div>
<div class="line"><span class="lineno">  523</span>            <span class="keywordflow">if</span> (controlPanelConfiguration.Enable)</div>
<div class="line"><span class="lineno">  524</span>            {</div>
<div class="line"><span class="lineno">  525</span>                logger.LogInformation(<span class="stringliteral">&quot;Web control panel enabled.&quot;</span>);</div>
<div class="line"><span class="lineno">  526</span>                applicationBuilder.UseFileServer(<span class="keyword">new</span> FileServerOptions</div>
<div class="line"><span class="lineno">  527</span>                {</div>
<div class="line"><span class="lineno">  528</span>                    RequestPath = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_control_panel_controller.html">ControlPanelController</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_control_panel_controller.html#a31405e686cba6874931106edd1d3a661">ControlPanelRoute</a>,</div>
<div class="line"><span class="lineno">  529</span>                    EnableDefaultFiles = <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno">  530</span>                    EnableDirectoryBrowsing = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  531</span>                    RedirectToAppendTrailingSlash = <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  532</span>                });</div>
<div class="line"><span class="lineno">  533</span>            }</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  535</span><span class="preprocessor">#if NO_WEBPANEL</span></div>
<div class="line"><span class="lineno">  536</span>                logger.LogDebug(<span class="stringliteral">&quot;Web control panel was not included in TGS build!&quot;</span>);</div>
<div class="line"><span class="lineno">  537</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  538</span>                logger.LogTrace(<span class="stringliteral">&quot;Web control panel disabled!&quot;</span>);</div>
<div class="line"><span class="lineno">  539</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>            <span class="comment">// Enable endpoint routing</span></div>
<div class="line"><span class="lineno">  542</span>            applicationBuilder.UseRouting();</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>            <span class="comment">// Set up CORS based on configuration if necessary</span></div>
<div class="line"><span class="lineno">  545</span>            Action&lt;CorsPolicyBuilder&gt;? corsBuilder = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">if</span> (controlPanelConfiguration.AllowAnyOrigin)</div>
<div class="line"><span class="lineno">  547</span>            {</div>
<div class="line"><span class="lineno">  548</span>                logger.LogTrace(<span class="stringliteral">&quot;Access-Control-Allow-Origin: *&quot;</span>);</div>
<div class="line"><span class="lineno">  549</span>                corsBuilder = builder =&gt; builder.SetIsOriginAllowed(_ =&gt; <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  550</span>            }</div>
<div class="line"><span class="lineno">  551</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (controlPanelConfiguration.AllowedOrigins?.Count &gt; 0)</div>
<div class="line"><span class="lineno">  552</span>            {</div>
<div class="line"><span class="lineno">  553</span>                logger.LogTrace(<span class="stringliteral">&quot;Access-Control-Allow-Origin: {allowedOrigins}&quot;</span>, String.Join(<span class="charliteral">&#39;,&#39;</span>, controlPanelConfiguration.AllowedOrigins));</div>
<div class="line"><span class="lineno">  554</span>                corsBuilder = builder =&gt; builder.WithOrigins([.. controlPanelConfiguration.AllowedOrigins]);</div>
<div class="line"><span class="lineno">  555</span>            }</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>            var originalBuilder = corsBuilder;</div>
<div class="line"><span class="lineno">  558</span>            corsBuilder = builder =&gt;</div>
<div class="line"><span class="lineno">  559</span>            {</div>
<div class="line"><span class="lineno">  560</span>                builder</div>
<div class="line"><span class="lineno">  561</span>                    .AllowAnyHeader()</div>
<div class="line"><span class="lineno">  562</span>                    .AllowAnyMethod()</div>
<div class="line"><span class="lineno">  563</span>                    .AllowCredentials()</div>
<div class="line"><span class="lineno">  564</span>                    .SetPreflightMaxAge(TimeSpan.FromDays(1));</div>
<div class="line"><span class="lineno">  565</span>                originalBuilder?.Invoke(builder);</div>
<div class="line"><span class="lineno">  566</span>            };</div>
<div class="line"><span class="lineno">  567</span>            applicationBuilder.UseCors(corsBuilder);</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>            <span class="comment">// validate the API version</span></div>
<div class="line"><span class="lineno">  570</span>            applicationBuilder.UseApiCompatibility();</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>            <span class="comment">// authenticate JWT tokens using our security pipeline if present, returns 401 if bad</span></div>
<div class="line"><span class="lineno">  573</span>            applicationBuilder.UseAuthentication();</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>            <span class="comment">// enable authorization on endpoints</span></div>
<div class="line"><span class="lineno">  576</span>            applicationBuilder.UseAuthorization();</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>            <span class="comment">// suppress and log database exceptions</span></div>
<div class="line"><span class="lineno">  579</span>            applicationBuilder.UseDbConflictHandling();</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>            <span class="comment">// setup endpoints</span></div>
<div class="line"><span class="lineno">  582</span>            applicationBuilder.UseEndpoints(endpoints =&gt;</div>
<div class="line"><span class="lineno">  583</span>            {</div>
<div class="line"><span class="lineno">  584</span>                <span class="comment">// access to the signalR jobs hub</span></div>
<div class="line"><span class="lineno">  585</span>                endpoints.MapHub&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub.html">JobsHub</a>&gt;(</div>
<div class="line"><span class="lineno">  586</span>                    <a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_routes.html">Routes</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_api_1_1_routes.html#a8f0fbf59b12bc939238a64bc4df9000d">JobsHub</a>,</div>
<div class="line"><span class="lineno">  587</span>                    options =&gt;</div>
<div class="line"><span class="lineno">  588</span>                    {</div>
<div class="line"><span class="lineno">  589</span>                        options.Transports = HttpTransportType.ServerSentEvents;</div>
<div class="line"><span class="lineno">  590</span>                        options.CloseOnAuthenticationExpiration = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  591</span>                    })</div>
<div class="line"><span class="lineno">  592</span>                    .RequireAuthorization()</div>
<div class="line"><span class="lineno">  593</span>                    .RequireCors(corsBuilder);</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>                <span class="comment">// majority of handling is done in the controllers</span></div>
<div class="line"><span class="lineno">  596</span>                endpoints.MapControllers();</div>
<div class="line"><span class="lineno">  597</span>            });</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>            <span class="comment">// 404 anything that gets this far</span></div>
<div class="line"><span class="lineno">  600</span>            <span class="comment">// End of request pipeline setup</span></div>
<div class="line"><span class="lineno">  601</span>            logger.LogTrace(<span class="stringliteral">&quot;Configuration version: {configVersion}&quot;</span>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">GeneralConfiguration</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a11cacc87b093badf8b45cc9fd858df54">CurrentConfigVersion</a>);</div>
<div class="line"><span class="lineno">  602</span>            logger.LogTrace(<span class="stringliteral">&quot;DMAPI Interop version: {interopVersion}&quot;</span>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_d_m_api_constants.html">DMApiConstants</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_d_m_api_constants.html#ac2e027490bca3307936efe1092da2cc9">InteropVersion</a>);</div>
<div class="line"><span class="lineno">  603</span>            <span class="keywordflow">if</span> (controlPanelConfiguration.Enable)</div>
<div class="line"><span class="lineno">  604</span>                logger.LogTrace(<span class="stringliteral">&quot;Webpanel version: {webCPVersion}&quot;</span>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute.html">MasterVersionsAttribute</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute.html#af17f819f7eb525f7274264ec212a5105">Instance</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute.html#a6c7f632f14b13b6701842c69eb01c4e5">RawWebpanelVersion</a>);</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>            logger.LogDebug(<span class="stringliteral">&quot;Starting hosting on port {httpApiPort}...&quot;</span>, serverPortProvider.HttpApiPort);</div>
<div class="line"><span class="lineno">  607</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_routes_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_routes.html">Tgstation.Server.Api.Routes</a></div><div class="ttdoc">Routes to a server actions.</div><div class="ttdef"><b>Definition:</b> <a href="_routes_8cs_source.html#l00008">Routes.cs:9</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_routes_html_a8f0fbf59b12bc939238a64bc4df9000d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_routes.html#a8f0fbf59b12bc939238a64bc4df9000d">Tgstation.Server.Api.Routes.JobsHub</a></div><div class="ttdeci">const string JobsHub</div><div class="ttdoc">The root route of all hubs.</div><div class="ttdef"><b>Definition:</b> <a href="_routes_8cs_source.html#l00113">Routes.cs:113</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_d_m_api_constants_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_d_m_api_constants.html">Tgstation.Server.Host.Components.Interop.DMApiConstants</a></div><div class="ttdoc">Constants used for communication with the DMAPI.</div><div class="ttdef"><b>Definition:</b> <a href="_d_m_api_constants_8cs_source.html#l00015">DMApiConstants.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_d_m_api_constants_html_ac2e027490bca3307936efe1092da2cc9"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_d_m_api_constants.html#ac2e027490bca3307936efe1092da2cc9">Tgstation.Server.Host.Components.Interop.DMApiConstants.InteropVersion</a></div><div class="ttdeci">static readonly Version InteropVersion</div><div class="ttdoc">The DMAPI InteropVersion being used.</div><div class="ttdef"><b>Definition:</b> <a href="_d_m_api_constants_8cs_source.html#l00056">DMApiConstants.cs:56</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html">Tgstation.Server.Host.Configuration.GeneralConfiguration</a></div><div class="ttdoc">General configuration options.</div><div class="ttdef"><b>Definition:</b> <a href="_general_configuration_8cs_source.html#l00019">GeneralConfiguration.cs:20</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration_html_a11cacc87b093badf8b45cc9fd858df54"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a11cacc87b093badf8b45cc9fd858df54">Tgstation.Server.Host.Configuration.GeneralConfiguration.CurrentConfigVersion</a></div><div class="ttdeci">static readonly Version CurrentConfigVersion</div><div class="ttdoc">The current ConfigVersion.</div><div class="ttdef"><b>Definition:</b> <a href="_general_configuration_8cs_source.html#l00079">GeneralConfiguration.cs:79</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_control_panel_controller_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_control_panel_controller.html">Tgstation.Server.Host.Controllers.ControlPanelController</a></div><div class="ttdoc">Controller for the web control panel.</div><div class="ttdef"><b>Definition:</b> <a href="_control_panel_controller_8cs_source.html#l00026">ControlPanelController.cs:27</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_control_panel_controller_html_a31405e686cba6874931106edd1d3a661"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_control_panel_controller.html#a31405e686cba6874931106edd1d3a661">Tgstation.Server.Host.Controllers.ControlPanelController.ControlPanelRoute</a></div><div class="ttdeci">const string ControlPanelRoute</div><div class="ttdoc">Route to the ControlPanelController.</div><div class="ttdef"><b>Definition:</b> <a href="_control_panel_controller_8cs_source.html#l00031">ControlPanelController.cs:31</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_html_a99f8743ed7f409fd904fdc236bb4010c"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c">Tgstation.Server.Host.Core.Application.tokenFactory</a></div><div class="ttdeci">ITokenFactory? tokenFactory</div><div class="ttdoc">The ITokenFactory for the Application.</div><div class="ttdef"><b>Definition:</b> <a href="_application_8cs_source.html#l00081">Application.cs:81</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub.html">Tgstation.Server.Host.Jobs.JobsHub</a></div><div class="ttdoc">A SignalR Hub for pushing job updates.</div><div class="ttdef"><b>Definition:</b> <a href="_jobs_hub_8cs_source.html#l00015">JobsHub.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute.html">Tgstation.Server.Host.Properties.MasterVersionsAttribute</a></div><div class="ttdoc">Attribute for bringing in the master versions list from MSBuild that aren't embedded into assemblies ...</div><div class="ttdef"><b>Definition:</b> <a href="_master_versions_attribute_8cs_source.html#l00010">MasterVersionsAttribute.cs:11</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute_html_a6c7f632f14b13b6701842c69eb01c4e5"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute.html#a6c7f632f14b13b6701842c69eb01c4e5">Tgstation.Server.Host.Properties.MasterVersionsAttribute.RawWebpanelVersion</a></div><div class="ttdeci">string RawWebpanelVersion</div><div class="ttdoc">The Version string of the control panel version built.</div><div class="ttdef"><b>Definition:</b> <a href="_master_versions_attribute_8cs_source.html#l00032">MasterVersionsAttribute.cs:32</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute_html_af17f819f7eb525f7274264ec212a5105"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_properties_1_1_master_versions_attribute.html#af17f819f7eb525f7274264ec212a5105">Tgstation.Server.Host.Properties.MasterVersionsAttribute.Instance</a></div><div class="ttdeci">static MasterVersionsAttribute Instance</div><div class="ttdoc">Return the Assembly's instance of the MasterVersionsAttribute.</div><div class="ttdef"><b>Definition:</b> <a href="_master_versions_attribute_8cs_source.html#l00015">MasterVersionsAttribute.cs:15</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html">Tgstation.Server.Host.Utils.SwaggerConfiguration</a></div><div class="ttdoc">Implements various filters for Swashbuckle.</div><div class="ttdef"><b>Definition:</b> <a href="_swagger_configuration_8cs_source.html#l00028">SwaggerConfiguration.cs:29</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration_html_a491cd42b9d11a659b718c70ebebb9014"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html#a491cd42b9d11a659b718c70ebebb9014">Tgstation.Server.Host.Utils.SwaggerConfiguration.DocumentationSiteRouteExtension</a></div><div class="ttdeci">const string DocumentationSiteRouteExtension</div><div class="ttdoc">The path to the hosted documentation site.</div><div class="ttdef"><b>Definition:</b> <a href="_swagger_configuration_8cs_source.html#l00038">SwaggerConfiguration.cs:38</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html">Tgstation.Server.Host.Components.IInstanceManager</a></div><div class="ttdoc">For managing IInstances.</div><div class="ttdef"><b>Definition:</b> <a href="_i_instance_manager_8cs_source.html#l00010">IInstanceManager.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager_html_a4ad311358f74779a6c1f2fcba4a30578"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html#a4ad311358f74779a6c1f2fcba4a30578">Tgstation.Server.Host.Components.IInstanceManager.Ready</a></div><div class="ttdeci">Task Ready</div><div class="ttdoc">Task that completes when the IInstanceManager finishes initializing.</div><div class="ttdef"><b>Definition:</b> <a href="_i_instance_manager_8cs_source.html#l00015">IInstanceManager.cs:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_control_panel_controller_8cs_source.html#l00031">Tgstation.Server.Host.Controllers.ControlPanelController.ControlPanelRoute</a>, <a class="el" href="_general_configuration_8cs_source.html#l00079">Tgstation.Server.Host.Configuration.GeneralConfiguration.CurrentConfigVersion</a>, <a class="el" href="_swagger_configuration_8cs_source.html#l00038">Tgstation.Server.Host.Utils.SwaggerConfiguration.DocumentationSiteRouteExtension</a>, <a class="el" href="_application_8cs_source.html#l00076">Tgstation.Server.Host.Core.Application.hostingEnvironment</a>, <a class="el" href="_i_server_port_provider_8cs_source.html#l00011">Tgstation.Server.Host.Core.IServerPortProvider.HttpApiPort</a>, <a class="el" href="_master_versions_attribute_8cs_source.html#l00015">Tgstation.Server.Host.Properties.MasterVersionsAttribute.Instance</a>, <a class="el" href="_d_m_api_constants_8cs_source.html#l00056">Tgstation.Server.Host.Components.Interop.DMApiConstants.InteropVersion</a>, <a class="el" href="_routes_8cs_source.html#l00113">Tgstation.Server.Api.Routes.JobsHub</a>, <a class="el" href="_master_versions_attribute_8cs_source.html#l00032">Tgstation.Server.Host.Properties.MasterVersionsAttribute.RawWebpanelVersion</a>, <a class="el" href="_i_instance_manager_8cs_source.html#l00015">Tgstation.Server.Host.Components.IInstanceManager.Ready</a>, and <a class="el" href="_application_8cs_source.html#l00081">Tgstation.Server.Host.Core.Application.tokenFactory</a>.</p>

</div>
</div>
<a id="a7518c1b2ec58feaa1dffc13c9caf48af" name="a7518c1b2ec58feaa1dffc13c9caf48af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7518c1b2ec58feaa1dffc13c9caf48af">&#9670;&#160;</a></span>ConfigureAuthenticationPipeline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tgstation.Server.Host.Core.Application.ConfigureAuthenticationPipeline </td>
          <td>(</td>
          <td class="paramtype">IServiceCollection&#160;</td>
          <td class="paramname"><em>services</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the <em>services</em>  for the authentication pipeline.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">services</td><td>The IServiceCollection to configure.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00617">617</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  618</span>        {</div>
<div class="line"><span class="lineno">  619</span>            services.AddHttpContextAccessor();</div>
<div class="line"><span class="lineno">  620</span>            services.AddScoped&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider.html">IApiHeadersProvider</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_api_headers_provider.html">ApiHeadersProvider</a>&gt;();</div>
<div class="line"><span class="lineno">  621</span>            services.AddScoped&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_factory.html">AuthenticationContextFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  622</span>            services.AddScoped&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context_factory.html">IAuthenticationContextFactory</a>&gt;(provider =&gt; provider.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_factory.html">AuthenticationContextFactory</a>&gt;());</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>            <span class="comment">// what if you</span></div>
<div class="line"><span class="lineno">  625</span>            <span class="comment">// wanted to just do this:</span></div>
<div class="line"><span class="lineno">  626</span>            <span class="comment">// return provider.GetRequiredService&lt;AuthenticationContextFactory&gt;().CurrentAuthenticationContext</span></div>
<div class="line"><span class="lineno">  627</span>            <span class="comment">// But M$ said</span></div>
<div class="line"><span class="lineno">  628</span>            <span class="comment">// https://stackoverflow.com/questions/56792917/scoped-services-in-asp-net-core-with-signalr-hubs</span></div>
<div class="line"><span class="lineno">  629</span>            services.AddScoped(provider =&gt; (provider</div>
<div class="line"><span class="lineno">  630</span>                .GetRequiredService&lt;IHttpContextAccessor&gt;()</div>
<div class="line"><span class="lineno">  631</span>                .HttpContext ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException($<span class="stringliteral">&quot;Unable to resolve {nameof(IAuthenticationContext)} due to no HttpContext being available!&quot;</span>))</div>
<div class="line"><span class="lineno">  632</span>                .RequestServices</div>
<div class="line"><span class="lineno">  633</span>                .GetRequiredService&lt;AuthenticationContextFactory&gt;()</div>
<div class="line"><span class="lineno">  634</span>                .CurrentAuthenticationContext);</div>
<div class="line"><span class="lineno">  635</span>            services.AddScoped&lt;<a class="code hl_class" href="class_i_claims_transformation.html">IClaimsTransformation</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_claims_transformation.html">AuthenticationContextClaimsTransformation</a>&gt;();</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>            services</div>
<div class="line"><span class="lineno">  638</span>                .AddAuthentication(JwtBearerDefaults.AuthenticationScheme)</div>
<div class="line"><span class="lineno">  639</span>                .AddJwtBearer(jwtBearerOptions =&gt;</div>
<div class="line"><span class="lineno">  640</span>                {</div>
<div class="line"><span class="lineno">  641</span>                    <span class="comment">// this line isn&#39;t actually run until the first request is made</span></div>
<div class="line"><span class="lineno">  642</span>                    <span class="comment">// at that point tokenFactory will be populated</span></div>
<div class="line"><span class="lineno">  643</span>                    jwtBearerOptions.TokenValidationParameters = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a99f8743ed7f409fd904fdc236bb4010c">tokenFactory</a>?.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html#a46e66985719064cffa8b569830a3712f">ValidationParameters</a> ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;tokenFactory not initialized!&quot;</span>);</div>
<div class="line"><span class="lineno">  644</span>                    jwtBearerOptions.MapInboundClaims = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  645</span>                    jwtBearerOptions.Events = <span class="keyword">new</span> JwtBearerEvents</div>
<div class="line"><span class="lineno">  646</span>                    {</div>
<div class="line"><span class="lineno">  647</span>                        OnMessageReceived = context =&gt;</div>
<div class="line"><span class="lineno">  648</span>                        {</div>
<div class="line"><span class="lineno">  649</span>                            <span class="keywordflow">if</span> (String.IsNullOrWhiteSpace(context.Token))</div>
<div class="line"><span class="lineno">  650</span>                            {</div>
<div class="line"><span class="lineno">  651</span>                                var accessToken = context.Request.Query[<span class="stringliteral">&quot;access_token&quot;</span>];</div>
<div class="line"><span class="lineno">  652</span>                                var path = context.HttpContext.Request.Path;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>                                <span class="keywordflow">if</span> (!String.IsNullOrWhiteSpace(accessToken) &amp;&amp;</div>
<div class="line"><span class="lineno">  655</span>                                    path.StartsWithSegments(<a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_routes.html">Routes</a>.<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_api_1_1_routes.html#a592881a5c0b75edd77acb148c13b52b9">HubsRoot</a>, StringComparison.OrdinalIgnoreCase))</div>
<div class="line"><span class="lineno">  656</span>                                {</div>
<div class="line"><span class="lineno">  657</span>                                    context.Token = accessToken;</div>
<div class="line"><span class="lineno">  658</span>                                }</div>
<div class="line"><span class="lineno">  659</span>                            }</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>                            <span class="keywordflow">return</span> Task.CompletedTask;</div>
<div class="line"><span class="lineno">  662</span>                        },</div>
<div class="line"><span class="lineno">  663</span>                    };</div>
<div class="line"><span class="lineno">  664</span>                });</div>
<div class="line"><span class="lineno">  665</span>        }</div>
<div class="ttc" id="aclass_i_claims_transformation_html"><div class="ttname"><a href="class_i_claims_transformation.html">IClaimsTransformation</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_routes_html_a592881a5c0b75edd77acb148c13b52b9"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_routes.html#a592881a5c0b75edd77acb148c13b52b9">Tgstation.Server.Api.Routes.HubsRoot</a></div><div class="ttdeci">const string HubsRoot</div><div class="ttdoc">The root route of all hubs.</div><div class="ttdef"><b>Definition:</b> <a href="_routes_8cs_source.html#l00018">Routes.cs:18</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_claims_transformation_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_claims_transformation.html">Tgstation.Server.Host.Security.AuthenticationContextClaimsTransformation</a></div><div class="ttdoc">A IClaimsTransformation that maps Claims using an IAuthenticationContext.</div><div class="ttdef"><b>Definition:</b> <a href="_authentication_context_claims_transformation_8cs_source.html#l00021">AuthenticationContextClaimsTransformation.cs:22</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authentication_context_factory.html">Tgstation.Server.Host.Security.AuthenticationContextFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_authentication_context_factory_8cs_source.html#l00017">AuthenticationContextFactory.cs:18</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_api_headers_provider_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_api_headers_provider.html">Tgstation.Server.Host.Utils.ApiHeadersProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="_api_headers_provider_8cs_source.html#l00010">ApiHeadersProvider.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_authentication_context_factory.html">Tgstation.Server.Host.Security.IAuthenticationContextFactory</a></div><div class="ttdoc">For creating and accessing authentication contexts.</div><div class="ttdef"><b>Definition:</b> <a href="_i_authentication_context_factory_8cs_source.html#l00010">IAuthenticationContextFactory.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory_html_a46e66985719064cffa8b569830a3712f"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html#a46e66985719064cffa8b569830a3712f">Tgstation.Server.Host.Security.ITokenFactory.ValidationParameters</a></div><div class="ttdeci">TokenValidationParameters ValidationParameters</div><div class="ttdoc">The TokenValidationParameters for the ITokenFactory.</div><div class="ttdef"><b>Definition:</b> <a href="_i_token_factory_8cs_source.html#l00015">ITokenFactory.cs:15</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_api_headers_provider.html">Tgstation.Server.Host.Utils.IApiHeadersProvider</a></div><div class="ttdoc">Provides ApiHeaders.</div><div class="ttdef"><b>Definition:</b> <a href="_i_api_headers_provider_8cs_source.html#l00008">IApiHeadersProvider.cs:9</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_routes_8cs_source.html#l00018">Tgstation.Server.Api.Routes.HubsRoot</a>, <a class="el" href="_application_8cs_source.html#l00081">Tgstation.Server.Host.Core.Application.tokenFactory</a>, and <a class="el" href="_i_token_factory_8cs_source.html#l00015">Tgstation.Server.Host.Security.ITokenFactory.ValidationParameters</a>.</p>

<p class="reference">Referenced by <a class="el" href="_application_8cs_source.html#l00131">Tgstation.Server.Host.Core.Application.ConfigureServices()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a7518c1b2ec58feaa1dffc13c9caf48af_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a7518c1b2ec58feaa1dffc13c9caf48af_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a7518c1b2ec58feaa1dffc13c9caf48af_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a7518c1b2ec58feaa1dffc13c9caf48af_icgraph">
<area shape="rect" title="Configure the services &#160;for the authentication pipeline." alt="" coords="248,22,475,77"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a3ec60bfa2b57cd85cae110578270a60f" title="Configure the Application&#39;s services ." alt="" coords="5,29,200,69"/>
</map>
</div>

</div>
</div>
<a id="a1d6e849d4a69fe90f23f60aaeb2bc960" name="a1d6e849d4a69fe90f23f60aaeb2bc960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6e849d4a69fe90f23f60aaeb2bc960">&#9670;&#160;</a></span>ConfigureHostedService()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override void Tgstation.Server.Host.Core.Application.ConfigureHostedService </td>
          <td>(</td>
          <td class="paramtype">IServiceCollection&#160;</td>
          <td class="paramname"><em>services</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures the <a class="el" href="class_i_hosted_service.html">IHostedService</a>. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">services</td><td>The IServiceCollection to configure.</td></tr>
  </table>
  </dd>
</dl>
 </p>

<p>Reimplemented from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#a03097b9f375ae721b318fc2aaf970b9b">Tgstation.Server.Host.Setup.SetupApplication</a>.</p>

</div>
</div>
<a id="a3ec60bfa2b57cd85cae110578270a60f" name="a3ec60bfa2b57cd85cae110578270a60f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec60bfa2b57cd85cae110578270a60f">&#9670;&#160;</a></span>ConfigureServices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Tgstation.Server.Host.Core.Application.ConfigureServices </td>
          <td>(</td>
          <td class="paramtype">IServiceCollection&#160;</td>
          <td class="paramname"><em>services</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_assembly_information_provider.html">IAssemblyInformationProvider</a>&#160;</td>
          <td class="paramname"><em>assemblyInformationProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a>&#160;</td>
          <td class="paramname"><em>ioManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html">IPostSetupServices</a>&#160;</td>
          <td class="paramname"><em>postSetupServices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>'s <em>services</em> .  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">services</td><td>The IServiceCollection to configure.</td></tr>
    <tr><td class="paramname">assemblyInformationProvider</td><td>The IAssemblyInformationProvider needed for configuration.</td></tr>
    <tr><td class="paramname">ioManager</td><td>The IIOManager needed for configuration.</td></tr>
    <tr><td class="paramname">postSetupServices</td><td>The <a class="el" href="class_i_post_setup_services.html">IPostSetupServices</a> needed for configuration.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00131">131</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>        {</div>
<div class="line"><span class="lineno">  137</span>            <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a3ec60bfa2b57cd85cae110578270a60f">ConfigureServices</a>(services, assemblyInformationProvider, ioManager);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>            ArgumentNullException.ThrowIfNull(postSetupServices);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>            <span class="comment">// configure configuration</span></div>
<div class="line"><span class="lineno">  142</span>            services.UseStandardConfig&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_updates_configuration.html">UpdatesConfiguration</a>&gt;(<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#abecd5329f7937e822959734f3c5272d1">Configuration</a>);</div>
<div class="line"><span class="lineno">  143</span>            services.UseStandardConfig&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_control_panel_configuration.html">ControlPanelConfiguration</a>&gt;(<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#abecd5329f7937e822959734f3c5272d1">Configuration</a>);</div>
<div class="line"><span class="lineno">  144</span>            services.UseStandardConfig&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">SwarmConfiguration</a>&gt;(<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#abecd5329f7937e822959734f3c5272d1">Configuration</a>);</div>
<div class="line"><span class="lineno">  145</span>            services.UseStandardConfig&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_session_configuration.html">SessionConfiguration</a>&gt;(<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#abecd5329f7937e822959734f3c5272d1">Configuration</a>);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>            <span class="comment">// enable options which give us config reloading</span></div>
<div class="line"><span class="lineno">  148</span>            services.AddOptions();</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>            <span class="comment">// Set the timeout for IHostedService.StopAsync</span></div>
<div class="line"><span class="lineno">  151</span>            services.Configure&lt;HostOptions&gt;(</div>
<div class="line"><span class="lineno">  152</span>                opts =&gt; opts.ShutdownTimeout = TimeSpan.FromMinutes(postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a11ecc704e68650d06ce04f8da01e47d1">GeneralConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a34cd3d2971e5908fdcda588f4770c7f6">RestartTimeoutMinutes</a>));</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>            <span class="keyword">static</span> LogEventLevel? ConvertSeriLogLevel(LogLevel logLevel) =&gt;</div>
<div class="line"><span class="lineno">  155</span>                logLevel <span class="keywordflow">switch</span></div>
<div class="line"><span class="lineno">  156</span>                {</div>
<div class="line"><span class="lineno">  157</span>                    LogLevel.Critical =&gt; LogEventLevel.Fatal,</div>
<div class="line"><span class="lineno">  158</span>                    LogLevel.Debug =&gt; LogEventLevel.Debug,</div>
<div class="line"><span class="lineno">  159</span>                    LogLevel.Error =&gt; LogEventLevel.Error,</div>
<div class="line"><span class="lineno">  160</span>                    LogLevel.Information =&gt; LogEventLevel.Information,</div>
<div class="line"><span class="lineno">  161</span>                    LogLevel.Trace =&gt; LogEventLevel.Verbose,</div>
<div class="line"><span class="lineno">  162</span>                    LogLevel.Warning =&gt; LogEventLevel.Warning,</div>
<div class="line"><span class="lineno">  163</span>                    LogLevel.None =&gt; <span class="keyword">null</span>,</div>
<div class="line"><span class="lineno">  164</span>                    _ =&gt; <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(String.Format(CultureInfo.InvariantCulture, <span class="stringliteral">&quot;Invalid log level {0}&quot;</span>, logLevel)),</div>
<div class="line"><span class="lineno">  165</span>                };</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>            var microsoftEventLevel = ConvertSeriLogLevel(postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa7edcbcb5131e4d1d8229d00d2f0c8a7">FileLoggingConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#a5d27b790b93c94ea77f83b3729be63df">MicrosoftLogLevel</a>);</div>
<div class="line"><span class="lineno">  168</span>            var elasticsearchConfiguration = postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a0ed4655e11b6ac519422db76a10bc2ca">ElasticsearchConfiguration</a>;</div>
<div class="line"><span class="lineno">  169</span>            services.SetupLogging(</div>
<div class="line"><span class="lineno">  170</span>                config =&gt;</div>
<div class="line"><span class="lineno">  171</span>                {</div>
<div class="line"><span class="lineno">  172</span>                    <span class="keywordflow">if</span> (microsoftEventLevel.HasValue)</div>
<div class="line"><span class="lineno">  173</span>                    {</div>
<div class="line"><span class="lineno">  174</span>                        config.MinimumLevel.Override(<span class="stringliteral">&quot;Microsoft&quot;</span>, microsoftEventLevel.Value);</div>
<div class="line"><span class="lineno">  175</span>                        config.MinimumLevel.Override(<span class="stringliteral">&quot;System.Net.Http.HttpClient&quot;</span>, microsoftEventLevel.Value);</div>
<div class="line"><span class="lineno">  176</span>                    }</div>
<div class="line"><span class="lineno">  177</span>                },</div>
<div class="line"><span class="lineno">  178</span>                sinkConfig =&gt;</div>
<div class="line"><span class="lineno">  179</span>                {</div>
<div class="line"><span class="lineno">  180</span>                    <span class="keywordflow">if</span> (postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa7edcbcb5131e4d1d8229d00d2f0c8a7">FileLoggingConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#af1c69ac7d59ed1817d59b0022d86db15">Disable</a>)</div>
<div class="line"><span class="lineno">  181</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>                    var logPath = postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa7edcbcb5131e4d1d8229d00d2f0c8a7">FileLoggingConfiguration</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#a6e9e186a1456017f692358f96bdab2c3">GetFullLogDirectory</a>(</div>
<div class="line"><span class="lineno">  184</span>                        ioManager,</div>
<div class="line"><span class="lineno">  185</span>                        assemblyInformationProvider,</div>
<div class="line"><span class="lineno">  186</span>                        postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa53827a00b6d58248f90406af9e5e7cb">PlatformIdentifier</a>);</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>                    var logEventLevel = ConvertSeriLogLevel(postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa7edcbcb5131e4d1d8229d00d2f0c8a7">FileLoggingConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#a77b327379b355d7569c118e85e25a3e7">LogLevel</a>);</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>                    var formatter = <span class="keyword">new</span> MessageTemplateTextFormatter(</div>
<div class="line"><span class="lineno">  191</span>                        <span class="stringliteral">&quot;{Timestamp:o} &quot;</span></div>
<div class="line"><span class="lineno">  192</span>                        + <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_serilog_context_helper.html">SerilogContextHelper</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_serilog_context_helper.html#aaacc800163cdc79979e7818d9650101d">Template</a></div>
<div class="line"><span class="lineno">  193</span>                        + <span class="stringliteral">&quot;): [{Level:u3}] {SourceContext:l}: {Message} ({EventId:x8}){NewLine}{Exception}&quot;</span>,</div>
<div class="line"><span class="lineno">  194</span>                        <span class="keyword">null</span>);</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>                    logPath = ioManager.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">ConcatPath</a>(logPath, <span class="stringliteral">&quot;tgs-.log&quot;</span>);</div>
<div class="line"><span class="lineno">  197</span>                    var rollingFileConfig = sinkConfig.File(</div>
<div class="line"><span class="lineno">  198</span>                        formatter,</div>
<div class="line"><span class="lineno">  199</span>                        logPath,</div>
<div class="line"><span class="lineno">  200</span>                        logEventLevel ?? LogEventLevel.Verbose,</div>
<div class="line"><span class="lineno">  201</span>                        50 * 1024 * 1024, <span class="comment">// 50MB max size</span></div>
<div class="line"><span class="lineno">  202</span>                        flushToDiskInterval: TimeSpan.FromSeconds(2),</div>
<div class="line"><span class="lineno">  203</span>                        rollingInterval: RollingInterval.Day,</div>
<div class="line"><span class="lineno">  204</span>                        rollOnFileSizeLimit: <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  205</span>                },</div>
<div class="line"><span class="lineno">  206</span>                elasticsearchConfiguration.Enable</div>
<div class="line"><span class="lineno">  207</span>                    ? <span class="keyword">new</span> ElasticsearchSinkOptions(elasticsearchConfiguration.Host ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException($<span class="stringliteral">&quot;Missing {ElasticsearchConfiguration.Section}:{nameof(elasticsearchConfiguration.Host)}!&quot;</span>))</div>
<div class="line"><span class="lineno">  208</span>                    {</div>
<div class="line"><span class="lineno">  209</span>                        <span class="comment">// Yes I know this means they cannot use a self signed cert unless they also have authentication, but lets be real here</span></div>
<div class="line"><span class="lineno">  210</span>                        <span class="comment">// No one is going to be doing one of those but not the other</span></div>
<div class="line"><span class="lineno">  211</span>                        ModifyConnectionSettings = connectionConfigration =&gt; (!String.IsNullOrWhiteSpace(elasticsearchConfiguration.Username) &amp;&amp; !String.IsNullOrWhiteSpace(elasticsearchConfiguration.Password))</div>
<div class="line"><span class="lineno">  212</span>                            ? connectionConfigration</div>
<div class="line"><span class="lineno">  213</span>                                .BasicAuthentication(</div>
<div class="line"><span class="lineno">  214</span>                                    elasticsearchConfiguration.Username,</div>
<div class="line"><span class="lineno">  215</span>                                    elasticsearchConfiguration.Password)</div>
<div class="line"><span class="lineno">  216</span>                                .ServerCertificateValidationCallback((o, certificate, chain, errors) =&gt; <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  217</span>                            : <span class="keyword">null</span>,</div>
<div class="line"><span class="lineno">  218</span>                        CustomFormatter = <span class="keyword">new</span> EcsTextFormatter(),</div>
<div class="line"><span class="lineno">  219</span>                        AutoRegisterTemplate = <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno">  220</span>                        AutoRegisterTemplateVersion = AutoRegisterTemplateVersion.ESv7,</div>
<div class="line"><span class="lineno">  221</span>                        IndexFormat = <span class="stringliteral">&quot;tgs-logs&quot;</span>,</div>
<div class="line"><span class="lineno">  222</span>                    }</div>
<div class="line"><span class="lineno">  223</span>                    : <span class="keyword">null</span>,</div>
<div class="line"><span class="lineno">  224</span>                postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a11c30075bbf2a80f21d90ba187f74323">InternalConfiguration</a>,</div>
<div class="line"><span class="lineno">  225</span>                postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa7edcbcb5131e4d1d8229d00d2f0c8a7">FileLoggingConfiguration</a>);</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>            <span class="comment">// configure authentication pipeline</span></div>
<div class="line"><span class="lineno">  228</span>            <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a7518c1b2ec58feaa1dffc13c9caf48af">ConfigureAuthenticationPipeline</a>(services);</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>            <span class="comment">// add mvc, configure the json serializer settings</span></div>
<div class="line"><span class="lineno">  231</span>            var jsonVersionConverterList = <span class="keyword">new</span> List&lt;JsonConverter&gt;</div>
<div class="line"><span class="lineno">  232</span>            {</div>
<div class="line"><span class="lineno">  233</span>                <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_shared_1_1_version_converter.html">VersionConverter</a>(),</div>
<div class="line"><span class="lineno">  234</span>            };</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>            <span class="keywordtype">void</span> ConfigureNewtonsoftJsonSerializerSettingsForApi(JsonSerializerSettings settings)</div>
<div class="line"><span class="lineno">  237</span>            {</div>
<div class="line"><span class="lineno">  238</span>                settings.NullValueHandling = NullValueHandling.Ignore;</div>
<div class="line"><span class="lineno">  239</span>                settings.CheckAdditionalContent = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  240</span>                settings.MissingMemberHandling = MissingMemberHandling.Error;</div>
<div class="line"><span class="lineno">  241</span>                settings.ReferenceLoopHandling = ReferenceLoopHandling.Ignore;</div>
<div class="line"><span class="lineno">  242</span>                settings.Converters = jsonVersionConverterList;</div>
<div class="line"><span class="lineno">  243</span>            }</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>            services</div>
<div class="line"><span class="lineno">  246</span>                .AddMvc(options =&gt;</div>
<div class="line"><span class="lineno">  247</span>                {</div>
<div class="line"><span class="lineno">  248</span>                    options.ReturnHttpNotAcceptable = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  249</span>                    options.RespectBrowserAcceptHeader = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  250</span>                })</div>
<div class="line"><span class="lineno">  251</span>                .AddNewtonsoftJson(options =&gt;</div>
<div class="line"><span class="lineno">  252</span>                {</div>
<div class="line"><span class="lineno">  253</span>                    options.AllowInputFormatterExceptionMessages = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  254</span>                    ConfigureNewtonsoftJsonSerializerSettingsForApi(options.SerializerSettings);</div>
<div class="line"><span class="lineno">  255</span>                });</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>            services.AddSignalR(</div>
<div class="line"><span class="lineno">  258</span>                options =&gt;</div>
<div class="line"><span class="lineno">  259</span>                {</div>
<div class="line"><span class="lineno">  260</span>                    options.AddFilter&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authorization_context_hub_filter.html">AuthorizationContextHubFilter</a>&gt;();</div>
<div class="line"><span class="lineno">  261</span>                })</div>
<div class="line"><span class="lineno">  262</span>                .AddNewtonsoftJsonProtocol(options =&gt;</div>
<div class="line"><span class="lineno">  263</span>                {</div>
<div class="line"><span class="lineno">  264</span>                    ConfigureNewtonsoftJsonSerializerSettingsForApi(options.PayloadSerializerSettings);</div>
<div class="line"><span class="lineno">  265</span>                });</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>            services.AddHub&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub.html">JobsHub</a>, <a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_api_1_1_hubs_1_1_i_jobs_hub.html">IJobsHub</a>&gt;();</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>            <span class="keywordflow">if</span> (postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a11ecc704e68650d06ce04f8da01e47d1">GeneralConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a20afca0f8385264dfca46ad57b28eed6">HostApiDocumentation</a>)</div>
<div class="line"><span class="lineno">  270</span>            {</div>
<div class="line"><span class="lineno">  271</span>                <span class="keywordtype">string</span> GetDocumentationFilePath(<span class="keywordtype">string</span> assemblyLocation) =&gt; ioManager.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">ConcatPath</a>(ioManager.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a691970cc91e5576b06ed9ce14e51d9b8">GetDirectoryName</a>(assemblyLocation), String.Concat(ioManager.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ab6635afaf199a1396a743f3b46eac786">GetFileNameWithoutExtension</a>(assemblyLocation), <span class="stringliteral">&quot;.xml&quot;</span>));</div>
<div class="line"><span class="lineno">  272</span>                var assemblyDocumentationPath = GetDocumentationFilePath(GetType().Assembly.Location);</div>
<div class="line"><span class="lineno">  273</span>                var apiDocumentationPath = GetDocumentationFilePath(typeof(<a class="code hl_class" href="class_tgstation_1_1_server_1_1_api_1_1_api_headers.html">ApiHeaders</a>).Assembly.Location);</div>
<div class="line"><span class="lineno">  274</span>                services.AddSwaggerGen(genOptions =&gt; <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html">SwaggerConfiguration</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html#a7a8de5dbb9ef96b2ced6739f2afe3549">Configure</a>(genOptions, assemblyDocumentationPath, apiDocumentationPath));</div>
<div class="line"><span class="lineno">  275</span>                services.AddSwaggerGenNewtonsoftSupport();</div>
<div class="line"><span class="lineno">  276</span>            }</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>            <span class="comment">// CORS conditionally enabled later</span></div>
<div class="line"><span class="lineno">  279</span>            services.AddCors();</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>            <span class="comment">// Enable managed HTTP clients</span></div>
<div class="line"><span class="lineno">  282</span>            services.AddHttpClient();</div>
<div class="line"><span class="lineno">  283</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_common_1_1_http_1_1_i_abstract_http_client_factory.html">IAbstractHttpClientFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_abstract_http_client_factory.html">AbstractHttpClientFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>            <span class="keywordtype">void</span> AddTypedContext&lt;TContext&gt;()</div>
<div class="line"><span class="lineno">  286</span>                where TContext : <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a></div>
<div class="line"><span class="lineno">  287</span>            {</div>
<div class="line"><span class="lineno">  288</span>                var configureAction = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">DatabaseContext</a>.GetConfigureAction&lt;TContext&gt;();</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>                services.AddDbContextPool&lt;TContext&gt;((serviceProvider, builder) =&gt;</div>
<div class="line"><span class="lineno">  291</span>                {</div>
<div class="line"><span class="lineno">  292</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#affdb9aca40d21e4d92078d3da87483d1">hostingEnvironment</a>.IsDevelopment())</div>
<div class="line"><span class="lineno">  293</span>                        builder.EnableSensitiveDataLogging();</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>                    var databaseConfigOptions = serviceProvider.GetRequiredService&lt;IOptions&lt;DatabaseConfiguration&gt;&gt;();</div>
<div class="line"><span class="lineno">  296</span>                    var databaseConfig = databaseConfigOptions.Value ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;DatabaseConfiguration missing!&quot;</span>);</div>
<div class="line"><span class="lineno">  297</span>                    configureAction(builder, databaseConfig);</div>
<div class="line"><span class="lineno">  298</span>                });</div>
<div class="line"><span class="lineno">  299</span>                services.AddScoped&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">IDatabaseContext</a>&gt;(x =&gt; x.GetRequiredService&lt;TContext&gt;());</div>
<div class="line"><span class="lineno">  300</span>            }</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>            <span class="comment">// add the correct database context type</span></div>
<div class="line"><span class="lineno">  303</span>            var dbType = postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a699d665ee572bc205cf3c3889734ac22">DatabaseConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#adab83eaad53afabdb2f7b43c23ece38a">DatabaseType</a>;</div>
<div class="line"><span class="lineno">  304</span>            <span class="keywordflow">switch</span> (dbType)</div>
<div class="line"><span class="lineno">  305</span>            {</div>
<div class="line"><span class="lineno">  306</span>                <span class="keywordflow">case</span> <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_configuration.html#acda8f6ee23a9ee8ac298f7b4a7d5617c">DatabaseType</a>.MySql:</div>
<div class="line"><span class="lineno">  307</span>                <span class="keywordflow">case</span> <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_configuration.html#acda8f6ee23a9ee8ac298f7b4a7d5617c">DatabaseType</a>.MariaDB:</div>
<div class="line"><span class="lineno">  308</span>                    AddTypedContext&lt;MySqlDatabaseContext&gt;();</div>
<div class="line"><span class="lineno">  309</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">case</span> <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_configuration.html#acda8f6ee23a9ee8ac298f7b4a7d5617c">DatabaseType</a>.SqlServer:</div>
<div class="line"><span class="lineno">  311</span>                    AddTypedContext&lt;SqlServerDatabaseContext&gt;();</div>
<div class="line"><span class="lineno">  312</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  313</span>                <span class="keywordflow">case</span> <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_configuration.html#acda8f6ee23a9ee8ac298f7b4a7d5617c">DatabaseType</a>.Sqlite:</div>
<div class="line"><span class="lineno">  314</span>                    AddTypedContext&lt;SqliteDatabaseContext&gt;();</div>
<div class="line"><span class="lineno">  315</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  316</span>                <span class="keywordflow">case</span> <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_configuration.html#acda8f6ee23a9ee8ac298f7b4a7d5617c">DatabaseType</a>.PostgresSql:</div>
<div class="line"><span class="lineno">  317</span>                    AddTypedContext&lt;PostgresSqlDatabaseContext&gt;();</div>
<div class="line"><span class="lineno">  318</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  319</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  320</span>                    <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(String.Format(CultureInfo.InvariantCulture, <span class="stringliteral">&quot;Invalid {0}: {1}!&quot;</span>, nameof(<a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_configuration.html#acda8f6ee23a9ee8ac298f7b4a7d5617c">DatabaseType</a>), dbType));</div>
<div class="line"><span class="lineno">  321</span>            }</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>            <span class="comment">// configure other database services</span></div>
<div class="line"><span class="lineno">  324</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context_factory.html">IDatabaseContextFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_factory.html">DatabaseContextFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  325</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_seeder.html">IDatabaseSeeder</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html">DatabaseSeeder</a>&gt;();</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>            <span class="comment">// configure other security services</span></div>
<div class="line"><span class="lineno">  328</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_o_auth_1_1_i_o_auth_providers.html">IOAuthProviders</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_o_auth_1_1_o_auth_providers.html">OAuthProviders</a>&gt;();</div>
<div class="line"><span class="lineno">  329</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_identity_cache.html">IIdentityCache</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_identity_cache.html">IdentityCache</a>&gt;();</div>
<div class="line"><span class="lineno">  330</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html">ICryptographySuite</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_cryptography_suite.html">CryptographySuite</a>&gt;();</div>
<div class="line"><span class="lineno">  331</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html">ITokenFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_token_factory.html">TokenFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  332</span>            services.AddSingleton&lt;IPasswordHasher&lt;Models.User&gt;, PasswordHasher&lt;Models.User&gt;&gt;();</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>            <span class="comment">// configure platform specific services</span></div>
<div class="line"><span class="lineno">  335</span>            <span class="keywordflow">if</span> (postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa53827a00b6d58248f90406af9e5e7cb">PlatformIdentifier</a>.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#aa9bf3bd1082b7178f58cb1f36839550e">IsWindows</a>)</div>
<div class="line"><span class="lineno">  336</span>            {</div>
<div class="line"><span class="lineno">  337</span>                AddWatchdog&lt;WindowsWatchdogFactory&gt;(services, postSetupServices);</div>
<div class="line"><span class="lineno">  338</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_system_identity_factory.html">ISystemIdentityFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_windows_system_identity_factory.html">WindowsSystemIdentityFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  339</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory.html">IFilesystemLinkFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_windows_filesystem_link_factory.html">WindowsFilesystemLinkFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  340</span>                services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_byond_installer_base.html">ByondInstallerBase</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_windows_byond_installer.html">WindowsByondInstaller</a>&gt;();</div>
<div class="line"><span class="lineno">  341</span>                services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_open_dream_installer.html">OpenDreamInstaller</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_windows_open_dream_installer.html">WindowsOpenDreamInstaller</a>&gt;();</div>
<div class="line"><span class="lineno">  342</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_post_write_handler.html">IPostWriteHandler</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_windows_post_write_handler.html">WindowsPostWriteHandler</a>&gt;();</div>
<div class="line"><span class="lineno">  343</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_features.html">IProcessFeatures</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_process_features.html">WindowsProcessFeatures</a>&gt;();</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>                services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_network_prompt_reaper.html">WindowsNetworkPromptReaper</a>&gt;();</div>
<div class="line"><span class="lineno">  346</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_network_prompt_reaper.html">INetworkPromptReaper</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_network_prompt_reaper.html">WindowsNetworkPromptReaper</a>&gt;());</div>
<div class="line"><span class="lineno">  347</span>                services.AddSingleton&lt;<a class="code hl_class" href="class_i_hosted_service.html">IHostedService</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_network_prompt_reaper.html">WindowsNetworkPromptReaper</a>&gt;());</div>
<div class="line"><span class="lineno">  348</span>            }</div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  350</span>            {</div>
<div class="line"><span class="lineno">  351</span>                AddWatchdog&lt;PosixWatchdogFactory&gt;(services, postSetupServices);</div>
<div class="line"><span class="lineno">  352</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_system_identity_factory.html">ISystemIdentityFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_posix_system_identity_factory.html">PosixSystemIdentityFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  353</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory.html">IFilesystemLinkFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_posix_filesystem_link_factory.html">PosixFilesystemLinkFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  354</span>                services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_byond_installer_base.html">ByondInstallerBase</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_posix_byond_installer.html">PosixByondInstaller</a>&gt;();</div>
<div class="line"><span class="lineno">  355</span>                services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_open_dream_installer.html">OpenDreamInstaller</a>&gt;();</div>
<div class="line"><span class="lineno">  356</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_post_write_handler.html">IPostWriteHandler</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_posix_post_write_handler.html">PosixPostWriteHandler</a>&gt;();</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_features.html">IProcessFeatures</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_process_features.html">PosixProcessFeatures</a>&gt;();</div>
<div class="line"><span class="lineno">  359</span>                services.AddHostedService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_process_features.html">PosixProcessFeatures</a>&gt;();</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>                <span class="comment">// PosixProcessFeatures also needs a IProcessExecutor for gcore</span></div>
<div class="line"><span class="lineno">  362</span>                services.AddSingleton(x =&gt; <span class="keyword">new</span> Lazy&lt;IProcessExecutor&gt;(() =&gt; x.GetRequiredService&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_executor.html">IProcessExecutor</a>&gt;(), <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  363</span>                services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_network_prompt_reaper.html">INetworkPromptReaper</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_network_prompt_reaper.html">PosixNetworkPromptReaper</a>&gt;();</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>                services.AddHostedService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_signal_handler.html">PosixSignalHandler</a>&gt;();</div>
<div class="line"><span class="lineno">  366</span>            }</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>            <span class="comment">// only global repo manager should be for the OD repo</span></div>
<div class="line"><span class="lineno">  369</span>            <span class="comment">// god help me if we need more</span></div>
<div class="line"><span class="lineno">  370</span>            var openDreamRepositoryDirectory = ioManager.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">ConcatPath</a>(</div>
<div class="line"><span class="lineno">  371</span>                ioManager.GetPathInLocalDirectory(assemblyInformationProvider),</div>
<div class="line"><span class="lineno">  372</span>                <span class="stringliteral">&quot;OpenDreamRepository&quot;</span>);</div>
<div class="line"><span class="lineno">  373</span>            services.AddSingleton(</div>
<div class="line"><span class="lineno">  374</span>                services =&gt; services</div>
<div class="line"><span class="lineno">  375</span>                    .GetRequiredService&lt;IRepositoryManagerFactory&gt;()</div>
<div class="line"><span class="lineno">  376</span>                    .CreateRepositoryManager(</div>
<div class="line"><span class="lineno">  377</span>                        <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_resolving_i_o_manager.html">ResolvingIOManager</a>(</div>
<div class="line"><span class="lineno">  378</span>                            services.GetRequiredService&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a>&gt;(),</div>
<div class="line"><span class="lineno">  379</span>                            openDreamRepositoryDirectory),</div>
<div class="line"><span class="lineno">  380</span>                        <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_noop_event_consumer.html">NoopEventConsumer</a>()));</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>            services.AddSingleton(</div>
<div class="line"><span class="lineno">  383</span>                serviceProvider =&gt; <span class="keyword">new</span> Dictionary&lt;EngineType, IEngineInstaller&gt;</div>
<div class="line"><span class="lineno">  384</span>                {</div>
<div class="line"><span class="lineno">  385</span>                    { <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad8fb60934662752c4bbed899440208ea">EngineType</a>.Byond, serviceProvider.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_byond_installer_base.html">ByondInstallerBase</a>&gt;() },</div>
<div class="line"><span class="lineno">  386</span>                    { <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad8fb60934662752c4bbed899440208ea">EngineType</a>.OpenDream, serviceProvider.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_open_dream_installer.html">OpenDreamInstaller</a>&gt;() },</div>
<div class="line"><span class="lineno">  387</span>                }</div>
<div class="line"><span class="lineno">  388</span>                .ToFrozenDictionary());</div>
<div class="line"><span class="lineno">  389</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_i_engine_installer.html">IEngineInstaller</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_delegating_engine_installer.html">DelegatingEngineInstaller</a>&gt;();</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>            <span class="keywordflow">if</span> (postSetupServices.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a11c30075bbf2a80f21d90ba187f74323">InternalConfiguration</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_internal_configuration.html#ab57493826c9b76fcd8f0fc0fdaa3fdf7">UsingSystemD</a>)</div>
<div class="line"><span class="lineno">  392</span>                services.AddHostedService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_system_d_manager.html">SystemDManager</a>&gt;();</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>            <span class="comment">// configure file transfer services</span></div>
<div class="line"><span class="lineno">  395</span>            services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_file_transfer_service.html">FileTransferService</a>&gt;();</div>
<div class="line"><span class="lineno">  396</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_i_file_transfer_stream_handler.html">IFileTransferStreamHandler</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_file_transfer_service.html">FileTransferService</a>&gt;());</div>
<div class="line"><span class="lineno">  397</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_i_file_transfer_ticket_provider.html">IFileTransferTicketProvider</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_file_transfer_service.html">FileTransferService</a>&gt;());</div>
<div class="line"><span class="lineno">  398</span>            services.AddTransient&lt;<a class="code hl_class" href="class_i_action_result_executor.html">IActionResultExecutor&lt;LimitedStreamResult&gt;</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_limited_stream_result_executor.html">LimitedStreamResultExecutor</a>&gt;();</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>            <span class="comment">// configure swarm service</span></div>
<div class="line"><span class="lineno">  401</span>            services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_swarm_service.html">SwarmService</a>&gt;();</div>
<div class="line"><span class="lineno">  402</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_service.html">ISwarmService</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_swarm_service.html">SwarmService</a>&gt;());</div>
<div class="line"><span class="lineno">  403</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_operations.html">ISwarmOperations</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_swarm_service.html">SwarmService</a>&gt;());</div>
<div class="line"><span class="lineno">  404</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_service_controller.html">ISwarmServiceController</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_swarm_service.html">SwarmService</a>&gt;());</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>            <span class="comment">// configure component services</span></div>
<div class="line"><span class="lineno">  407</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html">IPortAllocator</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_port_allocator.html">PortAllocator</a>&gt;();</div>
<div class="line"><span class="lineno">  408</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_factory.html">IInstanceFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_factory.html">InstanceFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  409</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_git_remote_features_factory.html">IGitRemoteFeaturesFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_git_remote_features_factory.html">GitRemoteFeaturesFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  410</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_lib_git2_repository_factory.html">ILibGit2RepositoryFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_lib_git2_repository_factory.html">LibGit2RepositoryFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  411</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_lib_git2_commands.html">ILibGit2Commands</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_lib_git2_commands.html">LibGit2Commands</a>&gt;();</div>
<div class="line"><span class="lineno">  412</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_repository_manager_factory.html">IRepositoryManagerFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_repostory_manager_factory.html">RepostoryManagerFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  413</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html">IRemoteDeploymentManagerFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_remote_deployment_manager_factory.html">RemoteDeploymentManagerFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  414</span>            services.AddChatProviderFactory();</div>
<div class="line"><span class="lineno">  415</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager_factory.html">IChatManagerFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_chat_manager_factory.html">ChatManagerFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  416</span>            services.AddSingleton&lt;IServerUpdater, ServerUpdater&gt;();</div>
<div class="line"><span class="lineno">  417</span>            services.AddSingleton&lt;IServerUpdateInitiator, ServerUpdateInitiator&gt;();</div>
<div class="line"><span class="lineno">  418</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_dotnet_dump_service.html">IDotnetDumpService</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_dotnet_dump_service.html">DotnetDumpService</a>&gt;();</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>            <span class="comment">// configure misc services</span></div>
<div class="line"><span class="lineno">  421</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_executor.html">IProcessExecutor</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_process_executor.html">ProcessExecutor</a>&gt;();</div>
<div class="line"><span class="lineno">  422</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_synchronous_i_o_manager.html">ISynchronousIOManager</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_synchronous_i_o_manager.html">SynchronousIOManager</a>&gt;();</div>
<div class="line"><span class="lineno">  423</span>            services.AddSingleton&lt;IServerPortProvider, ServerPortProivder&gt;();</div>
<div class="line"><span class="lineno">  424</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_topic_client_factory.html">ITopicClientFactory</a>, <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_topic_client_factory.html">TopicClientFactory</a>&gt;();</div>
<div class="line"><span class="lineno">  425</span>            services.AddHostedService&lt;CommandPipeManager&gt;();</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>            services.AddFileDownloader();</div>
<div class="line"><span class="lineno">  428</span>            services.AddGitHub();</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>            <span class="comment">// configure root services</span></div>
<div class="line"><span class="lineno">  431</span>            services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_job_service.html">JobService</a>&gt;();</div>
<div class="line"><span class="lineno">  432</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_service.html">IJobService</a>&gt;(provider =&gt; provider.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_job_service.html">JobService</a>&gt;());</div>
<div class="line"><span class="lineno">  433</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_jobs_hub_updater.html">IJobsHubUpdater</a>&gt;(provider =&gt; provider.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_job_service.html">JobService</a>&gt;());</div>
<div class="line"><span class="lineno">  434</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_service.html">IJobService</a>&gt;());</div>
<div class="line"><span class="lineno">  435</span>            services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub_group_mapper.html">JobsHubGroupMapper</a>&gt;();</div>
<div class="line"><span class="lineno">  436</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html">IPermissionsUpdateNotifyee</a>&gt;(provider =&gt; provider.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub_group_mapper.html">JobsHubGroupMapper</a>&gt;());</div>
<div class="line"><span class="lineno">  437</span>            services.AddSingleton&lt;<a class="code hl_class" href="class_i_hosted_service.html">IHostedService</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub_group_mapper.html">JobsHubGroupMapper</a>&gt;()); <span class="comment">// bit of a hack, but we need this to load immediated</span></div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>            services.AddSingleton&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_manager.html">InstanceManager</a>&gt;();</div>
<div class="line"><span class="lineno">  440</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_bridge_1_1_i_bridge_dispatcher.html">IBridgeDispatcher</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_manager.html">InstanceManager</a>&gt;());</div>
<div class="line"><span class="lineno">  441</span>            services.AddSingleton&lt;<a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_manager.html">IInstanceManager</a>&gt;(x =&gt; x.GetRequiredService&lt;<a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_manager.html">InstanceManager</a>&gt;());</div>
<div class="line"><span class="lineno">  442</span>        }</div>
<div class="ttc" id="aclass_i_action_result_executor_html"><div class="ttname"><a href="class_i_action_result_executor.html">IActionResultExecutor</a></div></div>
<div class="ttc" id="aclass_i_hosted_service_html"><div class="ttname"><a href="class_i_hosted_service.html">IHostedService</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_api_headers_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_api_headers.html">Tgstation.Server.Api.ApiHeaders</a></div><div class="ttdoc">Represents the header that must be present for every server request.</div><div class="ttdef"><b>Definition:</b> <a href="_api_headers_8cs_source.html#l00024">ApiHeaders.cs:25</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_chat_manager_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_chat_manager_factory.html">Tgstation.Server.Host.Components.Chat.ChatManagerFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_chat_manager_factory_8cs_source.html#l00015">ChatManagerFactory.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_remote_deployment_manager_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_remote_deployment_manager_factory.html">Tgstation.Server.Host.Components.Deployment.Remote.RemoteDeploymentManagerFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_remote_deployment_manager_factory_8cs_source.html#l00015">RemoteDeploymentManagerFactory.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_byond_installer_base_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_byond_installer_base.html">Tgstation.Server.Host.Components.Engine.ByondInstallerBase</a></div><div class="ttdoc">Base implementation of IEngineInstaller for EngineType.Byond.</div><div class="ttdef"><b>Definition:</b> <a href="_byond_installer_base_8cs_source.html#l00019">ByondInstallerBase.cs:20</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_delegating_engine_installer_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_delegating_engine_installer.html">Tgstation.Server.Host.Components.Engine.DelegatingEngineInstaller</a></div><div class="ttdoc">Implementation of IEngineInstaller that forwards calls to different IEngineInstaller based on their a...</div><div class="ttdef"><b>Definition:</b> <a href="_delegating_engine_installer_8cs_source.html#l00015">DelegatingEngineInstaller.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_open_dream_installer_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_open_dream_installer.html">Tgstation.Server.Host.Components.Engine.OpenDreamInstaller</a></div><div class="ttdoc">Implementation of IEngineInstaller for EngineType.OpenDream.</div><div class="ttdef"><b>Definition:</b> <a href="_open_dream_installer_8cs_source.html#l00024">OpenDreamInstaller.cs:25</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_posix_byond_installer_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_posix_byond_installer.html">Tgstation.Server.Host.Components.Engine.PosixByondInstaller</a></div><div class="ttdoc">IEngineInstaller for Posix systems.</div><div class="ttdef"><b>Definition:</b> <a href="_posix_byond_installer_8cs_source.html#l00018">PosixByondInstaller.cs:19</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_windows_byond_installer_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_windows_byond_installer.html">Tgstation.Server.Host.Components.Engine.WindowsByondInstaller</a></div><div class="ttdoc">IEngineInstaller for windows systems.</div><div class="ttdef"><b>Definition:</b> <a href="_windows_byond_installer_8cs_source.html#l00023">WindowsByondInstaller.cs:24</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_windows_open_dream_installer_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_windows_open_dream_installer.html">Tgstation.Server.Host.Components.Engine.WindowsOpenDreamInstaller</a></div><div class="ttdoc">Implementation of OpenDreamInstaller for Windows systems.</div><div class="ttdef"><b>Definition:</b> <a href="_windows_open_dream_installer_8cs_source.html#l00023">WindowsOpenDreamInstaller.cs:24</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_noop_event_consumer_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_noop_event_consumer.html">Tgstation.Server.Host.Components.Events.NoopEventConsumer</a></div><div class="ttdoc">No-op implementation of IEventConsumer.</div><div class="ttdef"><b>Definition:</b> <a href="_noop_event_consumer_8cs_source.html#l00010">NoopEventConsumer.cs:11</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_factory.html">Tgstation.Server.Host.Components.InstanceFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_instance_factory_8cs_source.html#l00031">InstanceFactory.cs:32</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_manager_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance_manager.html">Tgstation.Server.Host.Components.InstanceManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_instance_manager_8cs_source.html#l00033">InstanceManager.cs:39</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_git_remote_features_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_git_remote_features_factory.html">Tgstation.Server.Host.Components.Repository.GitRemoteFeaturesFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_git_remote_features_factory_8cs_source.html#l00011">GitRemoteFeaturesFactory.cs:12</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_lib_git2_commands_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_lib_git2_commands.html">Tgstation.Server.Host.Components.Repository.LibGit2Commands</a></div><div class="ttdef"><b>Definition:</b> <a href="_lib_git2_commands_8cs_source.html#l00009">LibGit2Commands.cs:10</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_lib_git2_repository_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_lib_git2_repository_factory.html">Tgstation.Server.Host.Components.Repository.LibGit2RepositoryFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_lib_git2_repository_factory_8cs_source.html#l00016">LibGit2RepositoryFactory.cs:17</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_repostory_manager_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_repostory_manager_factory.html">Tgstation.Server.Host.Components.Repository.RepostoryManagerFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_repostory_manager_factory_8cs_source.html#l00015">RepostoryManagerFactory.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_topic_client_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_topic_client_factory.html">Tgstation.Server.Host.Components.Session.TopicClientFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_topic_client_factory_8cs_source.html#l00010">TopicClientFactory.cs:11</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_control_panel_configuration_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_control_panel_configuration.html">Tgstation.Server.Host.Configuration.ControlPanelConfiguration</a></div><div class="ttdoc">Configuration options for the web control panel.</div><div class="ttdef"><b>Definition:</b> <a href="_control_panel_configuration_8cs_source.html#l00008">ControlPanelConfiguration.cs:9</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration_html_adab83eaad53afabdb2f7b43c23ece38a"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_database_configuration.html#adab83eaad53afabdb2f7b43c23ece38a">Tgstation.Server.Host.Configuration.DatabaseConfiguration.DatabaseType</a></div><div class="ttdeci">DatabaseType DatabaseType</div><div class="ttdoc">The Configuration.DatabaseType to create.</div><div class="ttdef"><b>Definition:</b> <a href="_database_configuration_8cs_source.html#l00020">DatabaseConfiguration.cs:20</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration_html_a5d27b790b93c94ea77f83b3729be63df"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#a5d27b790b93c94ea77f83b3729be63df">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.MicrosoftLogLevel</a></div><div class="ttdeci">LogLevel MicrosoftLogLevel</div><div class="ttdoc">The minimum Microsoft.Extensions.Logging.LogLevel to display in logs for Microsoft library sources.</div><div class="ttdef"><b>Definition:</b> <a href="_file_logging_configuration_8cs_source.html#l00042">FileLoggingConfiguration.cs:42</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration_html_a6e9e186a1456017f692358f96bdab2c3"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#a6e9e186a1456017f692358f96bdab2c3">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.GetFullLogDirectory</a></div><div class="ttdeci">string GetFullLogDirectory(IIOManager ioManager, IAssemblyInformationProvider assemblyInformationProvider, IPlatformIdentifier platformIdentifier)</div><div class="ttdoc">Gets the evaluated log Directory.</div><div class="ttdef"><b>Definition:</b> <a href="_file_logging_configuration_8cs_source.html#l00051">FileLoggingConfiguration.cs:51</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration_html_a77b327379b355d7569c118e85e25a3e7"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#a77b327379b355d7569c118e85e25a3e7">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.LogLevel</a></div><div class="ttdeci">LogLevel LogLevel</div><div class="ttdoc">The minimum Microsoft.Extensions.Logging.LogLevel to display in logs.</div><div class="ttdef"><b>Definition:</b> <a href="_file_logging_configuration_8cs_source.html#l00036">FileLoggingConfiguration.cs:36</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration_html_af1c69ac7d59ed1817d59b0022d86db15"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#af1c69ac7d59ed1817d59b0022d86db15">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.Disable</a></div><div class="ttdeci">bool Disable</div><div class="ttdoc">If file logging is disabled.</div><div class="ttdef"><b>Definition:</b> <a href="_file_logging_configuration_8cs_source.html#l00030">FileLoggingConfiguration.cs:30</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration_html_a20afca0f8385264dfca46ad57b28eed6"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a20afca0f8385264dfca46ad57b28eed6">Tgstation.Server.Host.Configuration.GeneralConfiguration.HostApiDocumentation</a></div><div class="ttdeci">bool HostApiDocumentation</div><div class="ttdoc">If the swagger documentation and UI should be made avaiable.</div><div class="ttdef"><b>Definition:</b> <a href="_general_configuration_8cs_source.html#l00125">GeneralConfiguration.cs:125</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration_html_a34cd3d2971e5908fdcda588f4770c7f6"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_general_configuration.html#a34cd3d2971e5908fdcda588f4770c7f6">Tgstation.Server.Host.Configuration.GeneralConfiguration.RestartTimeoutMinutes</a></div><div class="ttdeci">uint RestartTimeoutMinutes</div><div class="ttdoc">The timeout minutes for restarting the server.</div><div class="ttdef"><b>Definition:</b> <a href="_general_configuration_8cs_source.html#l00110">GeneralConfiguration.cs:110</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_internal_configuration_html_ab57493826c9b76fcd8f0fc0fdaa3fdf7"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_internal_configuration.html#ab57493826c9b76fcd8f0fc0fdaa3fdf7">Tgstation.Server.Host.Configuration.InternalConfiguration.UsingSystemD</a></div><div class="ttdeci">bool UsingSystemD</div><div class="ttdoc">If the server is running under SystemD.</div><div class="ttdef"><b>Definition:</b> <a href="_internal_configuration_8cs_source.html#l00026">InternalConfiguration.cs:26</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_session_configuration_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_session_configuration.html">Tgstation.Server.Host.Configuration.SessionConfiguration</a></div><div class="ttdoc">Configuration options for the game sessions.</div><div class="ttdef"><b>Definition:</b> <a href="_session_configuration_8cs_source.html#l00006">SessionConfiguration.cs:7</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_swarm_configuration.html">Tgstation.Server.Host.Configuration.SwarmConfiguration</a></div><div class="ttdoc">Configuration for the server swarm system.</div><div class="ttdef"><b>Definition:</b> <a href="_swarm_configuration_8cs_source.html#l00012">SwarmConfiguration.cs:13</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_updates_configuration_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_updates_configuration.html">Tgstation.Server.Host.Configuration.UpdatesConfiguration</a></div><div class="ttdoc">Configuration for the automatic update system.</div><div class="ttdef"><b>Definition:</b> <a href="_updates_configuration_8cs_source.html#l00008">UpdatesConfiguration.cs:9</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_limited_stream_result_executor_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_controllers_1_1_results_1_1_limited_stream_result_executor.html">Tgstation.Server.Host.Controllers.Results.LimitedStreamResultExecutor</a></div><div class="ttdoc">IActionResultExecutor&lt;TResult&gt; for LimitedStreamResults.</div><div class="ttdef"><b>Definition:</b> <a href="_limited_stream_result_executor_8cs_source.html#l00015">LimitedStreamResultExecutor.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_html_a3ec60bfa2b57cd85cae110578270a60f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a3ec60bfa2b57cd85cae110578270a60f">Tgstation.Server.Host.Core.Application.ConfigureServices</a></div><div class="ttdeci">void ConfigureServices(IServiceCollection services, IAssemblyInformationProvider assemblyInformationProvider, IIOManager ioManager, IPostSetupServices postSetupServices)</div><div class="ttdoc">Configure the Application's services .</div><div class="ttdef"><b>Definition:</b> <a href="_application_8cs_source.html#l00131">Application.cs:131</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_html_a7518c1b2ec58feaa1dffc13c9caf48af"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a7518c1b2ec58feaa1dffc13c9caf48af">Tgstation.Server.Host.Core.Application.ConfigureAuthenticationPipeline</a></div><div class="ttdeci">void ConfigureAuthenticationPipeline(IServiceCollection services)</div><div class="ttdoc">Configure the services  for the authentication pipeline.</div><div class="ttdef"><b>Definition:</b> <a href="_application_8cs_source.html#l00617">Application.cs:617</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_factory.html">Tgstation.Server.Host.Database.DatabaseContextFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_database_context_factory_8cs_source.html#l00009">DatabaseContextFactory.cs:10</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_context.html">Tgstation.Server.Host.Database.DatabaseContext</a></div><div class="ttdoc">Backend abstract implementation of IDatabaseContext.</div><div class="ttdef"><b>Definition:</b> <a href="_database_context_8cs_source.html#l00024">DatabaseContext.cs:25</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_database_1_1_database_seeder.html">Tgstation.Server.Host.Database.DatabaseSeeder</a></div><div class="ttdef"><b>Definition:</b> <a href="_database_seeder_8cs_source.html#l00022">DatabaseSeeder.cs:23</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_posix_filesystem_link_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_posix_filesystem_link_factory.html">Tgstation.Server.Host.IO.PosixFilesystemLinkFactory</a></div><div class="ttdoc">IFilesystemLinkFactory for POSIX systems.</div><div class="ttdef"><b>Definition:</b> <a href="_posix_filesystem_link_factory_8cs_source.html#l00013">PosixFilesystemLinkFactory.cs:14</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_posix_post_write_handler_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_posix_post_write_handler.html">Tgstation.Server.Host.IO.PosixPostWriteHandler</a></div><div class="ttdoc">IPostWriteHandler for POSIX systems.</div><div class="ttdef"><b>Definition:</b> <a href="_posix_post_write_handler_8cs_source.html#l00012">PosixPostWriteHandler.cs:13</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_resolving_i_o_manager_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_resolving_i_o_manager.html">Tgstation.Server.Host.IO.ResolvingIOManager</a></div><div class="ttdoc">An IIOManager that resolve relative paths from another IIOManager to a subdirectory of that.</div><div class="ttdef"><b>Definition:</b> <a href="_resolving_i_o_manager_8cs_source.html#l00009">ResolvingIOManager.cs:10</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_synchronous_i_o_manager_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_synchronous_i_o_manager.html">Tgstation.Server.Host.IO.SynchronousIOManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_synchronous_i_o_manager_8cs_source.html#l00012">SynchronousIOManager.cs:13</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_windows_filesystem_link_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_windows_filesystem_link_factory.html">Tgstation.Server.Host.IO.WindowsFilesystemLinkFactory</a></div><div class="ttdoc">IFilesystemLinkFactory for windows systems.</div><div class="ttdef"><b>Definition:</b> <a href="_windows_filesystem_link_factory_8cs_source.html#l00015">WindowsFilesystemLinkFactory.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_windows_post_write_handler_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_windows_post_write_handler.html">Tgstation.Server.Host.IO.WindowsPostWriteHandler</a></div><div class="ttdoc">IPostWriteHandler for Windows systems.</div><div class="ttdef"><b>Definition:</b> <a href="_windows_post_write_handler_8cs_source.html#l00008">WindowsPostWriteHandler.cs:9</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_job_service_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_job_service.html">Tgstation.Server.Host.Jobs.JobService</a></div><div class="ttdef"><b>Definition:</b> <a href="_job_service_8cs_source.html#l00028">JobService.cs:29</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub_group_mapper_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_jobs_hub_group_mapper.html">Tgstation.Server.Host.Jobs.JobsHubGroupMapper</a></div><div class="ttdoc">Handles mapping groups for the JobsHub.</div><div class="ttdef"><b>Definition:</b> <a href="_jobs_hub_group_mapper_8cs_source.html#l00023">JobsHubGroupMapper.cs:24</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_authorization_context_hub_filter_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_authorization_context_hub_filter.html">Tgstation.Server.Host.Security.AuthorizationContextHubFilter</a></div><div class="ttdoc">An IHubFilter that denies method calls and connections if the IAuthenticationContext is not valid for...</div><div class="ttdef"><b>Definition:</b> <a href="_authorization_context_hub_filter_8cs_source.html#l00015">AuthorizationContextHubFilter.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_cryptography_suite_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_cryptography_suite.html">Tgstation.Server.Host.Security.CryptographySuite</a></div><div class="ttdef"><b>Definition:</b> <a href="_cryptography_suite_8cs_source.html#l00012">CryptographySuite.cs:13</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_identity_cache_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_identity_cache.html">Tgstation.Server.Host.Security.IdentityCache</a></div><div class="ttdef"><b>Definition:</b> <a href="_identity_cache_8cs_source.html#l00015">IdentityCache.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_o_auth_1_1_o_auth_providers_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_o_auth_1_1_o_auth_providers.html">Tgstation.Server.Host.Security.OAuth.OAuthProviders</a></div><div class="ttdef"><b>Definition:</b> <a href="_o_auth_providers_8cs_source.html#l00016">OAuthProviders.cs:17</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_posix_system_identity_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_posix_system_identity_factory.html">Tgstation.Server.Host.Security.PosixSystemIdentityFactory</a></div><div class="ttdoc">ISystemIdentityFactory for posix systems.</div><div class="ttdef"><b>Definition:</b> <a href="_posix_system_identity_factory_8cs_source.html#l00013">PosixSystemIdentityFactory.cs:14</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_token_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_token_factory.html">Tgstation.Server.Host.Security.TokenFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_token_factory_8cs_source.html#l00019">TokenFactory.cs:20</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_security_1_1_windows_system_identity_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_security_1_1_windows_system_identity_factory.html">Tgstation.Server.Host.Security.WindowsSystemIdentityFactory</a></div><div class="ttdoc">ISystemIdentityFactory for windows systems. Uses long running tasks due to potential networked domain...</div><div class="ttdef"><b>Definition:</b> <a href="_windows_system_identity_factory_8cs_source.html#l00022">WindowsSystemIdentityFactory.cs:23</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application_html_abecd5329f7937e822959734f3c5272d1"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_setup_1_1_setup_application.html#abecd5329f7937e822959734f3c5272d1">Tgstation.Server.Host.Setup.SetupApplication.Configuration</a></div><div class="ttdeci">IConfiguration Configuration</div><div class="ttdoc">The IConfiguration for the SetupApplication.</div><div class="ttdef"><b>Definition:</b> <a href="_setup_application_8cs_source.html#l00025">SetupApplication.cs:25</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_swarm_service_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_swarm_service.html">Tgstation.Server.Host.Swarm.SwarmService</a></div><div class="ttdoc">Helps keep servers connected to the same database in sync by coordinating updates.</div><div class="ttdef"><b>Definition:</b> <a href="_swarm_service_8cs_source.html#l00035">SwarmService.cs:36</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_dotnet_dump_service_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_dotnet_dump_service.html">Tgstation.Server.Host.System.DotnetDumpService</a></div><div class="ttdef"><b>Definition:</b> <a href="_dotnet_dump_service_8cs_source.html#l00014">DotnetDumpService.cs:15</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_network_prompt_reaper_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_network_prompt_reaper.html">Tgstation.Server.Host.System.PosixNetworkPromptReaper</a></div><div class="ttdef"><b>Definition:</b> <a href="_posix_network_prompt_reaper_8cs_source.html#l00004">PosixNetworkPromptReaper.cs:5</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_process_features_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_process_features.html">Tgstation.Server.Host.System.PosixProcessFeatures</a></div><div class="ttdef"><b>Definition:</b> <a href="_posix_process_features_8cs_source.html#l00020">PosixProcessFeatures.cs:21</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_signal_handler_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_posix_signal_handler.html">Tgstation.Server.Host.System.PosixSignalHandler</a></div><div class="ttdoc">Handles POSIX signals.</div><div class="ttdef"><b>Definition:</b> <a href="_posix_signal_handler_8cs_source.html#l00018">PosixSignalHandler.cs:19</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_process_executor_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_process_executor.html">Tgstation.Server.Host.System.ProcessExecutor</a></div><div class="ttdef"><b>Definition:</b> <a href="_process_executor_8cs_source.html#l00018">ProcessExecutor.cs:19</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_system_d_manager_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_system_d_manager.html">Tgstation.Server.Host.System.SystemDManager</a></div><div class="ttdoc">Implements the SystemD notify service protocol.</div><div class="ttdef"><b>Definition:</b> <a href="_system_d_manager_8cs_source.html#l00019">SystemDManager.cs:20</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_network_prompt_reaper_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_network_prompt_reaper.html">Tgstation.Server.Host.System.WindowsNetworkPromptReaper</a></div><div class="ttdef"><b>Definition:</b> <a href="_windows_network_prompt_reaper_8cs_source.html#l00019">WindowsNetworkPromptReaper.cs:20</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_process_features_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_windows_process_features.html">Tgstation.Server.Host.System.WindowsProcessFeatures</a></div><div class="ttdef"><b>Definition:</b> <a href="_windows_process_features_8cs_source.html#l00022">WindowsProcessFeatures.cs:23</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_file_transfer_service_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_file_transfer_service.html">Tgstation.Server.Host.Transfer.FileTransferService</a></div><div class="ttdoc">Implementation of the file transfer service.</div><div class="ttdef"><b>Definition:</b> <a href="_file_transfer_service_8cs_source.html#l00020">FileTransferService.cs:21</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_abstract_http_client_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_abstract_http_client_factory.html">Tgstation.Server.Host.Utils.AbstractHttpClientFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="_abstract_http_client_factory_8cs_source.html#l00012">AbstractHttpClientFactory.cs:13</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_port_allocator_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_port_allocator.html">Tgstation.Server.Host.Utils.PortAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="_port_allocator_8cs_source.html#l00020">PortAllocator.cs:21</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_serilog_context_helper_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_serilog_context_helper.html">Tgstation.Server.Host.Utils.SerilogContextHelper</a></div><div class="ttdoc">Helpers for manipulating the Serilog.Context.LogContext.</div><div class="ttdef"><b>Definition:</b> <a href="_serilog_context_helper_8cs_source.html#l00006">SerilogContextHelper.cs:7</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_serilog_context_helper_html_aaacc800163cdc79979e7818d9650101d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_serilog_context_helper.html#aaacc800163cdc79979e7818d9650101d">Tgstation.Server.Host.Utils.SerilogContextHelper.Template</a></div><div class="ttdeci">static string Template</div><div class="ttdoc">Common template used for adding our custom log context to serilog.</div><div class="ttdef"><b>Definition:</b> <a href="_serilog_context_helper_8cs_source.html#l00062">SerilogContextHelper.cs:62</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration_html_a7a8de5dbb9ef96b2ced6739f2afe3549"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html#a7a8de5dbb9ef96b2ced6739f2afe3549">Tgstation.Server.Host.Utils.SwaggerConfiguration.Configure</a></div><div class="ttdeci">static void Configure(SwaggerGenOptions swaggerGenOptions, string assemblyDocumentationPath, string apiDocumentationPath)</div><div class="ttdoc">Configure the swagger settings.</div><div class="ttdef"><b>Definition:</b> <a href="_swagger_configuration_8cs_source.html#l00061">SwaggerConfiguration.cs:61</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_shared_1_1_version_converter_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_shared_1_1_version_converter.html">Tgstation.Server.Shared.VersionConverter</a></div><div class="ttdoc">JsonConverter and IYamlTypeConverter for serializing global::System.Versions in semver format.</div><div class="ttdef"><b>Definition:</b> <a href="_version_converter_8cs_source.html#l00016">VersionConverter.cs:17</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_api_1_1_hubs_1_1_i_jobs_hub_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_api_1_1_hubs_1_1_i_jobs_hub.html">Tgstation.Server.Api.Hubs.IJobsHub</a></div><div class="ttdoc">SignalR client methods for receiving JobResponses.</div><div class="ttdef"><b>Definition:</b> <a href="_i_jobs_hub_8cs_source.html#l00011">IJobsHub.cs:12</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_common_1_1_http_1_1_i_abstract_http_client_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_common_1_1_http_1_1_i_abstract_http_client_factory.html">Tgstation.Server.Common.Http.IAbstractHttpClientFactory</a></div><div class="ttdoc">Creates IHttpClients.</div><div class="ttdef"><b>Definition:</b> <a href="_i_abstract_http_client_factory_8cs_source.html#l00006">IAbstractHttpClientFactory.cs:7</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager_factory.html">Tgstation.Server.Host.Components.Chat.IChatManagerFactory</a></div><div class="ttdoc">For creating IChatManagers.</div><div class="ttdef"><b>Definition:</b> <a href="_i_chat_manager_factory_8cs_source.html#l00010">IChatManagerFactory.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html">Tgstation.Server.Host.Components.Deployment.Remote.IRemoteDeploymentManagerFactory</a></div><div class="ttdoc">Factory for creating IRemoteDeploymentManagers.</div><div class="ttdef"><b>Definition:</b> <a href="_i_remote_deployment_manager_factory_8cs_source.html#l00010">IRemoteDeploymentManagerFactory.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_i_engine_installer_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_engine_1_1_i_engine_installer.html">Tgstation.Server.Host.Components.Engine.IEngineInstaller</a></div><div class="ttdoc">For downloading and installing game engines for a given system.</div><div class="ttdef"><b>Definition:</b> <a href="_i_engine_installer_8cs_source.html#l00012">IEngineInstaller.cs:13</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_instance_factory.html">Tgstation.Server.Host.Components.IInstanceFactory</a></div><div class="ttdoc">Factory for creating IInstances.</div><div class="ttdef"><b>Definition:</b> <a href="_i_instance_factory_8cs_source.html#l00011">IInstanceFactory.cs:12</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_bridge_1_1_i_bridge_dispatcher_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_bridge_1_1_i_bridge_dispatcher.html">Tgstation.Server.Host.Components.Interop.Bridge.IBridgeDispatcher</a></div><div class="ttdoc">Handler for BridgeParameters.</div><div class="ttdef"><b>Definition:</b> <a href="_i_bridge_dispatcher_8cs_source.html#l00009">IBridgeDispatcher.cs:10</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_git_remote_features_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_git_remote_features_factory.html">Tgstation.Server.Host.Components.Repository.IGitRemoteFeaturesFactory</a></div><div class="ttdoc">Factory for creating IGitRemoteFeatures.</div><div class="ttdef"><b>Definition:</b> <a href="_i_git_remote_features_factory_8cs_source.html#l00010">IGitRemoteFeaturesFactory.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_lib_git2_commands_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_lib_git2_commands.html">Tgstation.Server.Host.Components.Repository.ILibGit2Commands</a></div><div class="ttdoc">For low level interactions with a LibGit2Sharp.IRepository.</div><div class="ttdef"><b>Definition:</b> <a href="_i_lib_git2_commands_8cs_source.html#l00010">ILibGit2Commands.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_lib_git2_repository_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_lib_git2_repository_factory.html">Tgstation.Server.Host.Components.Repository.ILibGit2RepositoryFactory</a></div><div class="ttdoc">Factory for creating LibGit2Sharp.IRepositorys.</div><div class="ttdef"><b>Definition:</b> <a href="_i_lib_git2_repository_factory_8cs_source.html#l00012">ILibGit2RepositoryFactory.cs:13</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_repository_manager_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_repository_1_1_i_repository_manager_factory.html">Tgstation.Server.Host.Components.Repository.IRepositoryManagerFactory</a></div><div class="ttdoc">Factory for creating IRepositoryManagers.</div><div class="ttdef"><b>Definition:</b> <a href="_i_repository_manager_factory_8cs_source.html#l00009">IRepositoryManagerFactory.cs:10</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_topic_client_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_topic_client_factory.html">Tgstation.Server.Host.Components.Session.ITopicClientFactory</a></div><div class="ttdoc">Factory for ITopicClients.</div><div class="ttdef"><b>Definition:</b> <a href="_i_topic_client_factory_8cs_source.html#l00010">ITopicClientFactory.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context_factory.html">Tgstation.Server.Host.Database.IDatabaseContextFactory</a></div><div class="ttdoc">Factory for scoping usage of IDatabaseContexts. Meant for use by Components.</div><div class="ttdef"><b>Definition:</b> <a href="_i_database_context_factory_8cs_source.html#l00009">IDatabaseContextFactory.cs:10</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_context.html">Tgstation.Server.Host.Database.IDatabaseContext</a></div><div class="ttdoc">Represents the database.</div><div class="ttdef"><b>Definition:</b> <a href="_i_database_context_8cs_source.html#l00016">IDatabaseContext.cs:17</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_seeder_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_database_1_1_i_database_seeder.html">Tgstation.Server.Host.Database.IDatabaseSeeder</a></div><div class="ttdoc">For initially setting up a database.</div><div class="ttdef"><b>Definition:</b> <a href="_i_database_seeder_8cs_source.html#l00010">IDatabaseSeeder.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory.html">Tgstation.Server.Host.IO.IFilesystemLinkFactory</a></div><div class="ttdoc">For creating filesystem symbolic links.</div><div class="ttdef"><b>Definition:</b> <a href="_i_filesystem_link_factory_8cs_source.html#l00009">IFilesystemLinkFactory.cs:10</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">Tgstation.Server.Host.IO.IIOManager</a></div><div class="ttdoc">Interface for using filesystems.</div><div class="ttdef"><b>Definition:</b> <a href="_i_i_o_manager_8cs_source.html#l00012">IIOManager.cs:13</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a286f4eb5c679683b7e519847a6c3574e"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">Tgstation.Server.Host.IO.IIOManager.ConcatPath</a></div><div class="ttdeci">string ConcatPath(params string[] paths)</div><div class="ttdoc">Combines an array of strings into a path.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_a691970cc91e5576b06ed9ce14e51d9b8"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a691970cc91e5576b06ed9ce14e51d9b8">Tgstation.Server.Host.IO.IIOManager.GetDirectoryName</a></div><div class="ttdeci">string GetDirectoryName(string path)</div><div class="ttdoc">Gets the directory portion of a given path .</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager_html_ab6635afaf199a1396a743f3b46eac786"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ab6635afaf199a1396a743f3b46eac786">Tgstation.Server.Host.IO.IIOManager.GetFileNameWithoutExtension</a></div><div class="ttdeci">string GetFileNameWithoutExtension(string path)</div><div class="ttdoc">Gets the file name portion of a path  with.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_post_write_handler_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_post_write_handler.html">Tgstation.Server.Host.IO.IPostWriteHandler</a></div><div class="ttdoc">Handles changing file modes/permissions after writing.</div><div class="ttdef"><b>Definition:</b> <a href="_i_post_write_handler_8cs_source.html#l00006">IPostWriteHandler.cs:7</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_synchronous_i_o_manager_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_synchronous_i_o_manager.html">Tgstation.Server.Host.IO.ISynchronousIOManager</a></div><div class="ttdoc">For accessing the disk in a synchronous manner.</div><div class="ttdef"><b>Definition:</b> <a href="_i_synchronous_i_o_manager_8cs_source.html#l00010">ISynchronousIOManager.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">Tgstation.Server.Host.Jobs.IJobManager</a></div><div class="ttdoc">Manages the runtime of Jobs.</div><div class="ttdef"><b>Definition:</b> <a href="_i_job_manager_8cs_source.html#l00012">IJobManager.cs:13</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_service_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_service.html">Tgstation.Server.Host.Jobs.IJobService</a></div><div class="ttdoc">The service that manages everything to do with jobs.</div><div class="ttdef"><b>Definition:</b> <a href="_i_job_service_8cs_source.html#l00008">IJobService.cs:9</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_jobs_hub_updater_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_jobs_hub_updater.html">Tgstation.Server.Host.Jobs.IJobsHubUpdater</a></div><div class="ttdoc">Allows manually triggering jobs hub updates.</div><div class="ttdef"><b>Definition:</b> <a href="_i_jobs_hub_updater_8cs_source.html#l00006">IJobsHubUpdater.cs:7</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_cryptography_suite.html">Tgstation.Server.Host.Security.ICryptographySuite</a></div><div class="ttdoc">Contains various cryptographic functions.</div><div class="ttdef"><b>Definition:</b> <a href="_i_cryptography_suite_8cs_source.html#l00008">ICryptographySuite.cs:9</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_identity_cache_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_identity_cache.html">Tgstation.Server.Host.Security.IIdentityCache</a></div><div class="ttdoc">For caching ISystemIdentitys.</div><div class="ttdef"><b>Definition:</b> <a href="_i_identity_cache_8cs_source.html#l00011">IIdentityCache.cs:12</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_permissions_update_notifyee.html">Tgstation.Server.Host.Security.IPermissionsUpdateNotifyee</a></div><div class="ttdoc">Receives notifications about permissions updates.</div><div class="ttdef"><b>Definition:</b> <a href="_i_permissions_update_notifyee_8cs_source.html#l00011">IPermissionsUpdateNotifyee.cs:12</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_system_identity_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_system_identity_factory.html">Tgstation.Server.Host.Security.ISystemIdentityFactory</a></div><div class="ttdoc">Factory for ISystemIdentitys.</div><div class="ttdef"><b>Definition:</b> <a href="_i_system_identity_factory_8cs_source.html#l00011">ISystemIdentityFactory.cs:12</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html">Tgstation.Server.Host.Security.ITokenFactory</a></div><div class="ttdoc">For creating TokenResponses.</div><div class="ttdef"><b>Definition:</b> <a href="_i_token_factory_8cs_source.html#l00010">ITokenFactory.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_security_1_1_o_auth_1_1_i_o_auth_providers_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_o_auth_1_1_i_o_auth_providers.html">Tgstation.Server.Host.Security.OAuth.IOAuthProviders</a></div><div class="ttdoc">Contains IOAuthValidators.</div><div class="ttdef"><b>Definition:</b> <a href="_i_o_auth_providers_8cs_source.html#l00010">IOAuthProviders.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services_html_a0ed4655e11b6ac519422db76a10bc2ca"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a0ed4655e11b6ac519422db76a10bc2ca">Tgstation.Server.Host.Setup.IPostSetupServices.ElasticsearchConfiguration</a></div><div class="ttdeci">ElasticsearchConfiguration ElasticsearchConfiguration</div><div class="ttdoc">The Configuration.ElasticsearchConfiguration.</div><div class="ttdef"><b>Definition:</b> <a href="_i_post_setup_services_8cs_source.html#l00034">IPostSetupServices.cs:34</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services_html_a11c30075bbf2a80f21d90ba187f74323"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a11c30075bbf2a80f21d90ba187f74323">Tgstation.Server.Host.Setup.IPostSetupServices.InternalConfiguration</a></div><div class="ttdeci">InternalConfiguration InternalConfiguration</div><div class="ttdoc">The Configuration.InternalConfiguration.</div><div class="ttdef"><b>Definition:</b> <a href="_i_post_setup_services_8cs_source.html#l00039">IPostSetupServices.cs:39</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services_html_a699d665ee572bc205cf3c3889734ac22"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#a699d665ee572bc205cf3c3889734ac22">Tgstation.Server.Host.Setup.IPostSetupServices.DatabaseConfiguration</a></div><div class="ttdeci">DatabaseConfiguration DatabaseConfiguration</div><div class="ttdoc">The Configuration.DatabaseConfiguration.</div><div class="ttdef"><b>Definition:</b> <a href="_i_post_setup_services_8cs_source.html#l00019">IPostSetupServices.cs:19</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services_html_aa53827a00b6d58248f90406af9e5e7cb"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa53827a00b6d58248f90406af9e5e7cb">Tgstation.Server.Host.Setup.IPostSetupServices.PlatformIdentifier</a></div><div class="ttdeci">IPlatformIdentifier PlatformIdentifier</div><div class="ttdoc">The IPlatformIdentifier.</div><div class="ttdef"><b>Definition:</b> <a href="_i_post_setup_services_8cs_source.html#l00044">IPostSetupServices.cs:44</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services_html_aa7edcbcb5131e4d1d8229d00d2f0c8a7"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_setup_1_1_i_post_setup_services.html#aa7edcbcb5131e4d1d8229d00d2f0c8a7">Tgstation.Server.Host.Setup.IPostSetupServices.FileLoggingConfiguration</a></div><div class="ttdeci">FileLoggingConfiguration FileLoggingConfiguration</div><div class="ttdoc">The Configuration.FileLoggingConfiguration.</div><div class="ttdef"><b>Definition:</b> <a href="_i_post_setup_services_8cs_source.html#l00029">IPostSetupServices.cs:29</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_operations_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_operations.html">Tgstation.Server.Host.Swarm.ISwarmOperations</a></div><div class="ttdoc">Swarm service operations for the Controllers.SwarmController.</div><div class="ttdef"><b>Definition:</b> <a href="_i_swarm_operations_8cs_source.html#l00013">ISwarmOperations.cs:14</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_service_controller_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_service_controller.html">Tgstation.Server.Host.Swarm.ISwarmServiceController</a></div><div class="ttdoc">Start and stop controllers for a swarm service.</div><div class="ttdef"><b>Definition:</b> <a href="_i_swarm_service_controller_8cs_source.html#l00009">ISwarmServiceController.cs:10</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_service_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_swarm_1_1_i_swarm_service.html">Tgstation.Server.Host.Swarm.ISwarmService</a></div><div class="ttdoc">Used for swarm operations. Functions may be no-op based on configuration.</div><div class="ttdef"><b>Definition:</b> <a href="_i_swarm_service_8cs_source.html#l00014">ISwarmService.cs:15</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_dotnet_dump_service_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_dotnet_dump_service.html">Tgstation.Server.Host.System.IDotnetDumpService</a></div><div class="ttdoc">Service for managing the dotnet-dump installation.</div><div class="ttdef"><b>Definition:</b> <a href="_i_dotnet_dump_service_8cs_source.html#l00009">IDotnetDumpService.cs:10</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_network_prompt_reaper_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_network_prompt_reaper.html">Tgstation.Server.Host.System.INetworkPromptReaper</a></div><div class="ttdoc">On Windows, DreamDaemon will show an unskippable prompt when using /world/proc/OpenPort()....</div><div class="ttdef"><b>Definition:</b> <a href="_i_network_prompt_reaper_8cs_source.html#l00006">INetworkPromptReaper.cs:7</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier_html_aa9bf3bd1082b7178f58cb1f36839550e"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_platform_identifier.html#aa9bf3bd1082b7178f58cb1f36839550e">Tgstation.Server.Host.System.IPlatformIdentifier.IsWindows</a></div><div class="ttdeci">bool IsWindows</div><div class="ttdoc">If the current platform is a Windows platform.</div><div class="ttdef"><b>Definition:</b> <a href="_i_platform_identifier_8cs_source.html#l00014">IPlatformIdentifier.cs:14</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_executor_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_executor.html">Tgstation.Server.Host.System.IProcessExecutor</a></div><div class="ttdoc">For launching IProcess'.</div><div class="ttdef"><b>Definition:</b> <a href="_i_process_executor_8cs_source.html#l00010">IProcessExecutor.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_features_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_features.html">Tgstation.Server.Host.System.IProcessFeatures</a></div><div class="ttdoc">Abstraction for suspending and resuming processes.</div><div class="ttdef"><b>Definition:</b> <a href="_i_process_features_8cs_source.html#l00009">IProcessFeatures.cs:10</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_i_file_transfer_stream_handler_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_i_file_transfer_stream_handler.html">Tgstation.Server.Host.Transfer.IFileTransferStreamHandler</a></div><div class="ttdoc">Reads and writes to Streams associated with FileTicketResponses.</div><div class="ttdef"><b>Definition:</b> <a href="_i_file_transfer_stream_handler_8cs_source.html#l00013">IFileTransferStreamHandler.cs:14</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_i_file_transfer_ticket_provider_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_transfer_1_1_i_file_transfer_ticket_provider.html">Tgstation.Server.Host.Transfer.IFileTransferTicketProvider</a></div><div class="ttdoc">Service for temporarily storing files to be downloaded or uploaded.</div><div class="ttdef"><b>Definition:</b> <a href="_i_file_transfer_ticket_provider_8cs_source.html#l00008">IFileTransferTicketProvider.cs:9</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_port_allocator.html">Tgstation.Server.Host.Utils.IPortAllocator</a></div><div class="ttdoc">Gets unassigned ports for use by TGS.</div><div class="ttdef"><b>Definition:</b> <a href="_i_port_allocator_8cs_source.html#l00009">IPortAllocator.cs:10</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_ad8fb60934662752c4bbed899440208ea"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad8fb60934662752c4bbed899440208ea">Tgstation.Server.Api.Models.EngineType</a></div><div class="ttdeci">EngineType</div><div class="ttdoc">The type of engine the codebase is using.</div><div class="ttdef"><b>Definition:</b> <a href="_engine_type_8cs_source.html#l00006">EngineType.cs:7</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_configuration_html_acda8f6ee23a9ee8ac298f7b4a7d5617c"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_configuration.html#acda8f6ee23a9ee8ac298f7b4a7d5617c">Tgstation.Server.Host.Configuration.DatabaseType</a></div><div class="ttdeci">DatabaseType</div><div class="ttdoc">Type of database to user.</div><div class="ttdef"><b>Definition:</b> <a href="_database_type_8cs_source.html#l00006">DatabaseType.cs:7</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e">Tgstation.Server.Host.IO.IIOManager.ConcatPath()</a>, <a class="el" href="_setup_application_8cs_source.html#l00025">Tgstation.Server.Host.Setup.SetupApplication.Configuration</a>, <a class="el" href="_swagger_configuration_8cs_source.html#l00061">Tgstation.Server.Host.Utils.SwaggerConfiguration.Configure()</a>, <a class="el" href="_application_8cs_source.html#l00617">Tgstation.Server.Host.Core.Application.ConfigureAuthenticationPipeline()</a>, <a class="el" href="_application_8cs_source.html#l00131">Tgstation.Server.Host.Core.Application.ConfigureServices()</a>, <a class="el" href="_i_post_setup_services_8cs_source.html#l00019">Tgstation.Server.Host.Setup.IPostSetupServices&lt; TLoggerType &gt;.DatabaseConfiguration</a>, <a class="el" href="_database_configuration_8cs_source.html#l00020">Tgstation.Server.Host.Configuration.DatabaseConfiguration.DatabaseType</a>, <a class="el" href="_file_logging_configuration_8cs_source.html#l00030">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.Disable</a>, <a class="el" href="_i_post_setup_services_8cs_source.html#l00034">Tgstation.Server.Host.Setup.IPostSetupServices&lt; TLoggerType &gt;.ElasticsearchConfiguration</a>, <a class="el" href="_i_post_setup_services_8cs_source.html#l00029">Tgstation.Server.Host.Setup.IPostSetupServices&lt; TLoggerType &gt;.FileLoggingConfiguration</a>, <a class="el" href="_i_post_setup_services_8cs_source.html#l00014">Tgstation.Server.Host.Setup.IPostSetupServices&lt; TLoggerType &gt;.GeneralConfiguration</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a691970cc91e5576b06ed9ce14e51d9b8">Tgstation.Server.Host.IO.IIOManager.GetDirectoryName()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ab6635afaf199a1396a743f3b46eac786">Tgstation.Server.Host.IO.IIOManager.GetFileNameWithoutExtension()</a>, <a class="el" href="_file_logging_configuration_8cs_source.html#l00051">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.GetFullLogDirectory()</a>, <a class="el" href="_general_configuration_8cs_source.html#l00125">Tgstation.Server.Host.Configuration.GeneralConfiguration.HostApiDocumentation</a>, <a class="el" href="_application_8cs_source.html#l00076">Tgstation.Server.Host.Core.Application.hostingEnvironment</a>, <a class="el" href="_i_post_setup_services_8cs_source.html#l00039">Tgstation.Server.Host.Setup.IPostSetupServices&lt; TLoggerType &gt;.InternalConfiguration</a>, <a class="el" href="_i_platform_identifier_8cs_source.html#l00014">Tgstation.Server.Host.System.IPlatformIdentifier.IsWindows</a>, <a class="el" href="_file_logging_configuration_8cs_source.html#l00036">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.LogLevel</a>, <a class="el" href="_file_logging_configuration_8cs_source.html#l00042">Tgstation.Server.Host.Configuration.FileLoggingConfiguration.MicrosoftLogLevel</a>, <a class="el" href="_i_post_setup_services_8cs_source.html#l00044">Tgstation.Server.Host.Setup.IPostSetupServices&lt; TLoggerType &gt;.PlatformIdentifier</a>, <a class="el" href="_general_configuration_8cs_source.html#l00110">Tgstation.Server.Host.Configuration.GeneralConfiguration.RestartTimeoutMinutes</a>, <a class="el" href="_serilog_context_helper_8cs_source.html#l00062">Tgstation.Server.Host.Utils.SerilogContextHelper.Template</a>, and <a class="el" href="_internal_configuration_8cs_source.html#l00026">Tgstation.Server.Host.Configuration.InternalConfiguration.UsingSystemD</a>.</p>

<p class="reference">Referenced by <a class="el" href="_application_8cs_source.html#l00131">Tgstation.Server.Host.Core.Application.ConfigureServices()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_cgraph">
<area shape="rect" title="Configure the Application&#39;s services ." alt="" coords="5,164,200,204"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a286f4eb5c679683b7e519847a6c3574e" title="Combines an array of strings into a path." alt="" coords="626,199,794,239"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html#a7a8de5dbb9ef96b2ced6739f2afe3549" title="Configure the swagger settings." alt="" coords="287,5,492,45"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html#a7518c1b2ec58feaa1dffc13c9caf48af" title="Configure the services &#160;for the authentication pipeline." alt="" coords="276,121,503,175"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#a691970cc91e5576b06ed9ce14e51d9b8" title="Gets the directory portion of a given path ." alt="" coords="289,200,489,240"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html#ab6635afaf199a1396a743f3b46eac786" title="Gets the file name portion of a path &#160;with." alt="" coords="254,264,525,304"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_configuration_1_1_file_logging_configuration.html#a6e9e186a1456017f692358f96bdab2c3" title="Gets the evaluated log Directory." alt="" coords="248,328,531,368"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_swagger_configuration.html#a2a1c7a7fbfd7147ea7c5bafca2f73651" title="Generates the OpenAPI schema ID for a given type ." alt="" coords="579,5,841,45"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a3ec60bfa2b57cd85cae110578270a60f_icgraph">
<area shape="rect" title="Configure the Application&#39;s services ." alt="" coords="5,29,200,69"/>
</map>
</div>

</div>
</div>
<a id="a6720ad4775ff4751c0d2e00b36f0c31f" name="a6720ad4775ff4751c0d2e00b36f0c31f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6720ad4775ff4751c0d2e00b36f0c31f">&#9670;&#160;</a></span>CreateDefaultServerFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_server_factory.html">IServerFactory</a> Tgstation.Server.Host.Core.Application.CreateDefaultServerFactory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the default <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_server_factory.html" title="For creating IServers.">IServerFactory</a>.  </p>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_server_factory.html" title="For creating IServers.">IServerFactory</a> with the default settings.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00087">87</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>        {</div>
<div class="line"><span class="lineno">   89</span>            var assemblyInformationProvider = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_assembly_information_provider.html">AssemblyInformationProvider</a>();</div>
<div class="line"><span class="lineno">   90</span>            var ioManager = <span class="keyword">new</span> <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager.html">DefaultIOManager</a>();</div>
<div class="line"><span class="lineno">   91</span>            <span class="keywordflow">return</span> <span class="keyword">new</span> ServerFactory(</div>
<div class="line"><span class="lineno">   92</span>                assemblyInformationProvider,</div>
<div class="line"><span class="lineno">   93</span>                ioManager);</div>
<div class="line"><span class="lineno">   94</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_default_i_o_manager.html">Tgstation.Server.Host.IO.DefaultIOManager</a></div><div class="ttdoc">IIOManager that resolves paths to Environment.CurrentDirectory.</div><div class="ttdef"><b>Definition:</b> <a href="_default_i_o_manager_8cs_source.html#l00016">DefaultIOManager.cs:17</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_system_1_1_assembly_information_provider_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_system_1_1_assembly_information_provider.html">Tgstation.Server.Host.System.AssemblyInformationProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="_assembly_information_provider_8cs_source.html#l00011">AssemblyInformationProvider.cs:12</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_tgstation_8_server_8_host_2_program_8cs_source.html#l00034">Tgstation.Server.Host.Program.Program()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a6720ad4775ff4751c0d2e00b36f0c31f_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a6720ad4775ff4751c0d2e00b36f0c31f_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a6720ad4775ff4751c0d2e00b36f0c31f_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_core_1_1_application_a6720ad4775ff4751c0d2e00b36f0c31f_icgraph">
<area shape="rect" title="Create the default IServerFactory." alt="" coords="535,5,741,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_program.html#a0f021e24c9b45b38c58eaf1ca6ed716e" title="Initializes a new instance of the Program class." alt="" coords="284,13,487,53"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_program.html#a1365c8dcb9e4b4d51819f577874e2128" title="Entrypoint for the Program." alt="" coords="5,20,236,45"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="affdb9aca40d21e4d92078d3da87483d1" name="affdb9aca40d21e4d92078d3da87483d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affdb9aca40d21e4d92078d3da87483d1">&#9670;&#160;</a></span>hostingEnvironment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IWebHostEnvironment Tgstation.Server.Host.Core.Application.hostingEnvironment</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IWebHostEnvironment for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.  </p>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00076">76</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_application_8cs_source.html#l00116">Tgstation.Server.Host.Core.Application.Application()</a>, <a class="el" href="_application_8cs_source.html#l00456">Tgstation.Server.Host.Core.Application.Configure()</a>, and <a class="el" href="_application_8cs_source.html#l00131">Tgstation.Server.Host.Core.Application.ConfigureServices()</a>.</p>

</div>
</div>
<a id="a99f8743ed7f409fd904fdc236bb4010c" name="a99f8743ed7f409fd904fdc236bb4010c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f8743ed7f409fd904fdc236bb4010c">&#9670;&#160;</a></span>tokenFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_security_1_1_i_token_factory.html">ITokenFactory</a>? Tgstation.Server.Host.Core.Application.tokenFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The ITokenFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_core_1_1_application.html" title="Sets up dependency injection.">Application</a>.  </p>

<p class="definition">Definition at line <a class="el" href="_application_8cs_source.html#l00081">81</a> of file <a class="el" href="_application_8cs_source.html">Application.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_application_8cs_source.html#l00456">Tgstation.Server.Host.Core.Application.Configure()</a>, and <a class="el" href="_application_8cs_source.html#l00617">Tgstation.Server.Host.Core.Application.ConfigureAuthenticationPipeline()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Tgstation.Server.Host/Core/<a class="el" href="_application_8cs_source.html">Application.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
