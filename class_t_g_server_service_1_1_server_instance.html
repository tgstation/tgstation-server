<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tgstation-server: TGServerService.ServerInstance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tgs.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tgstation-server
   &#160;<span id="projectnumber">3.1.5.1</span>
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_t_g_server_service.html">TGServerService</a></li><li class="navelem"><a class="el" href="class_t_g_server_service_1_1_server_instance.html">ServerInstance</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_t_g_server_service_1_1_server_instance-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TGServerService.ServerInstance Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The class which holds all interface components. There are no safeguards for call race conditions so these must be guarded against internally  
 <a href="class_t_g_server_service_1_1_server_instance.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for TGServerService.ServerInstance:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance__inherit__graph.png" border="0" usemap="#_t_g_server_service_8_server_instance_inherit__map" alt="Inheritance graph"/></div>
<map name="_t_g_server_service_8_server_instance_inherit__map" id="_t_g_server_service_8_server_instance_inherit__map">
<area shape="rect" id="node2" href="class_i_disposable.html" title="IDisposable" alt="" coords="56,5,145,32"/>
<area shape="rect" id="node3" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html" title="Interface for managing the service " alt="" coords="54,56,147,83"/>
<area shape="rect" id="node4" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html" title="Used for testing connections to the service without authentication " alt="" coords="45,107,157,133"/>
<area shape="rect" id="node5" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html" title="Interface for managing the code repository " alt="" coords="49,157,153,184"/>
<area shape="rect" id="node6" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_interop.html" title="Used by DD to access the interop API with call()() " alt="" coords="60,208,141,235"/>
<area shape="rect" id="node7" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html" title="Interface for managing the actual BYOND game server " alt="" coords="37,259,165,285"/>
<area shape="rect" id="node8" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_config.html" title="For modifying the in game config Most if not all of these will not apply until the next server reboot..." alt="" coords="61,309,140,336"/>
<area shape="rect" id="node9" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html" title="For managing the Game A/B/Live folders, compiling, and hotswapping them " alt="" coords="54,360,147,387"/>
<area shape="rect" id="node10" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_chat.html" title="Interface for handling chat bot " alt="" coords="66,411,135,437"/>
<area shape="rect" id="node11" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html" title="For managing the BYOND installation the server runs " alt="" coords="61,461,140,488"/>
<area shape="rect" id="node12" href="class_service_authorization_manager.html" title="ServiceAuthorizationManager" alt="" coords="5,512,196,539"/>
<area shape="rect" id="node13" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html" title="Manage the group that is used to access the service, can only be used by an administrator ..." alt="" coords="38,563,163,589"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TGServerService.ServerInstance:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance__coll__graph.png" border="0" usemap="#_t_g_server_service_8_server_instance_coll__map" alt="Collaboration graph"/></div>
<map name="_t_g_server_service_8_server_instance_coll__map" id="_t_g_server_service_8_server_instance_coll__map">
<area shape="rect" id="node2" href="class_i_disposable.html" title="IDisposable" alt="" coords="56,8,145,35"/>
<area shape="rect" id="node3" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html" title="Interface for managing the service " alt="" coords="54,59,147,85"/>
<area shape="rect" id="node4" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html" title="Used for testing connections to the service without authentication " alt="" coords="45,109,157,136"/>
<area shape="rect" id="node5" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html" title="Interface for managing the code repository " alt="" coords="49,160,153,187"/>
<area shape="rect" id="node6" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_interop.html" title="Used by DD to access the interop API with call()() " alt="" coords="60,211,141,237"/>
<area shape="rect" id="node7" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html" title="Interface for managing the actual BYOND game server " alt="" coords="37,261,165,288"/>
<area shape="rect" id="node8" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_config.html" title="For modifying the in game config Most if not all of these will not apply until the next server reboot..." alt="" coords="61,312,140,339"/>
<area shape="rect" id="node9" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html" title="For managing the Game A/B/Live folders, compiling, and hotswapping them " alt="" coords="54,363,147,389"/>
<area shape="rect" id="node10" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_chat.html" title="Interface for handling chat bot " alt="" coords="66,413,135,440"/>
<area shape="rect" id="node11" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html" title="For managing the BYOND installation the server runs " alt="" coords="61,464,140,491"/>
<area shape="rect" id="node12" href="class_service_authorization_manager.html" title="ServiceAuthorizationManager" alt="" coords="5,515,196,541"/>
<area shape="rect" id="node13" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html" title="Manage the group that is used to access the service, can only be used by an administrator ..." alt="" coords="38,565,163,592"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2213c2ab6ad583b472de4176b3d8588"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac2213c2ab6ad583b472de4176b3d8588">GetCurrentAuthorizedGroup</a> ()</td></tr>
<tr class="memdesc:ac2213c2ab6ad583b472de4176b3d8588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the windows group allowed to use the service other than administrator   <a href="#ac2213c2ab6ad583b472de4176b3d8588">More...</a><br /></td></tr>
<tr class="separator:ac2213c2ab6ad583b472de4176b3d8588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17fd1cd46cd9791a923b449460459dbe"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a17fd1cd46cd9791a923b449460459dbe">SetAuthorizedGroup</a> (string groupName)</td></tr>
<tr class="memdesc:a17fd1cd46cd9791a923b449460459dbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the windows machine for the group named <em>groupName</em> , sets it as the authorized group if it's found   <a href="#a17fd1cd46cd9791a923b449460459dbe">More...</a><br /></td></tr>
<tr class="separator:a17fd1cd46cd9791a923b449460459dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c8fb2f26cf9d46c59b7677fdbad233"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a61c8fb2f26cf9d46c59b7677fdbad233">RemoteAccessPort</a> ()</td></tr>
<tr class="memdesc:a61c8fb2f26cf9d46c59b7677fdbad233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port used for remote operation   <a href="#a61c8fb2f26cf9d46c59b7677fdbad233">More...</a><br /></td></tr>
<tr class="separator:a61c8fb2f26cf9d46c59b7677fdbad233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248a8fbd9ed9e8c08db3dff6b7adba04"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a248a8fbd9ed9e8c08db3dff6b7adba04">SetRemoteAccessPort</a> (ushort port)</td></tr>
<tr class="memdesc:a248a8fbd9ed9e8c08db3dff6b7adba04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the port used for remote operation Requires a service restart to take effect   <a href="#a248a8fbd9ed9e8c08db3dff6b7adba04">More...</a><br /></td></tr>
<tr class="separator:a248a8fbd9ed9e8c08db3dff6b7adba04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a3c62ea83e029263e21654e184ab80"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa8a3c62ea83e029263e21654e184ab80">MoveServer</a> (string new_location)</td></tr>
<tr class="memdesc:aa8a3c62ea83e029263e21654e184ab80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the entire server installation, requires no operations to be running   <a href="#aa8a3c62ea83e029263e21654e184ab80">More...</a><br /></td></tr>
<tr class="separator:aa8a3c62ea83e029263e21654e184ab80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8f7b25f00c15aed0b80f2e0cff6ef4"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aeb8f7b25f00c15aed0b80f2e0cff6ef4">RecreateStaticFolder</a> ()</td></tr>
<tr class="memdesc:aeb8f7b25f00c15aed0b80f2e0cff6ef4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renames the current static folder to a backup name and recreates is from the current repo using TGS3.json   <a href="#aeb8f7b25f00c15aed0b80f2e0cff6ef4">More...</a><br /></td></tr>
<tr class="separator:aeb8f7b25f00c15aed0b80f2e0cff6ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b1bd6a8c38575bffb5442fbd75a677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677">CurrentStatus</a> ()</td></tr>
<tr class="memdesc:a31b1bd6a8c38575bffb5442fbd75a677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current status of any BYOND updates   <a href="#a31b1bd6a8c38575bffb5442fbd75a677">More...</a><br /></td></tr>
<tr class="separator:a31b1bd6a8c38575bffb5442fbd75a677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e13a664468683095e10e352eec8cbf"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac0e13a664468683095e10e352eec8cbf">GetError</a> ()</td></tr>
<tr class="memdesc:ac0e13a664468683095e10e352eec8cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the last update error. Checking this will clear the value   <a href="#ac0e13a664468683095e10e352eec8cbf">More...</a><br /></td></tr>
<tr class="separator:ac0e13a664468683095e10e352eec8cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64d03735cb348d0d162e493bf9b3f68"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68">GetVersion</a> (<a class="el" href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">ByondVersion</a> type)</td></tr>
<tr class="memdesc:ae64d03735cb348d0d162e493bf9b3f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently installed version as a string formatted as Major.Minor   <a href="#ae64d03735cb348d0d162e493bf9b3f68">More...</a><br /></td></tr>
<tr class="separator:ae64d03735cb348d0d162e493bf9b3f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2dc7c3b649bf0e7f81362c851a2c8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f">UpdateToVersionImpl</a> (object param)</td></tr>
<tr class="memdesc:a4a2dc7c3b649bf0e7f81362c851a2c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads and unzips a BYOND revision. Calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...">ApplyStagedUpdate</a> afterwards if the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> isn't running, otherwise, calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Sets <a class="el" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a" title="The last error the BYOND updater encountered ">lastError</a> on failure  <a href="#a4a2dc7c3b649bf0e7f81362c851a2c8f">More...</a><br /></td></tr>
<tr class="separator:a4a2dc7c3b649bf0e7f81362c851a2c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6136aa0574aa874d5532cb528e764d78"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78">UpdateToVersion</a> (int major, int minor)</td></tr>
<tr class="memdesc:a6136aa0574aa874d5532cb528e764d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">updates the used byond version to that of version <em>major</em> .<em>minor</em> . The change won't take place until DD reboots. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">ITGDreamDaemon.RequestRestart</a> if blocked by a running DD instance. Runs asyncronously, use <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html#a5b9bfa607e7a77cd83ce07bcc91b4afd" title="Gets the current status of any BYOND updates ">CurrentStatus</a> to check progress   <a href="#a6136aa0574aa874d5532cb528e764d78">More...</a><br /></td></tr>
<tr class="separator:a6136aa0574aa874d5532cb528e764d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c197535442dd090e429de96abe5466"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466">InitChat</a> ()</td></tr>
<tr class="memdesc:a61c197535442dd090e429de96abe5466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the <a class="el" href="namespace_t_g_server_service_1_1_chat_providers.html">ChatProviders</a> for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#a61c197535442dd090e429de96abe5466">More...</a><br /></td></tr>
<tr class="separator:a61c197535442dd090e429de96abe5466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d01f061e40035a3f26814544d4b127e"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html">ChatSetupInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3d01f061e40035a3f26814544d4b127e">ProviderInfos</a> ()</td></tr>
<tr class="memdesc:a3d01f061e40035a3f26814544d4b127e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html" title="For setting up authentication no matter the chat provider ">ChatSetupInfo</a> for all <a class="el" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4" title="The type of chat provider ">ChatProvider</a>s   <a href="#a3d01f061e40035a3f26814544d4b127e">More...</a><br /></td></tr>
<tr class="separator:a3d01f061e40035a3f26814544d4b127e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a361bf89dfd58611fa26d86fd81443cd8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a361bf89dfd58611fa26d86fd81443cd8">SetProviderInfo</a> (<a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html">ChatSetupInfo</a> info)</td></tr>
<tr class="memdesc:a361bf89dfd58611fa26d86fd81443cd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a chat provider <em>info</em>    <a href="#a361bf89dfd58611fa26d86fd81443cd8">More...</a><br /></td></tr>
<tr class="separator:a361bf89dfd58611fa26d86fd81443cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0f4e5e2bc887424d28ee1d69739259"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0e0f4e5e2bc887424d28ee1d69739259">Connected</a> (<a class="el" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a> providerType)</td></tr>
<tr class="memdesc:a0e0f4e5e2bc887424d28ee1d69739259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks connection status   <a href="#a0e0f4e5e2bc887424d28ee1d69739259">More...</a><br /></td></tr>
<tr class="separator:a0e0f4e5e2bc887424d28ee1d69739259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c04a7b9b01bd0a9bf1a329c9643eaa"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae7c04a7b9b01bd0a9bf1a329c9643eaa">Reconnect</a> (<a class="el" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a> providerType)</td></tr>
<tr class="memdesc:ae7c04a7b9b01bd0a9bf1a329c9643eaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconnect a specific <em>providerType</em>  to it's chat service   <a href="#ae7c04a7b9b01bd0a9bf1a329c9643eaa">More...</a><br /></td></tr>
<tr class="separator:ae7c04a7b9b01bd0a9bf1a329c9643eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ea9140e5cf33703628ac25700bc556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a> (string msg, <a class="el" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a> mt)</td></tr>
<tr class="memdesc:ae6ea9140e5cf33703628ac25700bc556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a message to appropriate channels based on the message type  <a href="#ae6ea9140e5cf33703628ac25700bc556">More...</a><br /></td></tr>
<tr class="separator:ae6ea9140e5cf33703628ac25700bc556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfabf82df8e6ecbf4069b7a841b0e8b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#acfabf82df8e6ecbf4069b7a841b0e8b7">GetStatus</a> ()</td></tr>
<tr class="memdesc:acfabf82df8e6ecbf4069b7a841b0e8b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current compiler status   <a href="#acfabf82df8e6ecbf4069b7a841b0e8b7">More...</a><br /></td></tr>
<tr class="separator:acfabf82df8e6ecbf4069b7a841b0e8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fd4bf82907a2c2fbcb4bcabf998e44"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a47fd4bf82907a2c2fbcb4bcabf998e44">CompileError</a> ()</td></tr>
<tr class="memdesc:a47fd4bf82907a2c2fbcb4bcabf998e44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the error message of the last operation. Reading this will clear the stored value   <a href="#a47fd4bf82907a2c2fbcb4bcabf998e44">More...</a><br /></td></tr>
<tr class="separator:a47fd4bf82907a2c2fbcb4bcabf998e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427984d1cb5c60f217967795c9695998"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998">Initialize</a> ()</td></tr>
<tr class="memdesc:a427984d1cb5c60f217967795c9695998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder. Requires the repository to be set up and locks it once the compilation stage starts. Runs asyncronously from this call   <a href="#a427984d1cb5c60f217967795c9695998">More...</a><br /></td></tr>
<tr class="separator:a427984d1cb5c60f217967795c9695998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf31525de01a260b7a83ce8ac928d62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62">InitializeImpl</a> ()</td></tr>
<tr class="separator:aabf31525de01a260b7a83ce8ac928d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd737c980b2c078c2de10a57dc4ad40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40">Compile</a> (bool silent=false)</td></tr>
<tr class="memdesc:afdd737c980b2c078c2de10a57dc4ad40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does all the necessary actions to take the revision currently in the repository and compile it to be run on the next server reboot. Requires BYOND to be set up and the <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a141230e592c991205d2c9c15f9ad6873" title="Returns the current compiler status ">GetStatus</a> to return <a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3a59d87a4758a9d35fbaf6b204341bb399" title="Game folder is setup, does not imply the dmb is compiled ">CompilerStatus.Initialized</a>. Runs asyncronously   <a href="#afdd737c980b2c078c2de10a57dc4ad40">More...</a><br /></td></tr>
<tr class="separator:afdd737c980b2c078c2de10a57dc4ad40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724c7681dbfd9bfc0128392e92f8cfae"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae">ProjectName</a> ()</td></tr>
<tr class="memdesc:a724c7681dbfd9bfc0128392e92f8cfae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the relative path of the dme the compiler will look for without the .dme part   <a href="#a724c7681dbfd9bfc0128392e92f8cfae">More...</a><br /></td></tr>
<tr class="separator:a724c7681dbfd9bfc0128392e92f8cfae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f5af1053cf88ca54c769cc339db419"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a13f5af1053cf88ca54c769cc339db419">SetProjectName</a> (string projectName)</td></tr>
<tr class="memdesc:a13f5af1053cf88ca54c769cc339db419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the relative path of the dme the compiler will look for without the .dme part   <a href="#a13f5af1053cf88ca54c769cc339db419">More...</a><br /></td></tr>
<tr class="separator:a13f5af1053cf88ca54c769cc339db419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d503c183dc730ccdf2d396ab4306a89"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5d503c183dc730ccdf2d396ab4306a89">Cancel</a> ()</td></tr>
<tr class="memdesc:a5d503c183dc730ccdf2d396ab4306a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the current compilation  <a href="#a5d503c183dc730ccdf2d396ab4306a89">More...</a><br /></td></tr>
<tr class="separator:a5d503c183dc730ccdf2d396ab4306a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1145d114b3be3a6b958913e344adc5fb"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1145d114b3be3a6b958913e344adc5fb">ServerDirectory</a> ()</td></tr>
<tr class="memdesc:a1145d114b3be3a6b958913e344adc5fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the directory of the server on the host machine   <a href="#a1145d114b3be3a6b958913e344adc5fb">More...</a><br /></td></tr>
<tr class="separator:a1145d114b3be3a6b958913e344adc5fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2fcd99212aba5406674cdf3175b9a1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5b2fcd99212aba5406674cdf3175b9a1">ReadText</a> (string staticRelativePath, bool repo, out string error, out bool unauthorized)</td></tr>
<tr class="memdesc:a5b2fcd99212aba5406674cdf3175b9a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from a static file   <a href="#a5b2fcd99212aba5406674cdf3175b9a1">More...</a><br /></td></tr>
<tr class="separator:a5b2fcd99212aba5406674cdf3175b9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf26641e717823f8958ac46db3c0cc8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#abdf26641e717823f8958ac46db3c0cc8">WriteText</a> (string staticRelativePath, string data, out bool unauthorized)</td></tr>
<tr class="memdesc:abdf26641e717823f8958ac46db3c0cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to a static file   <a href="#abdf26641e717823f8958ac46db3c0cc8">More...</a><br /></td></tr>
<tr class="separator:abdf26641e717823f8958ac46db3c0cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf09f63e7c88913016493dc9b487f902"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#acf09f63e7c88913016493dc9b487f902">DeleteFile</a> (string staticRelativePath, out bool unauthorized)</td></tr>
<tr class="memdesc:acf09f63e7c88913016493dc9b487f902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the target static file   <a href="#acf09f63e7c88913016493dc9b487f902">More...</a><br /></td></tr>
<tr class="separator:acf09f63e7c88913016493dc9b487f902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3559490653f3f50bfd2959b6c53809e1"><td class="memItemLeft" align="right" valign="top">IList&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3559490653f3f50bfd2959b6c53809e1">ListStaticDirectory</a> (string subDir, out string error, out bool unauthorized)</td></tr>
<tr class="memdesc:a3559490653f3f50bfd2959b6c53809e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file contents of the specified server directory Subdirectories will be prefixed with '/'   <a href="#a3559490653f3f50bfd2959b6c53809e1">More...</a><br /></td></tr>
<tr class="separator:a3559490653f3f50bfd2959b6c53809e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39a3abd504c56e0d217a7ad475506e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a> ()</td></tr>
<tr class="memdesc:ab39a3abd504c56e0d217a7ad475506e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the status of DreamDaemon   <a href="#ab39a3abd504c56e0d217a7ad475506e4">More...</a><br /></td></tr>
<tr class="separator:ab39a3abd504c56e0d217a7ad475506e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e6fa52a6bc2f17eedd4c5d62f13063f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">RequestRestart</a> ()</td></tr>
<tr class="memdesc:a2e6fa52a6bc2f17eedd4c5d62f13063f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart the server after the currently running world reboots. Has no effect if the server isn't running   <a href="#a2e6fa52a6bc2f17eedd4c5d62f13063f">More...</a><br /></td></tr>
<tr class="separator:a2e6fa52a6bc2f17eedd4c5d62f13063f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fda24298442826a3f5ec506f94c4b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a14fda24298442826a3f5ec506f94c4b3">RequestStop</a> ()</td></tr>
<tr class="memdesc:a14fda24298442826a3f5ec506f94c4b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the server after the currently running world reboots. Has no effect if the server isn't running   <a href="#a14fda24298442826a3f5ec506f94c4b3">More...</a><br /></td></tr>
<tr class="separator:a14fda24298442826a3f5ec506f94c4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b0bbbe0957e9d732666bec0ec06698"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698">Stop</a> ()</td></tr>
<tr class="memdesc:ad8b0bbbe0957e9d732666bec0ec06698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Immediately kills the server   <a href="#ad8b0bbbe0957e9d732666bec0ec06698">More...</a><br /></td></tr>
<tr class="separator:ad8b0bbbe0957e9d732666bec0ec06698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a876e7b45a0668c0a545d6c168ab54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62a876e7b45a0668c0a545d6c168ab54">SetPort</a> (ushort new_port)</td></tr>
<tr class="memdesc:a62a876e7b45a0668c0a545d6c168ab54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the port to host DD on. Requires reboot to apply. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>.   <a href="#a62a876e7b45a0668c0a545d6c168ab54">More...</a><br /></td></tr>
<tr class="separator:a62a876e7b45a0668c0a545d6c168ab54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdb55d2113035b09f1697072e14c873"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873">KillMe</a> ()</td></tr>
<tr class="separator:a8bdb55d2113035b09f1697072e14c873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58aa725d4b3a81cf979ab657a02cdb8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8">Restart</a> ()</td></tr>
<tr class="memdesc:ac58aa725d4b3a81cf979ab657a02cdb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Immediately kills and restarts the server   <a href="#ac58aa725d4b3a81cf979ab657a02cdb8">More...</a><br /></td></tr>
<tr class="separator:ac58aa725d4b3a81cf979ab657a02cdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8873c339ff5b486413e175ac87310be6"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6">CanStart</a> ()</td></tr>
<tr class="memdesc:a8873c339ff5b486413e175ac87310be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a call to <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a39b8c7109599ec81b54524dbda335776" title="Starts the server if it isn&#39;t running ">Start</a> will fail. Of course, be aware of race conditions with other interfaces   <a href="#a8873c339ff5b486413e175ac87310be6">More...</a><br /></td></tr>
<tr class="separator:a8873c339ff5b486413e175ac87310be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8c222dd4a2d21957b968b26eff08a3"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3">Start</a> ()</td></tr>
<tr class="memdesc:a8f8c222dd4a2d21957b968b26eff08a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the server if it isn't running   <a href="#a8f8c222dd4a2d21957b968b26eff08a3">More...</a><br /></td></tr>
<tr class="separator:a8f8c222dd4a2d21957b968b26eff08a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd87ce466519d0288fdf460eebb4c1d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#acd87ce466519d0288fdf460eebb4c1d3">SecurityLevel</a> ()</td></tr>
<tr class="memdesc:acd87ce466519d0288fdf460eebb4c1d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the configured (not necessarily running) security level   <a href="#acd87ce466519d0288fdf460eebb4c1d3">More...</a><br /></td></tr>
<tr class="separator:acd87ce466519d0288fdf460eebb4c1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9922a66137753d8a21b965fff7469989"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9922a66137753d8a21b965fff7469989">SetSecurityLevel</a> (<a class="el" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a> level)</td></tr>
<tr class="memdesc:a9922a66137753d8a21b965fff7469989"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the security level of the server. Requires server reboot to apply. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Note that anything higher than Trusted will disable interop from DD   <a href="#a9922a66137753d8a21b965fff7469989">More...</a><br /></td></tr>
<tr class="separator:a9922a66137753d8a21b965fff7469989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97edeb7df9c8724e8ff55cb5438afba6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a97edeb7df9c8724e8ff55cb5438afba6">Autostart</a> ()</td></tr>
<tr class="memdesc:a97edeb7df9c8724e8ff55cb5438afba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the watchdog will start when the service starts   <a href="#a97edeb7df9c8724e8ff55cb5438afba6">More...</a><br /></td></tr>
<tr class="separator:a97edeb7df9c8724e8ff55cb5438afba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae63ea891af8539587b0d5829a9cb4f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae63ea891af8539587b0d5829a9cb4f6">SetAutostart</a> (bool on)</td></tr>
<tr class="memdesc:aae63ea891af8539587b0d5829a9cb4f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the autostart config   <a href="#aae63ea891af8539587b0d5829a9cb4f6">More...</a><br /></td></tr>
<tr class="separator:aae63ea891af8539587b0d5829a9cb4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819f1dd33b77bd47f3796ff462cf7c68"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a819f1dd33b77bd47f3796ff462cf7c68">StatusString</a> (bool includeMetaInfo)</td></tr>
<tr class="memdesc:a819f1dd33b77bd47f3796ff462cf7c68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a human readable string of the current server status   <a href="#a819f1dd33b77bd47f3796ff462cf7c68">More...</a><br /></td></tr>
<tr class="separator:a819f1dd33b77bd47f3796ff462cf7c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58391828790e7bb5f4f6bce1ee94ba8a"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a58391828790e7bb5f4f6bce1ee94ba8a">Port</a> ()</td></tr>
<tr class="memdesc:a58391828790e7bb5f4f6bce1ee94ba8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the configured port. Not necessarily the running port if it has since changed   <a href="#a58391828790e7bb5f4f6bce1ee94ba8a">More...</a><br /></td></tr>
<tr class="separator:a58391828790e7bb5f4f6bce1ee94ba8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f7a4713145730f329e375b30213862"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a63f7a4713145730f329e375b30213862">ShutdownInProgress</a> ()</td></tr>
<tr class="memdesc:a63f7a4713145730f329e375b30213862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a server stop has been requested   <a href="#a63f7a4713145730f329e375b30213862">More...</a><br /></td></tr>
<tr class="separator:a63f7a4713145730f329e375b30213862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989bcee76648cec9c7e52a5d33217e90"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90">WorldAnnounce</a> (string message)</td></tr>
<tr class="memdesc:a989bcee76648cec9c7e52a5d33217e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to everyone on the server   <a href="#a989bcee76648cec9c7e52a5d33217e90">More...</a><br /></td></tr>
<tr class="separator:a989bcee76648cec9c7e52a5d33217e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a57165f218c76860f040311e44a9f48"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8a57165f218c76860f040311e44a9f48">Webclient</a> ()</td></tr>
<tr class="memdesc:a8a57165f218c76860f040311e44a9f48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the BYOND webclient is currently enabled for the server   <a href="#a8a57165f218c76860f040311e44a9f48">More...</a><br /></td></tr>
<tr class="separator:a8a57165f218c76860f040311e44a9f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71b088f4e5df4f6925e522759e4093d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac71b088f4e5df4f6925e522759e4093d">SetWebclient</a> (bool on)</td></tr>
<tr class="memdesc:ac71b088f4e5df4f6925e522759e4093d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the webclient config. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>   <a href="#ac71b088f4e5df4f6925e522759e4093d">More...</a><br /></td></tr>
<tr class="separator:ac71b088f4e5df4f6925e522759e4093d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa392248d5913143b6537352190e75e6"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a> (string cmd)</td></tr>
<tr class="separator:aaa392248d5913143b6537352190e75e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4283de03ea6d7f96473c41aa91e5741"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad4283de03ea6d7f96473c41aa91e5741">PlayerCount</a> ()</td></tr>
<tr class="memdesc:ad4283de03ea6d7f96473c41aa91e5741"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of connected players. Requires game to use API version &gt;= 3.1.0.1  <a href="#ad4283de03ea6d7f96473c41aa91e5741">More...</a><br /></td></tr>
<tr class="separator:ad4283de03ea6d7f96473c41aa91e5741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31cb383e125fcb094259185112c3ea40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40">InteropMessage</a> (string command)</td></tr>
<tr class="memdesc:a31cb383e125fcb094259185112c3ea40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from /world/ExportService(command)   <a href="#a31cb383e125fcb094259185112c3ea40">More...</a><br /></td></tr>
<tr class="separator:a31cb383e125fcb094259185112c3ea40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19d01601edb8beb1e78ffdcaf572c47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47">PrecompileHook</a> ()</td></tr>
<tr class="memdesc:af19d01601edb8beb1e78ffdcaf572c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the "precompile" event  <a href="#af19d01601edb8beb1e78ffdcaf572c47">More...</a><br /></td></tr>
<tr class="separator:af19d01601edb8beb1e78ffdcaf572c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d6e8df896a4a8f6f1faa7d67a2bbde"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde">PostcompileHook</a> ()</td></tr>
<tr class="memdesc:a74d6e8df896a4a8f6f1faa7d67a2bbde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the "postcompile" event  <a href="#a74d6e8df896a4a8f6f1faa7d67a2bbde">More...</a><br /></td></tr>
<tr class="separator:a74d6e8df896a4a8f6f1faa7d67a2bbde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a366db6a24e005771f49cca17a373c490"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a366db6a24e005771f49cca17a373c490">OperationInProgress</a> ()</td></tr>
<tr class="memdesc:a366db6a24e005771f49cca17a373c490"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the repo is currently undergoing an operation   <a href="#a366db6a24e005771f49cca17a373c490">More...</a><br /></td></tr>
<tr class="separator:a366db6a24e005771f49cca17a373c490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb74a8b873f824856be5c08172e23c5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aeb74a8b873f824856be5c08172e23c5e">CheckoutProgress</a> ()</td></tr>
<tr class="memdesc:aeb74a8b873f824856be5c08172e23c5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the progress of repository operations, not all operations are supported   <a href="#aeb74a8b873f824856be5c08172e23c5e">More...</a><br /></td></tr>
<tr class="separator:aeb74a8b873f824856be5c08172e23c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace81439a32bd7252f187ff607a071e07"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07">Exists</a> ()</td></tr>
<tr class="memdesc:ace81439a32bd7252f187ff607a071e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the repository is valid, if not <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a1ba91e01239633db1ea8e7c20a954b9e" title="Deletes whatever may be left over and clones the repo at remote  and checks out branch ...">Setup(string, string)</a> must be called   <a href="#ace81439a32bd7252f187ff607a071e07">More...</a><br /></td></tr>
<tr class="separator:ace81439a32bd7252f187ff607a071e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e791a0e714b6c1e94e6b27c13ce2b2a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3e791a0e714b6c1e94e6b27c13ce2b2a">UpdateTGS3Json</a> ()</td></tr>
<tr class="memdesc:a3e791a0e714b6c1e94e6b27c13ce2b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> with the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a>  <a href="#a3e791a0e714b6c1e94e6b27c13ce2b2a">More...</a><br /></td></tr>
<tr class="separator:a3e791a0e714b6c1e94e6b27c13ce2b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8f527d1b8aef7962a482d8e66b370e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e">Setup</a> (string RepoURL, string BranchName)</td></tr>
<tr class="memdesc:a3a8f527d1b8aef7962a482d8e66b370e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes whatever may be left over and clones the repo at <em>remote</em>  and checks out <em>branch</em> . Will move config and data dirs to a backup location if they exist. Runs asyncronously   <a href="#a3a8f527d1b8aef7962a482d8e66b370e">More...</a><br /></td></tr>
<tr class="separator:a3a8f527d1b8aef7962a482d8e66b370e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefd625f907f5e953509baa1c6da9a07"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07">GetHead</a> (bool useTracked, out string error)</td></tr>
<tr class="memdesc:abefd625f907f5e953509baa1c6da9a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the sha of the current HEAD   <a href="#abefd625f907f5e953509baa1c6da9a07">More...</a><br /></td></tr>
<tr class="separator:abefd625f907f5e953509baa1c6da9a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e16ef6af8663fa75bb46109c44cc0be"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8e16ef6af8663fa75bb46109c44cc0be">GetBranch</a> (out string error)</td></tr>
<tr class="memdesc:a8e16ef6af8663fa75bb46109c44cc0be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of the current branch   <a href="#a8e16ef6af8663fa75bb46109c44cc0be">More...</a><br /></td></tr>
<tr class="separator:a8e16ef6af8663fa75bb46109c44cc0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac376ed040ee3efc2ef5173339baf723"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aac376ed040ee3efc2ef5173339baf723">GetRemote</a> (out string error)</td></tr>
<tr class="memdesc:aac376ed040ee3efc2ef5173339baf723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the url of the current origin   <a href="#aac376ed040ee3efc2ef5173339baf723">More...</a><br /></td></tr>
<tr class="separator:aac376ed040ee3efc2ef5173339baf723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb15a58ceeba5348ec583a2df907350f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f">Checkout</a> (string sha)</td></tr>
<tr class="memdesc:abb15a58ceeba5348ec583a2df907350f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hard checks out the passed object name   <a href="#abb15a58ceeba5348ec583a2df907350f">More...</a><br /></td></tr>
<tr class="separator:abb15a58ceeba5348ec583a2df907350f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68bcfbe8d302b30339c00ab664112037"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037">Update</a> (bool reset)</td></tr>
<tr class="memdesc:a68bcfbe8d302b30339c00ab664112037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the origin and merges it into the current branch   <a href="#a68bcfbe8d302b30339c00ab664112037">More...</a><br /></td></tr>
<tr class="separator:a68bcfbe8d302b30339c00ab664112037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6650942838ebe1dc0766dc47b3f5363"><td class="memItemLeft" align="right" valign="top">IDictionary&lt; string, string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab6650942838ebe1dc0766dc47b3f5363">ListBackups</a> (out string error)</td></tr>
<tr class="memdesc:ab6650942838ebe1dc0766dc47b3f5363"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists tags in the repository created by the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#ab6650942838ebe1dc0766dc47b3f5363">More...</a><br /></td></tr>
<tr class="separator:ab6650942838ebe1dc0766dc47b3f5363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ab144910505686ff9529a708751f8f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad2ab144910505686ff9529a708751f8f">Reset</a> (bool trackedBranch)</td></tr>
<tr class="memdesc:ad2ab144910505686ff9529a708751f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs git reset &ndash;hard   <a href="#ad2ab144910505686ff9529a708751f8f">More...</a><br /></td></tr>
<tr class="separator:ad2ab144910505686ff9529a708751f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac69d8bdd66e3ba416de9412ca82a92ed"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed">MergePullRequest</a> (int PRNumber)</td></tr>
<tr class="memdesc:ac69d8bdd66e3ba416de9412ca82a92ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges the target pull request into the current branch if the remote is a github repository   <a href="#ac69d8bdd66e3ba416de9412ca82a92ed">More...</a><br /></td></tr>
<tr class="separator:ac69d8bdd66e3ba416de9412ca82a92ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb674c9b1ad47e3965a23ee8bb1c226"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="class_t_g_service_interface_1_1_pull_request_info.html">PullRequestInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5eb674c9b1ad47e3965a23ee8bb1c226">MergedPullRequests</a> (out string error)</td></tr>
<tr class="memdesc:a5eb674c9b1ad47e3965a23ee8bb1c226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently merged pull requests. Note that switching branches will delete this list and switching back won't restore it   <a href="#a5eb674c9b1ad47e3965a23ee8bb1c226">More...</a><br /></td></tr>
<tr class="separator:a5eb674c9b1ad47e3965a23ee8bb1c226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae53673c44ff7781210ce8bc17723d4d8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae53673c44ff7781210ce8bc17723d4d8">GetCommitterName</a> ()</td></tr>
<tr class="memdesc:ae53673c44ff7781210ce8bc17723d4d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of the configured git committer   <a href="#ae53673c44ff7781210ce8bc17723d4d8">More...</a><br /></td></tr>
<tr class="separator:ae53673c44ff7781210ce8bc17723d4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1f17bd3a1564072ff5be104d3c265e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#acb1f17bd3a1564072ff5be104d3c265e">SetCommitterName</a> (string newName)</td></tr>
<tr class="memdesc:acb1f17bd3a1564072ff5be104d3c265e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the name of the configured git committer   <a href="#acb1f17bd3a1564072ff5be104d3c265e">More...</a><br /></td></tr>
<tr class="separator:acb1f17bd3a1564072ff5be104d3c265e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20c0c10132e76f3bc475c027d80651e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac20c0c10132e76f3bc475c027d80651e">GetCommitterEmail</a> ()</td></tr>
<tr class="memdesc:ac20c0c10132e76f3bc475c027d80651e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the email of the configured git committer   <a href="#ac20c0c10132e76f3bc475c027d80651e">More...</a><br /></td></tr>
<tr class="separator:ac20c0c10132e76f3bc475c027d80651e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51dc6c04c3fdfe635bf7efef5a60aab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa51dc6c04c3fdfe635bf7efef5a60aab">SetCommitterEmail</a> (string newEmail)</td></tr>
<tr class="memdesc:aa51dc6c04c3fdfe635bf7efef5a60aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the email of the configured git committer   <a href="#aa51dc6c04c3fdfe635bf7efef5a60aab">More...</a><br /></td></tr>
<tr class="separator:aa51dc6c04c3fdfe635bf7efef5a60aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e077da7a7def0afaa4ac78d4d0a25ce"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce">SynchronizePush</a> ()</td></tr>
<tr class="memdesc:a7e077da7a7def0afaa4ac78d4d0a25ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exist for this function to succeed   <a href="#a7e077da7a7def0afaa4ac78d4d0a25ce">More...</a><br /></td></tr>
<tr class="separator:a7e077da7a7def0afaa4ac78d4d0a25ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbff0b841a8e339a79890a1a91be1fef"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#adbff0b841a8e339a79890a1a91be1fef">GenerateChangelog</a> (out string error)</td></tr>
<tr class="memdesc:adbff0b841a8e339a79890a1a91be1fef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the html changelog   <a href="#adbff0b841a8e339a79890a1a91be1fef">More...</a><br /></td></tr>
<tr class="separator:adbff0b841a8e339a79890a1a91be1fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71908fe1713eaf7f806a52b5608aa60"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60">GenerateChangelogImpl</a> (out string error, bool recurse=false)</td></tr>
<tr class="memdesc:ab71908fe1713eaf7f806a52b5608aa60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the html changelog  <a href="#ab71908fe1713eaf7f806a52b5608aa60">More...</a><br /></td></tr>
<tr class="separator:ab71908fe1713eaf7f806a52b5608aa60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627c8818fce3742ee646e0eb08457fce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a627c8818fce3742ee646e0eb08457fce">SetAutoUpdateInterval</a> (ulong newInterval)</td></tr>
<tr class="memdesc:a627c8818fce3742ee646e0eb08457fce"><td class="mdescLeft">&#160;</td><td class="mdescRight">(De)Activate and set the interval for the automatic server updater   <a href="#a627c8818fce3742ee646e0eb08457fce">More...</a><br /></td></tr>
<tr class="separator:a627c8818fce3742ee646e0eb08457fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d7ba7f77403bfeb9074759fc5b3e64"><td class="memItemLeft" align="right" valign="top">ulong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac3d7ba7f77403bfeb9074759fc5b3e64">AutoUpdateInterval</a> ()</td></tr>
<tr class="memdesc:ac3d7ba7f77403bfeb9074759fc5b3e64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current autoupdate interval   <a href="#ac3d7ba7f77403bfeb9074759fc5b3e64">More...</a><br /></td></tr>
<tr class="separator:ac3d7ba7f77403bfeb9074759fc5b3e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a400a996a1a8e3c8a1d430400e14896fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a400a996a1a8e3c8a1d430400e14896fd">SetPythonPath</a> (string path)</td></tr>
<tr class="memdesc:a400a996a1a8e3c8a1d430400e14896fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the path to the python 2.7 installation   <a href="#a400a996a1a8e3c8a1d430400e14896fd">More...</a><br /></td></tr>
<tr class="separator:a400a996a1a8e3c8a1d430400e14896fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed0ab1ce09118acd892f4f3d709d11a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8ed0ab1ce09118acd892f4f3d709d11a">PythonPath</a> ()</td></tr>
<tr class="memdesc:a8ed0ab1ce09118acd892f4f3d709d11a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the path to the python 2.7 installation   <a href="#a8ed0ab1ce09118acd892f4f3d709d11a">More...</a><br /></td></tr>
<tr class="separator:a8ed0ab1ce09118acd892f4f3d709d11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45764917d226888faaf4ba29a4963a0"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa45764917d226888faaf4ba29a4963a0">LiveSha</a> ()</td></tr>
<tr class="memdesc:aa45764917d226888faaf4ba29a4963a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current staged or live commit SHA  <a href="#aa45764917d226888faaf4ba29a4963a0">More...</a><br /></td></tr>
<tr class="separator:aa45764917d226888faaf4ba29a4963a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805c3433c1fd7347b862ba4a3b0ea5f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8">ServerInstance</a> ()</td></tr>
<tr class="memdesc:a805c3433c1fd7347b862ba4a3b0ea5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs and a <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#a805c3433c1fd7347b862ba4a3b0ea5f8">More...</a><br /></td></tr>
<tr class="separator:a805c3433c1fd7347b862ba4a3b0ea5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e13a465e1c065c58defc0d891822ee5"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">Version</a> ()</td></tr>
<tr class="memdesc:a2e13a465e1c065c58defc0d891822ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve's the service's version   <a href="#a2e13a465e1c065c58defc0d891822ee5">More...</a><br /></td></tr>
<tr class="separator:a2e13a465e1c065c58defc0d891822ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a7754248f66c21d86e748e691b6044"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac3a7754248f66c21d86e748e691b6044">VerifyConnection</a> ()</td></tr>
<tr class="memdesc:ac3a7754248f66c21d86e748e691b6044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API   <a href="#ac3a7754248f66c21d86e748e691b6044">More...</a><br /></td></tr>
<tr class="separator:ac3a7754248f66c21d86e748e691b6044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f5ef18b0129ec5d24f76a13c044feb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af6f5ef18b0129ec5d24f76a13c044feb">PrepareForUpdate</a> ()</td></tr>
<tr class="memdesc:af6f5ef18b0129ec5d24f76a13c044feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next stop of the service will not close DD and sets a flag for it to reattach once it restarts   <a href="#af6f5ef18b0129ec5d24f76a13c044feb">More...</a><br /></td></tr>
<tr class="separator:af6f5ef18b0129ec5d24f76a13c044feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a2dc31f6dff99061c8cddc5c35b99e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af6a2dc31f6dff99061c8cddc5c35b99e">Dispose</a> ()</td></tr>
<tr class="memdesc:af6a2dc31f6dff99061c8cddc5c35b99e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern  <a href="#af6a2dc31f6dff99061c8cddc5c35b99e">More...</a><br /></td></tr>
<tr class="separator:af6a2dc31f6dff99061c8cddc5c35b99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7a5e21a235e202744184c8e25a6a5d86"><td class="memItemLeft" align="right" valign="top">override bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a7a5e21a235e202744184c8e25a6a5d86">CheckAccessCore</a> (OperationContext operationContext)</td></tr>
<tr class="memdesc:a7a5e21a235e202744184c8e25a6a5d86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by WCF whenever a component call is made. Checks to see that the supplied user account has access to the requested component  <a href="#a7a5e21a235e202744184c8e25a6a5d86">More...</a><br /></td></tr>
<tr class="separator:a7a5e21a235e202744184c8e25a6a5d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:af30b33f85b47517c591e0a2ea5b88fa9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9">SymbolicLink</a> { <a class="el" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9a0b27918290ff5323bea1e3b78a9cf04e">SymbolicLink.File</a> = 0, 
<a class="el" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9ae73cda510e8bb947f7e61089e5581494">SymbolicLink.Directory</a> = 1
 }</td></tr>
<tr class="separator:af30b33f85b47517c591e0a2ea5b88fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ddb778169e3f37504360e6850f3b10"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a> { <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10a6adf97f83acf6453d4a6a4b1070f3754">ShutdownRequestPhase.None</a>, 
<a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10afcdf8a82eba24e303b63b2e49a507ecb">ShutdownRequestPhase.Requested</a>, 
<a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10a5391406caa5d363a29e5217eb25426e3">ShutdownRequestPhase.Pinged</a>
 }</td></tr>
<tr class="separator:ad1ddb778169e3f37504360e6850f3b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a217ecaa0e91ebecb8460f46b992dc09f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a217ecaa0e91ebecb8460f46b992dc09f">FindTheDroidsWereLookingFor</a> (string search=null)</td></tr>
<tr class="memdesc:a217ecaa0e91ebecb8460f46b992dc09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c" title="The SecurityIdentifier of the Windows group authorized to access the ServerInstance ...">TheDroidsWereLookingFor</a> based off either an <em>search</em> ed name or a string SecurityIdentifier from the config  <a href="#a217ecaa0e91ebecb8460f46b992dc09f">More...</a><br /></td></tr>
<tr class="separator:a217ecaa0e91ebecb8460f46b992dc09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f51512799decc40e41edde3d1917d0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1f51512799decc40e41edde3d1917d0e">InitByond</a> ()</td></tr>
<tr class="memdesc:a1f51512799decc40e41edde3d1917d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> is setup. Prepares the BYOND updater  <a href="#a1f51512799decc40e41edde3d1917d0e">More...</a><br /></td></tr>
<tr class="separator:a1f51512799decc40e41edde3d1917d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1540f43c11b3123d35007af7d56567b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6">CleanByondStaging</a> ()</td></tr>
<tr class="memdesc:a1540f43c11b3123d35007af7d56567b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans the BYOND staging directory  <a href="#a1540f43c11b3123d35007af7d56567b6">More...</a><br /></td></tr>
<tr class="separator:a1540f43c11b3123d35007af7d56567b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae469ca70e8869f5f5ed794d7fe4ce5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0ae469ca70e8869f5f5ed794d7fe4ce5">DisposeByond</a> ()</td></tr>
<tr class="memdesc:a0ae469ca70e8869f5f5ed794d7fe4ce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> is shutdown  <a href="#a0ae469ca70e8869f5f5ed794d7fe4ce5">More...</a><br /></td></tr>
<tr class="separator:a0ae469ca70e8869f5f5ed794d7fe4ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05bc0ce5b4867dfd63385a30bf713f9e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a05bc0ce5b4867dfd63385a30bf713f9e">BusyCheck</a> ()</td></tr>
<tr class="memdesc:a05bc0ce5b4867dfd63385a30bf713f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the updater is considered busy  <a href="#a05bc0ce5b4867dfd63385a30bf713f9e">More...</a><br /></td></tr>
<tr class="separator:a05bc0ce5b4867dfd63385a30bf713f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e22392a22a56807a3c3a6a3a366860"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860">ApplyStagedUpdate</a> ()</td></tr>
<tr class="memdesc:a28e22392a22a56807a3c3a6a3a366860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to move the staged update from <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a> to <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a" title="The instance directory to store the BYOND installation ">ByondDirectory</a>. Sets <a class="el" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a" title="The last error the BYOND updater encountered ">lastError</a> on failure  <a href="#a28e22392a22a56807a3c3a6a3a366860">More...</a><br /></td></tr>
<tr class="separator:a28e22392a22a56807a3c3a6a3a366860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74914da816161c02d9833216fbcb0e25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25">ChatProvider_OnChatMessage</a> (<a class="el" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a> <a class="el" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>, string speaker, string channel, string message, bool isAdmin, bool isAdminChannel)</td></tr>
<tr class="memdesc:a74914da816161c02d9833216fbcb0e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of OnChatMessage that recieves messages from all channels of all connected <a class="el" href="namespace_t_g_server_service_1_1_chat_providers.html">ChatProviders</a>  <a href="#a74914da816161c02d9833216fbcb0e25">More...</a><br /></td></tr>
<tr class="separator:a74914da816161c02d9833216fbcb0e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37ece8a590016ff653791e76d926b49f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a37ece8a590016ff653791e76d926b49f">DisposeChat</a> ()</td></tr>
<tr class="memdesc:a37ece8a590016ff653791e76d926b49f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properly shuts down all <a class="el" href="namespace_t_g_server_service_1_1_chat_providers.html">ChatProviders</a>  <a href="#a37ece8a590016ff653791e76d926b49f">More...</a><br /></td></tr>
<tr class="separator:a37ece8a590016ff653791e76d926b49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773aa236fa08157b085162e7c2bdd846"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html">ChatSetupInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a773aa236fa08157b085162e7c2bdd846">InitProviderInfos</a> ()</td></tr>
<tr class="memdesc:a773aa236fa08157b085162e7c2bdd846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set  <a href="#a773aa236fa08157b085162e7c2bdd846">More...</a><br /></td></tr>
<tr class="separator:a773aa236fa08157b085162e7c2bdd846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff49184e8ceaf6099708b568f09fc4fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aff49184e8ceaf6099708b568f09fc4fa">ChatConnectivityCheck</a> ()</td></tr>
<tr class="memdesc:aff49184e8ceaf6099708b568f09fc4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots  <a href="#aff49184e8ceaf6099708b568f09fc4fa">More...</a><br /></td></tr>
<tr class="separator:aff49184e8ceaf6099708b568f09fc4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6842952e4558a97fc0b9612c5cfc5088"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088">CreateSymbolicLink</a> (string lpSymlinkFileName, string lpTargetFileName, <a class="el" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9">SymbolicLink</a> dwFlags)</td></tr>
<tr class="separator:a6842952e4558a97fc0b9612c5cfc5088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f61d0895428e85ec403dbfd0afe744"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744">InitCompiler</a> ()</td></tr>
<tr class="separator:ad6f61d0895428e85ec403dbfd0afe744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ed0d7dc832756ebf66a79ab2435f7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a46ed0d7dc832756ebf66a79ab2435f7f">DisposeCompiler</a> ()</td></tr>
<tr class="separator:a46ed0d7dc832756ebf66a79ab2435f7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae42263b35cd0124df7a0975c8810f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a> (string link, string target)</td></tr>
<tr class="separator:abae42263b35cd0124df7a0975c8810f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7885cff0cd047f5485cbb9cba09407e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a7885cff0cd047f5485cbb9cba09407e8">CompilerIdleNoLock</a> ()</td></tr>
<tr class="separator:a7885cff0cd047f5485cbb9cba09407e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8445f34deceaaa76a7c2088f8c7f1991"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">IsInitialized</a> ()</td></tr>
<tr class="separator:a8445f34deceaaa76a7c2088f8c7f1991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cc1fde0f34afba7b1f209a35b25247"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a56cc1fde0f34afba7b1f209a35b25247">CleanGameFolderList</a> (string <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a>, IList&lt; string &gt; theList)</td></tr>
<tr class="separator:a56cc1fde0f34afba7b1f209a35b25247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08b470db051748bc99e830bd263d215"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215">CleanGameFolder</a> ()</td></tr>
<tr class="separator:af08b470db051748bc99e830bd263d215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f0d76eb19015bd076df3f3aa28e526"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526">GetStagingDir</a> ()</td></tr>
<tr class="separator:af4f0d76eb19015bd076df3f3aa28e526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a8a673b30cc996fc7251de037732fc"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc">InvertDirectory</a> (string gameDirectory)</td></tr>
<tr class="separator:af1a8a673b30cc996fc7251de037732fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591be0739a0ebf1c70fa2d0615262324"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324">CompileImpl</a> ()</td></tr>
<tr class="separator:a591be0739a0ebf1c70fa2d0615262324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa16abc1470f3a09b8c5da998ad03a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9">InitDreamDaemon</a> ()</td></tr>
<tr class="memdesc:a8fa16abc1470f3a09b8c5da998ad03a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a>  <a href="#a8fa16abc1470f3a09b8c5da998ad03a9">More...</a><br /></td></tr>
<tr class="separator:a8fa16abc1470f3a09b8c5da998ad03a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a901e893be86572cf6a8d539e83de4b2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c">DisposeDreamDaemon</a> ()</td></tr>
<tr class="memdesc:a901e893be86572cf6a8d539e83de4b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Either let go of <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a> for reattachment or terminate it, depending on Properties.Settings.ReattachToDD  <a href="#a901e893be86572cf6a8d539e83de4b2c">More...</a><br /></td></tr>
<tr class="separator:a901e893be86572cf6a8d539e83de4b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66b59d813dcc51bf26bd90f3b812e8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">WriteCurrentDDLog</a> (string message)</td></tr>
<tr class="memdesc:ac66b59d813dcc51bf26bd90f3b812e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a <em>message</em>  to the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8" title="Current logfile in use in ResourceDiagnosticsDir ">CurrentDDLog</a>. A timestamp will be prepended to it  <a href="#ac66b59d813dcc51bf26bd90f3b812e8d">More...</a><br /></td></tr>
<tr class="separator:ac66b59d813dcc51bf26bd90f3b812e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76e4c626e2b38e75781aaad0b7809a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9">Watchdog</a> ()</td></tr>
<tr class="memdesc:ab76e4c626e2b38e75781aaad0b7809a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threaded loop that keeps DreamDaemon from unintentionally stopping  <a href="#ab76e4c626e2b38e75781aaad0b7809a9">More...</a><br /></td></tr>
<tr class="separator:ab76e4c626e2b38e75781aaad0b7809a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac23c0fcef71fc61e9429f04482c5035b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b">MemTrackTimer_Elapsed</a> (object sender, ElapsedEventArgs e)</td></tr>
<tr class="memdesc:ac23c0fcef71fc61e9429f04482c5035b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called every five seconds while DreamDaemon is running to log it's current state to the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a>  <a href="#ac23c0fcef71fc61e9429f04482c5035b">More...</a><br /></td></tr>
<tr class="separator:ac23c0fcef71fc61e9429f04482c5035b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae430434d3ffdbdaba867da778283b28b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b">SecurityWord</a> (bool starting=false)</td></tr>
<tr class="memdesc:ae430434d3ffdbdaba867da778283b28b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate the configured DreamDaemonSecurity level into a byond command line param  <a href="#ae430434d3ffdbdaba867da778283b28b">More...</a><br /></td></tr>
<tr class="separator:ae430434d3ffdbdaba867da778283b28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b4771257ed71f5145b495f85a0553da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da">UpdateInterfaceDll</a> (bool overwrite)</td></tr>
<tr class="memdesc:a4b4771257ed71f5145b495f85a0553da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a> from the program directory to the the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> directory  <a href="#a4b4771257ed71f5145b495f85a0553da">More...</a><br /></td></tr>
<tr class="separator:a4b4771257ed71f5145b495f85a0553da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1472fb1f361d0c3bece7d4632edc339"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339">StartImpl</a> (bool watchdog)</td></tr>
<tr class="memdesc:af1472fb1f361d0c3bece7d4632edc339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a>, calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ...">UpdateInterfaceDll(bool)</a> with a  parameter, and attempts to start the DreamDaemon <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a>  <a href="#af1472fb1f361d0c3bece7d4632edc339">More...</a><br /></td></tr>
<tr class="separator:af1472fb1f361d0c3bece7d4632edc339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a991f102faacdca2faec4a3fd92d9a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9">LoadServerChatCommands</a> ()</td></tr>
<tr class="separator:a3a991f102faacdca2faec4a3fd92d9a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d4ae32c582b1d03b22402dab486e80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80">HandleCommand</a> (string cmd)</td></tr>
<tr class="separator:aa2d4ae32c582b1d03b22402dab486e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e536f3c962184942e7a5b01bc9ffad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad">CheckAPIVersionConstraints</a> ()</td></tr>
<tr class="separator:a84e536f3c962184942e7a5b01bc9ffad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13b3094596c77baca6116842d373760"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760">SendTopic</a> (string topicdata, ushort port)</td></tr>
<tr class="separator:ad13b3094596c77baca6116842d373760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235f24c0d390a379749a478dc5993550"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550">GenCommsKey</a> ()</td></tr>
<tr class="separator:a235f24c0d390a379749a478dc5993550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac607fbc15cc4048f8f0d19644ee584aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac607fbc15cc4048f8f0d19644ee584aa">InitEventHandlers</a> ()</td></tr>
<tr class="memdesc:ac607fbc15cc4048f8f0d19644ee584aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1b7519bc4b8c9476fcd9699385535533" title="The instance directory for Preaction handlers ">EventFolder</a>  <a href="#ac607fbc15cc4048f8f0d19644ee584aa">More...</a><br /></td></tr>
<tr class="separator:ac607fbc15cc4048f8f0d19644ee584aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c024a90c8ffdb678f9b0bfaafd8764"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764">GetEventPath</a> (string eventName)</td></tr>
<tr class="memdesc:ab7c024a90c8ffdb678f9b0bfaafd8764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the path of an event given an <em>eventName</em>   <a href="#ab7c024a90c8ffdb678f9b0bfaafd8764">More...</a><br /></td></tr>
<tr class="separator:ab7c024a90c8ffdb678f9b0bfaafd8764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35924a25d2d0fcfb0124ad21ecb421f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f">EventHandlerExists</a> (string eventName)</td></tr>
<tr class="memdesc:ae35924a25d2d0fcfb0124ad21ecb421f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an event handler for <em>eventName</em>  exists  <a href="#ae35924a25d2d0fcfb0124ad21ecb421f">More...</a><br /></td></tr>
<tr class="separator:ae35924a25d2d0fcfb0124ad21ecb421f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccef305da6b6b218054c1287ba7086b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b">HandleEvent</a> (string eventName)</td></tr>
<tr class="memdesc:a3ccef305da6b6b218054c1287ba7086b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs an event named <em>eventName</em>  if it exists  <a href="#a3ccef305da6b6b218054c1287ba7086b">More...</a><br /></td></tr>
<tr class="separator:a3ccef305da6b6b218054c1287ba7086b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4444f5e9e540e4d8222da5d9ff42940"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940">InitRepo</a> ()</td></tr>
<tr class="memdesc:ac4444f5e9e540e4d8222da5d9ff42940"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the repository  <a href="#ac4444f5e9e540e4d8222da5d9ff42940">More...</a><br /></td></tr>
<tr class="separator:ac4444f5e9e540e4d8222da5d9ff42940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0db5ea4f797662c4317686d629a7e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8">RepoConfigsMatch</a> ()</td></tr>
<tr class="memdesc:a3a0db5ea4f797662c4317686d629a7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> and <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a> json files match.  <a href="#a3a0db5ea4f797662c4317686d629a7e8">More...</a><br /></td></tr>
<tr class="separator:a3a0db5ea4f797662c4317686d629a7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460f7422c8ca2c016df6d18a6c64e287"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_g_server_service_1_1_repo_config.html">RepoConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a> ()</td></tr>
<tr class="memdesc:a460f7422c8ca2c016df6d18a6c64e287"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> for <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a>  <a href="#a460f7422c8ca2c016df6d18a6c64e287">More...</a><br /></td></tr>
<tr class="separator:a460f7422c8ca2c016df6d18a6c64e287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88dc1ac835d1b41b5a7c0310cf2bd30"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a> ()</td></tr>
<tr class="memdesc:ac88dc1ac835d1b41b5a7c0310cf2bd30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a>  <a href="#ac88dc1ac835d1b41b5a7c0310cf2bd30">More...</a><br /></td></tr>
<tr class="separator:ac88dc1ac835d1b41b5a7c0310cf2bd30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b46135f61615923db5e302d3553e1fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa">DisposeRepo</a> ()</td></tr>
<tr class="memdesc:a9b46135f61615923db5e302d3553e1fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a>  <a href="#a9b46135f61615923db5e302d3553e1fa">More...</a><br /></td></tr>
<tr class="separator:a9b46135f61615923db5e302d3553e1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445215ce9af4a260d0ec5cf1a88210df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df">HandleTransferProgress</a> (TransferProgress progress)</td></tr>
<tr class="memdesc:a445215ce9af4a260d0ec5cf1a88210df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e" title="Used for reporting operation progress to the TGServiceInterface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a> transfer operation  <a href="#a445215ce9af4a260d0ec5cf1a88210df">More...</a><br /></td></tr>
<tr class="separator:a445215ce9af4a260d0ec5cf1a88210df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971b17056739405a3d2b598ebd1be27a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a">HandleCheckoutProgress</a> (string path, int completedSteps, int totalSteps)</td></tr>
<tr class="memdesc:a971b17056739405a3d2b598ebd1be27a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e" title="Used for reporting operation progress to the TGServiceInterface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a> checkout operation  <a href="#a971b17056739405a3d2b598ebd1be27a">More...</a><br /></td></tr>
<tr class="separator:a971b17056739405a3d2b598ebd1be27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f34e7f968afb1ad7f77d8813d5799b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b">Clone</a> (object twostrings)</td></tr>
<tr class="memdesc:a14f34e7f968afb1ad7f77d8813d5799b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backups up the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> and deletes the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0" title="The ServerInstance directory for the repository ">RepoPath</a> if they exist. Clones the given branch of the given remote. Sets up new <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>  <a href="#a14f34e7f968afb1ad7f77d8813d5799b">More...</a><br /></td></tr>
<tr class="separator:a14f34e7f968afb1ad7f77d8813d5799b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2797d54ddfe3bd78e2c726b11136fba8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8">DisableGarbageCollectionNoLock</a> ()</td></tr>
<tr class="memdesc:a2797d54ddfe3bd78e2c726b11136fba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns off the gc.auto git config setting  <a href="#a2797d54ddfe3bd78e2c726b11136fba8">More...</a><br /></td></tr>
<tr class="separator:a2797d54ddfe3bd78e2c726b11136fba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a3ebcbd0237e65264d9ca2533291ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce">BackupAndDeleteStaticDirectory</a> ()</td></tr>
<tr class="memdesc:a15a3ebcbd0237e65264d9ca2533291ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the Static directory to the first available Static_BACKUP path in the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> then deleted the old directory  <a href="#a15a3ebcbd0237e65264d9ca2533291ce">More...</a><br /></td></tr>
<tr class="separator:a15a3ebcbd0237e65264d9ca2533291ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce4ab9dd00a38f8e434a54ef8978dde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde">InitialConfigureRepository</a> ()</td></tr>
<tr class="memdesc:a5ce4ab9dd00a38f8e434a54ef8978dde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial setup for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> and <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a>  <a href="#a5ce4ab9dd00a38f8e434a54ef8978dde">More...</a><br /></td></tr>
<tr class="separator:a5ce4ab9dd00a38f8e434a54ef8978dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a848b2e594808b20d91c9d9b273edd8f1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1">GetShaOrBranch</a> (out string error, bool branch, bool tracked)</td></tr>
<tr class="memdesc:a848b2e594808b20d91c9d9b273edd8f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the SHA or branch name of the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a>'s HEAD  <a href="#a848b2e594808b20d91c9d9b273edd8f1">More...</a><br /></td></tr>
<tr class="separator:a848b2e594808b20d91c9d9b273edd8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5ddb16ab8332882d6bdf2be41d3e56"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">ResetNoLock</a> (Branch targetBranch)</td></tr>
<tr class="memdesc:aac5ddb16ab8332882d6bdf2be41d3e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent of running <code>git reset --hard</code> on the repository. Requires <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a>  <a href="#aac5ddb16ab8332882d6bdf2be41d3e56">More...</a><br /></td></tr>
<tr class="separator:aac5ddb16ab8332882d6bdf2be41d3e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533ddcf0f8c4cd09d87b3e4eae916ccf"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf">MergeBranch</a> (string committish)</td></tr>
<tr class="memdesc:a533ddcf0f8c4cd09d87b3e4eae916ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges given <em>committish</em>  into the current branch  <a href="#a533ddcf0f8c4cd09d87b3e4eae916ccf">More...</a><br /></td></tr>
<tr class="separator:a533ddcf0f8c4cd09d87b3e4eae916ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1258b6c6ba7f13a930e4f1c892e5b2a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a">UpdateImpl</a> (bool reset, bool successOnUpToDate)</td></tr>
<tr class="memdesc:aa1258b6c6ba7f13a930e4f1c892e5b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the origin and merges it into the current branch  <a href="#aa1258b6c6ba7f13a930e4f1c892e5b2a">More...</a><br /></td></tr>
<tr class="separator:aa1258b6c6ba7f13a930e4f1c892e5b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d603da4a4dcd14255f39bbf59931ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">UpdateSubmodules</a> ()</td></tr>
<tr class="memdesc:a95d603da4a4dcd14255f39bbf59931ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properly updates any git submodules in the repository  <a href="#a95d603da4a4dcd14255f39bbf59931ad">More...</a><br /></td></tr>
<tr class="separator:a95d603da4a4dcd14255f39bbf59931ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69e75b4b1379d03852e6bef850dfcc4"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4">CreateBackup</a> ()</td></tr>
<tr class="memdesc:ae69e75b4b1379d03852e6bef850dfcc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a date and timestamped tag of the current HEAD  <a href="#ae69e75b4b1379d03852e6bef850dfcc4">More...</a><br /></td></tr>
<tr class="separator:ae69e75b4b1379d03852e6bef850dfcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcde3c7acdaf49fcd170dde635747ab1"><td class="memItemLeft" align="right" valign="top">Signature&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1">MakeSig</a> ()</td></tr>
<tr class="memdesc:abcde3c7acdaf49fcd170dde635747ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail  <a href="#abcde3c7acdaf49fcd170dde635747ab1">More...</a><br /></td></tr>
<tr class="separator:abcde3c7acdaf49fcd170dde635747ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c0e665fa5086f6ebf6d5ffe288ca89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">DeletePRList</a> ()</td></tr>
<tr class="memdesc:a04c0e665fa5086f6ebf6d5ffe288ca89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>'s <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a>  <a href="#a04c0e665fa5086f6ebf6d5ffe288ca89">More...</a><br /></td></tr>
<tr class="separator:a04c0e665fa5086f6ebf6d5ffe288ca89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5522e7ef7ad15e78eb098e185b59d0c"><td class="memItemLeft" align="right" valign="top">IDictionary&lt; string, IDictionary&lt; string, string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c">GetCurrentPRList</a> ()</td></tr>
<tr class="memdesc:af5522e7ef7ad15e78eb098e185b59d0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a>  <a href="#af5522e7ef7ad15e78eb098e185b59d0c">More...</a><br /></td></tr>
<tr class="separator:af5522e7ef7ad15e78eb098e185b59d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3372c4e2b46b1ce3f1985684be2a6c3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3372c4e2b46b1ce3f1985684be2a6c3b">SetCurrentPRList</a> (IDictionary&lt; string, IDictionary&lt; string, string &gt;&gt; list)</td></tr>
<tr class="memdesc:a3372c4e2b46b1ce3f1985684be2a6c3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes pull request info into <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a>  <a href="#a3372c4e2b46b1ce3f1985684be2a6c3b">More...</a><br /></td></tr>
<tr class="separator:a3372c4e2b46b1ce3f1985684be2a6c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab56ecfc17b45a4658e0a676402b634e3"><td class="memItemLeft" align="right" valign="top">FetchOptions&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3">GenerateFetchOptions</a> ()</td></tr>
<tr class="memdesc:ab56ecfc17b45a4658e0a676402b634e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create FetchOptions that Prune and have the appropriate credentials and progress handler  <a href="#ab56ecfc17b45a4658e0a676402b634e3">More...</a><br /></td></tr>
<tr class="separator:ab56ecfc17b45a4658e0a676402b634e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f4334b030e4cddf3f643aedc84f59e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e">Fetch</a> ()</td></tr>
<tr class="memdesc:af8f4334b030e4cddf3f643aedc84f59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches origin  <a href="#af8f4334b030e4cddf3f643aedc84f59e">More...</a><br /></td></tr>
<tr class="separator:af8f4334b030e4cddf3f643aedc84f59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf36c04158aa4503aacabaf20d8106d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0">LocalIsRemote</a> ()</td></tr>
<tr class="memdesc:abf36c04158aa4503aacabaf20d8106d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current HEAD matches the tracked remote branch HEAD  <a href="#abf36c04158aa4503aacabaf20d8106d0">More...</a><br /></td></tr>
<tr class="separator:abf36c04158aa4503aacabaf20d8106d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b36d7847cac9b98816d757747c2b795"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795">Commit</a> (<a class="el" href="class_t_g_server_service_1_1_repo_config.html">RepoConfig</a> Config)</td></tr>
<tr class="memdesc:a3b36d7847cac9b98816d757747c2b795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a commit based on a <em>Config</em>   <a href="#a3b36d7847cac9b98816d757747c2b795">More...</a><br /></td></tr>
<tr class="separator:a3b36d7847cac9b98816d757747c2b795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c5c3b1d918969c67fda31e5a4c7ab3"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3">Push</a> ()</td></tr>
<tr class="separator:af8c5c3b1d918969c67fda31e5a4c7ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa2414f020ebecc7b1470e12a243d09"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09">SSHAuth</a> ()</td></tr>
<tr class="memdesc:a3fa2414f020ebecc7b1470e12a243d09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> is configured for SSH pushing  <a href="#a3fa2414f020ebecc7b1470e12a243d09">More...</a><br /></td></tr>
<tr class="separator:a3fa2414f020ebecc7b1470e12a243d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895420e900c51183a28580f3a3ab3039"><td class="memItemLeft" align="right" valign="top">Credentials&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039">GenerateGitCredentials</a> (string url, string usernameFromUrl, SupportedCredentialTypes types)</td></tr>
<tr class="memdesc:a895420e900c51183a28580f3a3ab3039"><td class="mdescLeft">&#160;</td><td class="mdescRight">SSH credentials callback. Properly sets up SSH keys for an authorization operation  <a href="#a895420e900c51183a28580f3a3ab3039">More...</a><br /></td></tr>
<tr class="separator:a895420e900c51183a28580f3a3ab3039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d1ea78a382258b4ddcf815cb23f7ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba">AutoUpdateTimer_Elapsed</a> (object sender, System.Timers.ElapsedEventArgs e)</td></tr>
<tr class="memdesc:af0d1ea78a382258b4ddcf815cb23f7ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs on the configured Properties.Settings.AutoUpdateInterval and tries to <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch  ">Update(bool)</a> and <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a> the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#af0d1ea78a382258b4ddcf815cb23f7ba">More...</a><br /></td></tr>
<tr class="separator:af0d1ea78a382258b4ddcf815cb23f7ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0cb7b5664b4796ef9aa9082bbce424"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424">UpdateLiveSha</a> (string newSha)</td></tr>
<tr class="memdesc:aeb0cb7b5664b4796ef9aa9082bbce424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd" title="The branch that points to the current commit that is live or staged to be live in DreamDaemon ...">LiveTrackingBranch</a> with the staged <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a>'s SHA  <a href="#aeb0cb7b5664b4796ef9aa9082bbce424">More...</a><br /></td></tr>
<tr class="separator:aeb0cb7b5664b4796ef9aa9082bbce424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7eda46fd144259303499dfa412f1ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac">RunDisposals</a> ()</td></tr>
<tr class="memdesc:aea7eda46fd144259303499dfa412f1ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#aea7eda46fd144259303499dfa412f1ac">More...</a><br /></td></tr>
<tr class="separator:aea7eda46fd144259303499dfa412f1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a775202498bd013e4e6baba11dc7a72a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4">Dispose</a> (bool disposing)</td></tr>
<tr class="memdesc:a775202498bd013e4e6baba11dc7a72a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern. Calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance ">RunDisposals</a>  <a href="#a775202498bd013e4e6baba11dc7a72a4">More...</a><br /></td></tr>
<tr class="separator:a775202498bd013e4e6baba11dc7a72a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a099e2fa5d7fe81467538a56467c9906c"><td class="memItemLeft" align="right" valign="top">SecurityIdentifier&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TheDroidsWereLookingFor</a></td></tr>
<tr class="memdesc:a099e2fa5d7fe81467538a56467c9906c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SecurityIdentifier of the Windows group authorized to access the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#a099e2fa5d7fe81467538a56467c9906c">More...</a><br /></td></tr>
<tr class="separator:a099e2fa5d7fe81467538a56467c9906c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9e7ee0d819cee495bd78f9a54c46fd"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3d9e7ee0d819cee495bd78f9a54c46fd">authLock</a> = new object()</td></tr>
<tr class="memdesc:a3d9e7ee0d819cee495bd78f9a54c46fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a3d9e7ee0d819cee495bd78f9a54c46fd">More...</a><br /></td></tr>
<tr class="separator:a3d9e7ee0d819cee495bd78f9a54c46fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1859affa82dede4f2ed907a7d6958529"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1859affa82dede4f2ed907a7d6958529">LastSeenUser</a></td></tr>
<tr class="memdesc:a1859affa82dede4f2ed907a7d6958529"><td class="mdescLeft">&#160;</td><td class="mdescRight">The WindowsIdentity.Name of the last WindowsIdentity to attempt to access the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#a1859affa82dede4f2ed907a7d6958529">More...</a><br /></td></tr>
<tr class="separator:a1859affa82dede4f2ed907a7d6958529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f51f5fdaedcb7b20c19cb507ae0940"><td class="memItemLeft" align="right" valign="top">readonly SecurityIdentifier&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a27f51f5fdaedcb7b20c19cb507ae0940">ServiceSID</a> = WindowsIdentity.GetCurrent().User</td></tr>
<tr class="memdesc:a27f51f5fdaedcb7b20c19cb507ae0940"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SecurityIdentifier of the account the <a class="el" href="class_t_g_server_service_1_1_service.html" title="The windows service the application runs as ">Service</a> is running as  <a href="#a27f51f5fdaedcb7b20c19cb507ae0940">More...</a><br /></td></tr>
<tr class="separator:a27f51f5fdaedcb7b20c19cb507ae0940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d04056dea64487e7eaed6b26b57e3a"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">ByondDirectory</a> = &quot;BYOND&quot;</td></tr>
<tr class="memdesc:a63d04056dea64487e7eaed6b26b57e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory to store the BYOND installation  <a href="#a63d04056dea64487e7eaed6b26b57e3a">More...</a><br /></td></tr>
<tr class="separator:a63d04056dea64487e7eaed6b26b57e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf67da3d367607fac5b98d52feed5efe"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a> = &quot;BYOND_staged&quot;</td></tr>
<tr class="memdesc:aaf67da3d367607fac5b98d52feed5efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory to use when updating the BYOND installation  <a href="#aaf67da3d367607fac5b98d52feed5efe">More...</a><br /></td></tr>
<tr class="separator:aaf67da3d367607fac5b98d52feed5efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74331465cc7db01bbb583a5430e6d506"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a74331465cc7db01bbb583a5430e6d506">StagingDirectoryInner</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a> + &quot;/byond&quot;</td></tr>
<tr class="memdesc:a74331465cc7db01bbb583a5430e6d506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the actual BYOND installation within the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a>  <a href="#a74331465cc7db01bbb583a5430e6d506">More...</a><br /></td></tr>
<tr class="separator:a74331465cc7db01bbb583a5430e6d506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae957ffd2966d65e145b02b490d3710e"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">RevisionDownloadPath</a> = &quot;BYONDRevision.zip&quot;</td></tr>
<tr class="memdesc:aae957ffd2966d65e145b02b490d3710e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path in the instance directory to store the downloaded BYOND revision  <a href="#aae957ffd2966d65e145b02b490d3710e">More...</a><br /></td></tr>
<tr class="separator:aae957ffd2966d65e145b02b490d3710e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012f09818116b92edf15f9d4aff96dff"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a012f09818116b92edf15f9d4aff96dff">VersionFile</a> = &quot;/byond_version.dat&quot;</td></tr>
<tr class="memdesc:a012f09818116b92edf15f9d4aff96dff"><td class="mdescLeft">&#160;</td><td class="mdescRight">The location of the BYOND version data of an installation  <a href="#a012f09818116b92edf15f9d4aff96dff">More...</a><br /></td></tr>
<tr class="separator:a012f09818116b92edf15f9d4aff96dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8602c86bbeaa9a0efaf0dec7f54a5ecb"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8602c86bbeaa9a0efaf0dec7f54a5ecb">ByondRevisionsURL</a> = &quot;https://secure.byond.com/download/build/{0}/{0}.{1}_byond.zip&quot;</td></tr>
<tr class="memdesc:a8602c86bbeaa9a0efaf0dec7f54a5ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The URL format string for getting BYOND version {0}.{1} zipfile  <a href="#a8602c86bbeaa9a0efaf0dec7f54a5ecb">More...</a><br /></td></tr>
<tr class="separator:a8602c86bbeaa9a0efaf0dec7f54a5ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19bd19fedfdb8cd0e5701215b483ce3f"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a19bd19fedfdb8cd0e5701215b483ce3f">ByondLatestURL</a> = &quot;https://secure.byond.com/download/build/LATEST/&quot;</td></tr>
<tr class="memdesc:a19bd19fedfdb8cd0e5701215b483ce3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The URL for getting the latest BYOND version zipfile  <a href="#a19bd19fedfdb8cd0e5701215b483ce3f">More...</a><br /></td></tr>
<tr class="separator:a19bd19fedfdb8cd0e5701215b483ce3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8534ec556abce2125376c3df9fd644c1"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8534ec556abce2125376c3df9fd644c1">ByondConfigDir</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a> + &quot;/BYOND/cfg&quot;</td></tr>
<tr class="memdesc:a8534ec556abce2125376c3df9fd644c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory to modify the BYOND cfg before installation  <a href="#a8534ec556abce2125376c3df9fd644c1">More...</a><br /></td></tr>
<tr class="separator:a8534ec556abce2125376c3df9fd644c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae375b158f3e4eb869a967674ed9f3b74"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae375b158f3e4eb869a967674ed9f3b74">ByondDDConfig</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8534ec556abce2125376c3df9fd644c1">ByondConfigDir</a> + &quot;/daemon.txt&quot;</td></tr>
<tr class="memdesc:ae375b158f3e4eb869a967674ed9f3b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">BYOND's DreamDaemon config file in the cfg modification directory  <a href="#ae375b158f3e4eb869a967674ed9f3b74">More...</a><br /></td></tr>
<tr class="separator:ae375b158f3e4eb869a967674ed9f3b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3e8619b26aae0b35238283f6377c76"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#afb3e8619b26aae0b35238283f6377c76">ByondNoPromptTrustedMode</a> = &quot;trusted-check 0&quot;</td></tr>
<tr class="memdesc:afb3e8619b26aae0b35238283f6377c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setting to add to <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae375b158f3e4eb869a967674ed9f3b74" title="BYOND&#39;s DreamDaemon config file in the cfg modification directory ">ByondDDConfig</a> to suppress an invisible user prompt for running a trusted mode .dmb  <a href="#afb3e8619b26aae0b35238283f6377c76">More...</a><br /></td></tr>
<tr class="separator:afb3e8619b26aae0b35238283f6377c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773bda7930c58a1def918b077efcf2a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = ByondStatus.Idle</td></tr>
<tr class="memdesc:a773bda7930c58a1def918b077efcf2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The status of the BYOND updater  <a href="#a773bda7930c58a1def918b077efcf2a1">More...</a><br /></td></tr>
<tr class="separator:a773bda7930c58a1def918b077efcf2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c663631406c567c006171c5b6bf361f"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a> = new object()</td></tr>
<tr class="memdesc:a0c663631406c567c006171c5b6bf361f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a0c663631406c567c006171c5b6bf361f">More...</a><br /></td></tr>
<tr class="separator:a0c663631406c567c006171c5b6bf361f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc40d967672331fc5578d052f20743a"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a></td></tr>
<tr class="memdesc:adcc40d967672331fc5578d052f20743a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The last error the BYOND updater encountered  <a href="#adcc40d967672331fc5578d052f20743a">More...</a><br /></td></tr>
<tr class="separator:adcc40d967672331fc5578d052f20743a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb683e8f7cd91c6e64ce98e007899f4"><td class="memItemLeft" align="right" valign="top">Thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">RevisionStaging</a></td></tr>
<tr class="memdesc:afcb683e8f7cd91c6e64ce98e007899f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread used for staging BYOND revisions  <a href="#afcb683e8f7cd91c6e64ce98e007899f4">More...</a><br /></td></tr>
<tr class="separator:afcb683e8f7cd91c6e64ce98e007899f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acadcf82abcaebb13517e3e169545f35c"><td class="memItemLeft" align="right" valign="top">IList&lt; <a class="el" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a></td></tr>
<tr class="memdesc:acadcf82abcaebb13517e3e169545f35c"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of IChatProviders for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#acadcf82abcaebb13517e3e169545f35c">More...</a><br /></td></tr>
<tr class="separator:acadcf82abcaebb13517e3e169545f35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e6f43c86cd29032ae6acc003afe521"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a03e6f43c86cd29032ae6acc003afe521">ChatLock</a> = new object()</td></tr>
<tr class="memdesc:a03e6f43c86cd29032ae6acc003afe521"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a03e6f43c86cd29032ae6acc003afe521">More...</a><br /></td></tr>
<tr class="separator:a03e6f43c86cd29032ae6acc003afe521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa64ece7176410ce074603fd735e3f10"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> = &quot;Static&quot;</td></tr>
<tr class="separator:aaa64ece7176410ce074603fd735e3f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae65be76d9379b4c23864048a54032e76"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae65be76d9379b4c23864048a54032e76">StaticBackupDir</a> = &quot;Static_BACKUP&quot;</td></tr>
<tr class="separator:ae65be76d9379b4c23864048a54032e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a280f8b421bd1d3a8a8cb4c5e455fdfc3"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a280f8b421bd1d3a8a8cb4c5e455fdfc3">LibMySQLFile</a> = &quot;/libmysql.dll&quot;</td></tr>
<tr class="separator:a280f8b421bd1d3a8a8cb4c5e455fdfc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae521c4c39e87f29fc7cba98c0ff58d7"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a> = &quot;Game&quot;</td></tr>
<tr class="separator:aae521c4c39e87f29fc7cba98c0ff58d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6bafbaf5618ced251442f5e66fa89c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a> + &quot;/A&quot;</td></tr>
<tr class="separator:a0c6bafbaf5618ced251442f5e66fa89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a81324e1e1171c1d2d2adc35b105e62"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a> + &quot;/B&quot;</td></tr>
<tr class="separator:a7a81324e1e1171c1d2d2adc35b105e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc8ecb836197d4e0a889d8b8944237a"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a> + &quot;/Live&quot;</td></tr>
<tr class="separator:a6dc8ecb836197d4e0a889d8b8944237a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857c11bb60033e231f050145493ca3b8"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a857c11bb60033e231f050145493ca3b8">LiveFile</a> = &quot;/TestLive.lk&quot;</td></tr>
<tr class="separator:a857c11bb60033e231f050145493ca3b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cea7fb477daccffb693b933e8a0b231"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5cea7fb477daccffb693b933e8a0b231">ADirTest</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a> + <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a857c11bb60033e231f050145493ca3b8">LiveFile</a></td></tr>
<tr class="separator:a5cea7fb477daccffb693b933e8a0b231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3584843b75b22e9caaf4706fe6d9a26f"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3584843b75b22e9caaf4706fe6d9a26f">BDirTest</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a> + <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a857c11bb60033e231f050145493ca3b8">LiveFile</a></td></tr>
<tr class="separator:a3584843b75b22e9caaf4706fe6d9a26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6399ca237782f1286ad7379153a51298"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6399ca237782f1286ad7379153a51298">LiveDirTest</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a> + <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a857c11bb60033e231f050145493ca3b8">LiveFile</a></td></tr>
<tr class="separator:a6399ca237782f1286ad7379153a51298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab16aa5c7a41006e221acf710131efe"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a> = &quot;TGServiceInterface.dll&quot;</td></tr>
<tr class="separator:a1ab16aa5c7a41006e221acf710131efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43598a044d75089e4c3a0b433bca455b"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a> = new object()</td></tr>
<tr class="separator:a43598a044d75089e4c3a0b433bca455b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9adc6c97daa5981c9b4c6128c4df1f11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a></td></tr>
<tr class="separator:a9adc6c97daa5981c9b4c6128c4df1f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a6d4cf18b436ad79fd5eb9e3546881"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a></td></tr>
<tr class="separator:a66a6d4cf18b436ad79fd5eb9e3546881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7276f1afc5e4e29a3dd7ecbc324b1661"><td class="memItemLeft" align="right" valign="top">Thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a></td></tr>
<tr class="separator:a7276f1afc5e4e29a3dd7ecbc324b1661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f620ffb3b9d255d551adc32cf2015e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">compilationCancellationRequestation</a> = false</td></tr>
<tr class="separator:a65f620ffb3b9d255d551adc32cf2015e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d44f07976a3c02b441bbc108ee0473a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">canCancelCompilation</a> = false</td></tr>
<tr class="separator:a4d44f07976a3c02b441bbc108ee0473a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8011e4943a3fbb07f419d91ea5585132"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">silentCompile</a> = false</td></tr>
<tr class="separator:a8011e4943a3fbb07f419d91ea5585132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff75bb9874194c398f76a60c494bbdf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaff75bb9874194c398f76a60c494bbdf">UpdateStaged</a> = false</td></tr>
<tr class="separator:aaff75bb9874194c398f76a60c494bbdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d407c09b7a499c45266c916e4eaa947"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a> = new object()</td></tr>
<tr class="memdesc:a4d407c09b7a499c45266c916e4eaa947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#a4d407c09b7a499c45266c916e4eaa947">More...</a><br /></td></tr>
<tr class="separator:a4d407c09b7a499c45266c916e4eaa947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc559e696e31c09e9d88ca4c1571fbc"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc">DiagnosticsDir</a> = &quot;Diagnostics&quot;</td></tr>
<tr class="memdesc:a9fc559e696e31c09e9d88ca4c1571fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directory for storing DreamDaemon diagnostic files  <a href="#a9fc559e696e31c09e9d88ca4c1571fbc">More...</a><br /></td></tr>
<tr class="separator:a9fc559e696e31c09e9d88ca4c1571fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a9a0f4ee4133a41f3db02bbd87a3a9"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">ResourceDiagnosticsDir</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc">DiagnosticsDir</a> + &quot;/Resources&quot;</td></tr>
<tr class="memdesc:ad3a9a0f4ee4133a41f3db02bbd87a3a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directory for storing DreamDaemon ResourceUsage files  <a href="#ad3a9a0f4ee4133a41f3db02bbd87a3a9">More...</a><br /></td></tr>
<tr class="separator:ad3a9a0f4ee4133a41f3db02bbd87a3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b032a659fbd00069d0c86e069d2b305"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9b032a659fbd00069d0c86e069d2b305">DDHangStartTime</a> = 60</td></tr>
<tr class="memdesc:a9b032a659fbd00069d0c86e069d2b305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time until DD is considered DOA on startup  <a href="#a9b032a659fbd00069d0c86e069d2b305">More...</a><br /></td></tr>
<tr class="separator:a9b032a659fbd00069d0c86e069d2b305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157c619b15cfc7da0d7578a84888b803"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a157c619b15cfc7da0d7578a84888b803">DDBadStartTime</a> = 10</td></tr>
<tr class="memdesc:a157c619b15cfc7da0d7578a84888b803"><td class="mdescLeft">&#160;</td><td class="mdescRight">If DreamDaemon crashes before this time it is considered a bad startup  <a href="#a157c619b15cfc7da0d7578a84888b803">More...</a><br /></td></tr>
<tr class="separator:a157c619b15cfc7da0d7578a84888b803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa550118aee5bf93064cb25b2171a969b"><td class="memItemLeft" align="right" valign="top">Process&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a></td></tr>
<tr class="memdesc:aa550118aee5bf93064cb25b2171a969b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemon process  <a href="#aa550118aee5bf93064cb25b2171a969b">More...</a><br /></td></tr>
<tr class="separator:aa550118aee5bf93064cb25b2171a969b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fccb58474c98b606c222bf343f3a4dc"><td class="memItemLeft" align="right" valign="top">PerformanceCounter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">pcpu</a></td></tr>
<tr class="memdesc:a6fccb58474c98b606c222bf343f3a4dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU performance information for <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a>  <a href="#a6fccb58474c98b606c222bf343f3a4dc">More...</a><br /></td></tr>
<tr class="separator:a6fccb58474c98b606c222bf343f3a4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9358eb96d27250fb77c78695e90128"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a> = new object()</td></tr>
<tr class="memdesc:aac9358eb96d27250fb77c78695e90128"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#aac9358eb96d27250fb77c78695e90128">More...</a><br /></td></tr>
<tr class="separator:aac9358eb96d27250fb77c78695e90128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af349ace5ef95d437564deefa68138422"><td class="memItemLeft" align="right" valign="top">Thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">DDWatchdog</a></td></tr>
<tr class="memdesc:af349ace5ef95d437564deefa68138422"><td class="mdescLeft">&#160;</td><td class="mdescRight">The thread that monitors the status of DreamDaemon  <a href="#af349ace5ef95d437564deefa68138422">More...</a><br /></td></tr>
<tr class="separator:af349ace5ef95d437564deefa68138422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30b2fd293b49f890f3a1e32646c6d64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a></td></tr>
<tr class="memdesc:ac30b2fd293b49f890f3a1e32646c6d64"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemonStatus of <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a>  <a href="#ac30b2fd293b49f890f3a1e32646c6d64">More...</a><br /></td></tr>
<tr class="separator:ac30b2fd293b49f890f3a1e32646c6d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d86baac5dc500fc0fda143655e83e8"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">CurrentDDLog</a></td></tr>
<tr class="memdesc:a20d86baac5dc500fc0fda143655e83e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current logfile in use in <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9" title="Directory for storing DreamDaemon ResourceUsage files ">ResourceDiagnosticsDir</a>  <a href="#a20d86baac5dc500fc0fda143655e83e8">More...</a><br /></td></tr>
<tr class="separator:a20d86baac5dc500fc0fda143655e83e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e943244934b9768a821aa6ec722ac18"><td class="memItemLeft" align="right" valign="top">ushort&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a> = 0</td></tr>
<tr class="memdesc:a4e943244934b9768a821aa6ec722ac18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current port DreamDaemon is running on  <a href="#a4e943244934b9768a821aa6ec722ac18">More...</a><br /></td></tr>
<tr class="separator:a4e943244934b9768a821aa6ec722ac18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5410eb07e2ceac73e7e024919ba3449"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">restartLock</a> = new object()</td></tr>
<tr class="memdesc:ad5410eb07e2ceac73e7e024919ba3449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for multithreading safety  <a href="#ad5410eb07e2ceac73e7e024919ba3449">More...</a><br /></td></tr>
<tr class="separator:ad5410eb07e2ceac73e7e024919ba3449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4380a85aaa8cdaf5d13a0d90435355d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a> = false</td></tr>
<tr class="memdesc:a4380a85aaa8cdaf5d13a0d90435355d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to indicate if an intentional restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449" title="Used for multithreading safety ">restartLock</a> to access  <a href="#a4380a85aaa8cdaf5d13a0d90435355d6">More...</a><br /></td></tr>
<tr class="separator:a4380a85aaa8cdaf5d13a0d90435355d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0e420f5bfb3ddaaae675c4c05dc1c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8b0e420f5bfb3ddaaae675c4c05dc1c1">ReattachInsteadOfRestart</a> = false</td></tr>
<tr class="memdesc:a8b0e420f5bfb3ddaaae675c4c05dc1c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to indicate if an service restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449" title="Used for multithreading safety ">restartLock</a> to access  <a href="#a8b0e420f5bfb3ddaaae675c4c05dc1c1">More...</a><br /></td></tr>
<tr class="separator:a8b0e420f5bfb3ddaaae675c4c05dc1c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76df7e1dbf0a616318dc38a5b74096d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a76df7e1dbf0a616318dc38a5b74096d2">StartingSecurity</a></td></tr>
<tr class="memdesc:a76df7e1dbf0a616318dc38a5b74096d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current DreamDaemonSecurity level of DreamDaemon  <a href="#a76df7e1dbf0a616318dc38a5b74096d2">More...</a><br /></td></tr>
<tr class="separator:a76df7e1dbf0a616318dc38a5b74096d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fcdc82f293c4cd7da11738f2c1e2656"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a></td></tr>
<tr class="memdesc:a0fcdc82f293c4cd7da11738f2c1e2656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicator of progress on a <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a> or <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a14fda24298442826a3f5ec506f94c4b3" title="Stop the server after the currently running world reboots. Has no effect if the server isn&#39;t running ...">RequestStop</a> operation  <a href="#a0fcdc82f293c4cd7da11738f2c1e2656">More...</a><br /></td></tr>
<tr class="separator:a0fcdc82f293c4cd7da11738f2c1e2656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8875aeb516888e8ed1007c14302076a1"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">topicLock</a> = new object()</td></tr>
<tr class="separator:a8875aeb516888e8ed1007c14302076a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ec90e265d2179399e7e260d8b99b94"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a86ec90e265d2179399e7e260d8b99b94">CommsKeyLen</a> = 64</td></tr>
<tr class="separator:a86ec90e265d2179399e7e260d8b99b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc2c5cf72086f7be5ab0360a8b97105"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a></td></tr>
<tr class="separator:a5bc2c5cf72086f7be5ab0360a8b97105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178ed6d4540e6d79c2d6a3df12640c4e"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a178ed6d4540e6d79c2d6a3df12640c4e">AllowedMajorAPIVersion</a> = 1</td></tr>
<tr class="separator:a178ed6d4540e6d79c2d6a3df12640c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070d3f5a7292c22e7cd0a807a8f73e4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">Version</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a></td></tr>
<tr class="separator:a070d3f5a7292c22e7cd0a807a8f73e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f4c90ad2f16211acff4bffd38b63c7"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a66f4c90ad2f16211acff4bffd38b63c7">SCHardReboot</a> = &quot;hard_reboot&quot;</td></tr>
<tr class="separator:a66f4c90ad2f16211acff4bffd38b63c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2da9246c06fca12ffb4cb7a6aef5d8"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5d2da9246c06fca12ffb4cb7a6aef5d8">SCGracefulShutdown</a> = &quot;graceful_shutdown&quot;</td></tr>
<tr class="separator:a5d2da9246c06fca12ffb4cb7a6aef5d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ef61af60718ccb273ad10c9639d2aa"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a14ef61af60718ccb273ad10c9639d2aa">SCWorldAnnounce</a> = &quot;world_announce&quot;</td></tr>
<tr class="separator:a14ef61af60718ccb273ad10c9639d2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8a60fc349ded697f44a0e46e184784"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aba8a60fc349ded697f44a0e46e184784">SCListCustomCommands</a> = &quot;list_custom_commands&quot;</td></tr>
<tr class="separator:aba8a60fc349ded697f44a0e46e184784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56e6ffd2d00621ac72048ff36dbbe89"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa56e6ffd2d00621ac72048ff36dbbe89">SCAPICompat</a> = &quot;api_compat&quot;</td></tr>
<tr class="separator:aa56e6ffd2d00621ac72048ff36dbbe89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860ffd00b1286a975841923fc97b96dc"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a860ffd00b1286a975841923fc97b96dc">SCPlayerCount</a> = &quot;client_count&quot;</td></tr>
<tr class="separator:a860ffd00b1286a975841923fc97b96dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9800fe98bc4ad092f716ffcaf466ec50"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9800fe98bc4ad092f716ffcaf466ec50">SRKillProcess</a> = &quot;killme&quot;</td></tr>
<tr class="separator:a9800fe98bc4ad092f716ffcaf466ec50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e6867184406c444e08d9d9c1516e91d"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6e6867184406c444e08d9d9c1516e91d">SRIRCBroadcast</a> = &quot;irc&quot;</td></tr>
<tr class="separator:a6e6867184406c444e08d9d9c1516e91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3edae60a9304c55a48e8bd50fa0bcf"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3e3edae60a9304c55a48e8bd50fa0bcf">SRIRCAdminChannelMessage</a> = &quot;send2irc&quot;</td></tr>
<tr class="separator:a3e3edae60a9304c55a48e8bd50fa0bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeddee6363c31797b1e8a8d9cbc652fad"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#aeddee6363c31797b1e8a8d9cbc652fad">SRWorldReboot</a> = &quot;worldreboot&quot;</td></tr>
<tr class="separator:aeddee6363c31797b1e8a8d9cbc652fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1881164dde61f3600adee7d595f84d4c"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1881164dde61f3600adee7d595f84d4c">SRAPIVersion</a> = &quot;api_ver&quot;</td></tr>
<tr class="separator:a1881164dde61f3600adee7d595f84d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d937d6309ff1105105779007109e6ce"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0d937d6309ff1105105779007109e6ce">CCPHelpText</a> = &quot;help_text&quot;</td></tr>
<tr class="separator:a0d937d6309ff1105105779007109e6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb628731687d30da37761dcae1389893"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#acb628731687d30da37761dcae1389893">CCPAdminOnly</a> = &quot;admin_only&quot;</td></tr>
<tr class="separator:acb628731687d30da37761dcae1389893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d33a80602850bbfcbc85ea2e1b4e42d"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a3d33a80602850bbfcbc85ea2e1b4e42d">CCPRequiredParameters</a> = &quot;required_parameters&quot;</td></tr>
<tr class="separator:a3d33a80602850bbfcbc85ea2e1b4e42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af07a5ca7e8aeb5612b5333d94275e762"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="class_t_g_service_interface_1_1_command.html">Command</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">ServerChatCommands</a></td></tr>
<tr class="separator:af07a5ca7e8aeb5612b5333d94275e762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7519bc4b8c9476fcd9699385535533"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1b7519bc4b8c9476fcd9699385535533">EventFolder</a> = &quot;EventHandlers/&quot;</td></tr>
<tr class="memdesc:a1b7519bc4b8c9476fcd9699385535533"><td class="mdescLeft">&#160;</td><td class="mdescRight">The instance directory for Preaction handlers  <a href="#a1b7519bc4b8c9476fcd9699385535533">More...</a><br /></td></tr>
<tr class="separator:a1b7519bc4b8c9476fcd9699385535533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4c21888ad433c4c7acf2dd2b8d42a0"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a> = &quot;Repository&quot;</td></tr>
<tr class="memdesc:a8d4c21888ad433c4c7acf2dd2b8d42a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> directory for the repository  <a href="#a8d4c21888ad433c4c7acf2dd2b8d42a0">More...</a><br /></td></tr>
<tr class="separator:a8d4c21888ad433c4c7acf2dd2b8d42a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f336e85da73906127af49b1ec0e591"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591">RepoTGS3SettingsPath</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a> + &quot;/TGS3.json&quot;</td></tr>
<tr class="memdesc:a05f336e85da73906127af49b1ec0e591"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the Repository's <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> json  <a href="#a05f336e85da73906127af49b1ec0e591">More...</a><br /></td></tr>
<tr class="separator:a05f336e85da73906127af49b1ec0e591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62d400cfc5403947bc54bc8cdcb5a178"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178">CachedTGS3SettingsPath</a> = &quot;TGS3.json&quot;</td></tr>
<tr class="memdesc:a62d400cfc5403947bc54bc8cdcb5a178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>'s <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> json  <a href="#a62d400cfc5403947bc54bc8cdcb5a178">More...</a><br /></td></tr>
<tr class="separator:a62d400cfc5403947bc54bc8cdcb5a178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35821203dd193755681a98bb545cd1cb"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a35821203dd193755681a98bb545cd1cb">RepoErrorUpToDate</a> = &quot;Already up to date!&quot;</td></tr>
<tr class="memdesc:a35821203dd193755681a98bb545cd1cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Error message for when a merge operation fails due to the target branch already having the source branch's commits  <a href="#a35821203dd193755681a98bb545cd1cb">More...</a><br /></td></tr>
<tr class="separator:a35821203dd193755681a98bb545cd1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626ed84e545c7f3021b98da532a9c1c4"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a626ed84e545c7f3021b98da532a9c1c4">SSHPushRemote</a> = &quot;ssh_push_target&quot;</td></tr>
<tr class="memdesc:a626ed84e545c7f3021b98da532a9c1c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Git remote for push operations  <a href="#a626ed84e545c7f3021b98da532a9c1c4">More...</a><br /></td></tr>
<tr class="separator:a626ed84e545c7f3021b98da532a9c1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322d0960aa917af28f836c5d9035d2e7"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a322d0960aa917af28f836c5d9035d2e7">RepoKeyDir</a> = &quot;RepoKey/&quot;</td></tr>
<tr class="memdesc:a322d0960aa917af28f836c5d9035d2e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> directory for the repository SSH keys  <a href="#a322d0960aa917af28f836c5d9035d2e7">More...</a><br /></td></tr>
<tr class="separator:a322d0960aa917af28f836c5d9035d2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ab6a2c8f02431003a7b3eee7f453fff"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">PrivateKeyPath</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a322d0960aa917af28f836c5d9035d2e7">RepoKeyDir</a> + &quot;private_key.txt&quot;</td></tr>
<tr class="memdesc:a2ab6a2c8f02431003a7b3eee7f453fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the private ssh-rsa key file  <a href="#a2ab6a2c8f02431003a7b3eee7f453fff">More...</a><br /></td></tr>
<tr class="separator:a2ab6a2c8f02431003a7b3eee7f453fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7181bf579d6d909c916154bbe095d0b"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">PublicKeyPath</a> = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a322d0960aa917af28f836c5d9035d2e7">RepoKeyDir</a> + &quot;public_key.txt&quot;</td></tr>
<tr class="memdesc:ae7181bf579d6d909c916154bbe095d0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path to the public ssh-rsa key file  <a href="#ae7181bf579d6d909c916154bbe095d0b">More...</a><br /></td></tr>
<tr class="separator:ae7181bf579d6d909c916154bbe095d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3e4575d902a3e8650d4734629bd9d9"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a> = &quot;prtestjob.json&quot;</td></tr>
<tr class="memdesc:a5a3e4575d902a3e8650d4734629bd9d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">File name for monitoring which github pull requests are currently test merged  <a href="#a5a3e4575d902a3e8650d4734629bd9d9">More...</a><br /></td></tr>
<tr class="separator:a5a3e4575d902a3e8650d4734629bd9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6940fb33b38a22d9b7b5d55d5e17dbfd"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">LiveTrackingBranch</a> = &quot;___TGSLiveCommitTrackingBranch&quot;</td></tr>
<tr class="memdesc:a6940fb33b38a22d9b7b5d55d5e17dbfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The branch that points to the current commit that is live or staged to be live in DreamDaemon  <a href="#a6940fb33b38a22d9b7b5d55d5e17dbfd">More...</a><br /></td></tr>
<tr class="separator:a6940fb33b38a22d9b7b5d55d5e17dbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad277ad8989796cede1a8160d41805a8b"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad277ad8989796cede1a8160d41805a8b">CommitMessage</a> = &quot;Automatic changelog compile, [ci skip]&quot;</td></tr>
<tr class="memdesc:ad277ad8989796cede1a8160d41805a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit message for <a class="el" href="class_t_g_server_service_1_1_repo_config.html#a651c0720180fbb2fe57296fb37b4617b" title="Paths to commit and push to the remote repository ">RepoConfig.PathsToStage</a>  <a href="#ad277ad8989796cede1a8160d41805a8b">More...</a><br /></td></tr>
<tr class="separator:ad277ad8989796cede1a8160d41805a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7cd7bdfe31916e6818245e2354d0cc"><td class="memItemLeft" align="right" valign="top">object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a> = new object()</td></tr>
<tr class="memdesc:a9b7cd7bdfe31916e6818245e2354d0cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used in conjunction with <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d" title="Used in conjunction with RepoLock for multithreading safety ">RepoBusy</a> for multithreading safety  <a href="#a9b7cd7bdfe31916e6818245e2354d0cc">More...</a><br /></td></tr>
<tr class="separator:a9b7cd7bdfe31916e6818245e2354d0cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5f6fad2c5c52da78eb9d1968c02f9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a> = false</td></tr>
<tr class="memdesc:a6a5f6fad2c5c52da78eb9d1968c02f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used in conjunction with <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> for multithreading safety  <a href="#a6a5f6fad2c5c52da78eb9d1968c02f9d">More...</a><br /></td></tr>
<tr class="separator:a6a5f6fad2c5c52da78eb9d1968c02f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ac726e923f4016b5c65806e5b1fb17"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a96ac726e923f4016b5c65806e5b1fb17">Cloning</a> = false</td></tr>
<tr class="memdesc:a96ac726e923f4016b5c65806e5b1fb17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not a git clone operation is in progress  <a href="#a96ac726e923f4016b5c65806e5b1fb17">More...</a><br /></td></tr>
<tr class="separator:a96ac726e923f4016b5c65806e5b1fb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6088bf51e04fc17da371cc85d1d5df6e"><td class="memItemLeft" align="right" valign="top">Repository&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a></td></tr>
<tr class="memdesc:a6088bf51e04fc17da371cc85d1d5df6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The repository object  <a href="#a6088bf51e04fc17da371cc85d1d5df6e">More...</a><br /></td></tr>
<tr class="separator:a6088bf51e04fc17da371cc85d1d5df6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab294e7b6c6025f2c4f15b8b0dc78ef9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a> = -1</td></tr>
<tr class="memdesc:ab294e7b6c6025f2c4f15b8b0dc78ef9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for reporting operation progress to the <a class="el" href="namespace_t_g_service_interface.html">TGServiceInterface</a>  <a href="#ab294e7b6c6025f2c4f15b8b0dc78ef9e">More...</a><br /></td></tr>
<tr class="separator:ab294e7b6c6025f2c4f15b8b0dc78ef9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae88c3d75e0b20177d4d8ad653e8ea4d1"><td class="memItemLeft" align="right" valign="top">System.Timers.Timer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">autoUpdateTimer</a></td></tr>
<tr class="memdesc:ae88c3d75e0b20177d4d8ad653e8ea4d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for automatically updating the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>  <a href="#ae88c3d75e0b20177d4d8ad653e8ea4d1">More...</a><br /></td></tr>
<tr class="separator:ae88c3d75e0b20177d4d8ad653e8ea4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2fcb5a16e12d1bbaa5bb36ea24afbd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0d2fcb5a16e12d1bbaa5bb36ea24afbd">disposedValue</a> = false</td></tr>
<tr class="memdesc:a0d2fcb5a16e12d1bbaa5bb36ea24afbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">To detect redundant <a class="el" href="class_t_g_server_service_1_1_server_instance.html#af6a2dc31f6dff99061c8cddc5c35b99e" title="Implements the IDisposable pattern ">Dispose()</a> calls  <a href="#a0d2fcb5a16e12d1bbaa5bb36ea24afbd">More...</a><br /></td></tr>
<tr class="separator:a0d2fcb5a16e12d1bbaa5bb36ea24afbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class which holds all interface components. There are no safeguards for call race conditions so these must be guarded against internally </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00014">14</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ad1ddb778169e3f37504360e6850f3b10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">TGServerService.ServerInstance.ShutdownRequestPhase</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ad1ddb778169e3f37504360e6850f3b10a6adf97f83acf6453d4a6a4b1070f3754"></a>None&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ad1ddb778169e3f37504360e6850f3b10afcdf8a82eba24e303b63b2e49a507ecb"></a>Requested&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ad1ddb778169e3f37504360e6850f3b10a5391406caa5d363a29e5217eb25426e3"></a>Pinged&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00017">17</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            None,</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            Requested,</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            Pinged,</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af30b33f85b47517c591e0a2ea5b88fa9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9">TGServerService.ServerInstance.SymbolicLink</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="af30b33f85b47517c591e0a2ea5b88fa9a0b27918290ff5323bea1e3b78a9cf04e"></a>File&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af30b33f85b47517c591e0a2ea5b88fa9ae73cda510e8bb947f7e61089e5581494"></a>Directory&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00018">18</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            File = 0,</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            Directory = 1</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a805c3433c1fd7347b862ba4a3b0ea5f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TGServerService.ServerInstance.ServerInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs and a <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00021">21</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00070">TGServerService.ServerInstance.FindTheDroidsWereLookingFor()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00077">TGServerService.ServerInstance.InitByond()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00025">TGServerService.ServerInstance.InitChat()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00054">TGServerService.ServerInstance.InitCompiler()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>, <a class="el" href="_preaction_handler_8cs_source.html#l00018">TGServerService.ServerInstance.InitEventHandlers()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        {</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a217ecaa0e91ebecb8460f46b992dc09f">FindTheDroidsWereLookingFor</a>();</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac607fbc15cc4048f8f0d19644ee584aa">InitEventHandlers</a>();</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466">InitChat</a>();</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940">InitRepo</a>();</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1f51512799decc40e41edde3d1917d0e">InitByond</a>();</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744">InitCompiler</a>();</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9">InitDreamDaemon</a>();</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a217ecaa0e91ebecb8460f46b992dc09f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a217ecaa0e91ebecb8460f46b992dc09f">TGServerService.ServerInstance.FindTheDroidsWereLookingFor</a></div><div class="ttdeci">string FindTheDroidsWereLookingFor(string search=null)</div><div class="ttdoc">Set TheDroidsWereLookingFor based off either an search ed name or a string SecurityIdentifier from th...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00070">Administration.cs:70</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a61c197535442dd090e429de96abe5466"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466">TGServerService.ServerInstance.InitChat</a></div><div class="ttdeci">void InitChat()</div><div class="ttdoc">Set up the ChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00025">Chat.cs:25</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8fa16abc1470f3a09b8c5da998ad03a9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9">TGServerService.ServerInstance.InitDreamDaemon</a></div><div class="ttdeci">void InitDreamDaemon()</div><div class="ttdoc">Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">DreamDaemon.cs:97</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac607fbc15cc4048f8f0d19644ee584aa"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac607fbc15cc4048f8f0d19644ee584aa">TGServerService.ServerInstance.InitEventHandlers</a></div><div class="ttdeci">void InitEventHandlers()</div><div class="ttdoc">Creates the EventFolder </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00018">PreactionHandler.cs:18</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad6f61d0895428e85ec403dbfd0afe744"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744">TGServerService.ServerInstance.InitCompiler</a></div><div class="ttdeci">void InitCompiler()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00054">Compiler.cs:54</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1f51512799decc40e41edde3d1917d0e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1f51512799decc40e41edde3d1917d0e">TGServerService.ServerInstance.InitByond</a></div><div class="ttdeci">void InitByond()</div><div class="ttdoc">Called when the ServerInstance is setup. Prepares the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00077">Byond.cs:77</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac4444f5e9e540e4d8222da5d9ff42940"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940">TGServerService.ServerInstance.InitRepo</a></div><div class="ttdeci">void InitRepo()</div><div class="ttdoc">Initializes the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">Repository.cs:95</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a805c3433c1fd7347b862ba4a3b0ea5f8_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a805c3433c1fd7347b862ba4a3b0ea5f8_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a805c3433c1fd7347b862ba4a3b0ea5f8_cgraph" id="class_t_g_server_service_1_1_server_instance_a805c3433c1fd7347b862ba4a3b0ea5f8_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a217ecaa0e91ebecb8460f46b992dc09f" title="Set TheDroidsWereLookingFor based off either an search ed name or a string SecurityIdentifier from th..." alt="" coords="264,201,475,243"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a1f51512799decc40e41edde3d1917d0e" title="Called when the ServerInstance is setup. Prepares the BYOND updater " alt="" coords="264,1419,475,1460"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="785,227,996,268"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744" title="TGServerService.ServerInstance.\lInitCompiler" alt="" coords="264,1484,475,1525"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="264,944,475,985"/>
<area shape="rect" id="node39" href="class_t_g_server_service_1_1_server_instance.html#ac607fbc15cc4048f8f0d19644ee584aa" title="Creates the EventFolder " alt="" coords="264,1549,475,1591"/>
<area shape="rect" id="node40" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="264,1353,475,1395"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6" title="Cleans the BYOND staging directory " alt="" coords="785,1620,996,1661"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1325,1471,1499,1512"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1592,1471,1767,1512"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a773aa236fa08157b085162e7c2bdd846" title="Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set ..." alt="" coords="1044,37,1255,79"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1329,580,1495,621"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="1044,136,1255,177"/>
<area shape="rect" id="node20" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a2122897055147b3802364452c169ad64" title="Connects the chat provider if it&#39;s enabled " alt="" coords="1047,201,1252,243"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1596,1229,1763,1271"/>
<area shape="rect" id="node9" href="class_t_g_service_interface_1_1_helpers.html#a81f38322a0d94f1bbeab703eef6902d2" title="Takes ciphertext and entropy from EncryptData(string, out string) and returns the cleartext..." alt="" coords="1321,5,1503,47"/>
<area shape="rect" id="node12" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a9daa1c867f34aec9fa61ac0341f7f581" title="Send a message &#160;to a channel &#160;" alt="" coords="1303,201,1521,243"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1329,820,1495,861"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9" title="TGServerService.ServerInstance.\lLoadServerChatCommands" alt="" coords="1307,136,1517,177"/>
<area shape="rect" id="node18" href="class_t_g_service_interface_1_1_command.html#a47f562a0eb5fb90e46cc5be013a23d03" title="Caller of Run(IList&lt;string&gt;), can be used to modify the root behaviour of the Command ..." alt="" coords="1313,71,1511,112"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="1574,136,1785,177"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="1574,231,1785,272"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1837,231,2048,272"/>
<area shape="rect" id="node19" href="class_t_g_service_interface_1_1_command.html#a3f1078fdaf3e09f73b1c66cc6fd41da5" title="Override to do the actions of the Command " alt="" coords="1569,78,1789,105"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="525,1653,735,1695"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1307,1229,1517,1271"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="1044,689,1255,731"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="525,605,735,647"/>
<area shape="rect" id="node36" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="525,1003,735,1044"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="785,521,996,563"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="1044,521,1255,563"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="785,819,996,860"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="1044,1003,1255,1044"/>
<area shape="rect" id="node33" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="1044,820,1255,861"/>
<area shape="rect" id="node34" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="1044,885,1255,927"/>
<area shape="rect" id="node35" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="1044,755,1255,796"/>
<area shape="rect" id="node32" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="1307,1061,1517,1103"/>
<area shape="rect" id="node37" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677" title="Gets the current status of any BYOND updates &#160;" alt="" coords="785,1116,996,1157"/>
<area shape="rect" id="node38" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="1044,1120,1255,1161"/>
<area shape="rect" id="node41" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07" title="Check if the repository is valid, if not Setup(string, string) must be called &#160;" alt="" coords="525,1353,735,1395"/>
<area shape="rect" id="node42" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="1044,1588,1255,1629"/>
<area shape="rect" id="node43" href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8" title="Turns off the gc.auto git config setting " alt="" coords="523,1419,737,1460"/>
<area shape="rect" id="node44" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="525,1288,735,1329"/>
<area shape="rect" id="node50" href="class_t_g_server_service_1_1_server_instance.html#a627c8818fce3742ee646e0eb08457fce" title="(De)Activate and set the interval for the automatic server updater &#160;" alt="" coords="525,1536,735,1577"/>
<area shape="rect" id="node45" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="785,1383,996,1424"/>
<area shape="rect" id="node49" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="785,1288,996,1329"/>
<area shape="rect" id="node46" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="1044,1288,1255,1329"/>
<area shape="rect" id="node47" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="1044,1353,1255,1395"/>
<area shape="rect" id="node48" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="1044,1471,1255,1512"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a28e22392a22a56807a3c3a6a3a366860"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.ApplyStagedUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to move the staged update from <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a> to <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a" title="The instance directory to store the BYOND installation ">ByondDirectory</a>. Sets <a class="el" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a" title="The last error the BYOND updater encountered ">lastError</a> on failure </p>
<dl class="section return"><dt>Returns</dt><dd>on success,  on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">312</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">TGServerService.ServerInstance.compilerCurrentStatus</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">TGServerService.ServerInstance.CompilerLock</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">TGServerService.ServerInstance.GetVersion()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">TGServerService.ServerInstance.Start()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">TGServerService.ServerInstance.UpdateToVersionImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> == <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Compiling)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> != <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Staged)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Updating;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    Program.DeleteDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">ByondDirectory</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    Directory.Move(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a74331465cc7db01bbb583a5430e6d506">StagingDirectoryInner</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">ByondDirectory</a>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    Program.DeleteDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = null;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;BYOND: Update completed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    Service.WriteInfo(String.Format(<span class="stringliteral">&quot;BYOND update {0} completed!&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68">GetVersion</a>(<a class="code" href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">ByondVersion</a>.Installed)), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.BYONDUpdateComplete);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = e.ToString();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;BYOND: Update failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    Service.WriteError(<span class="stringliteral">&quot;BYOND update failed! Error: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.BYONDUpdateFail);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    lock(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Idle;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a63d04056dea64487e7eaed6b26b57e3a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">TGServerService.ServerInstance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a7610968e566eeb321fee2adba3fbf107"><div class="ttname"><a href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">TGServiceInterface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00036">Enumerations.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_adcc40d967672331fc5578d052f20743a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">TGServerService.ServerInstance.lastError</a></div><div class="ttdeci">string lastError</div><div class="ttdoc">The last error the BYOND updater encountered </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00068">Byond.cs:68</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaf67da3d367607fac5b98d52feed5efe"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">TGServerService.ServerInstance.StagingDirectory</a></div><div class="ttdeci">const string StagingDirectory</div><div class="ttdoc">The instance directory to use when updating the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00022">Byond.cs:22</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af1c6e932aa16d25cbe05b86e896f3935"><div class="ttname"><a href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">TGServiceInterface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00006">Enumerations.cs:6</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae64d03735cb348d0d162e493bf9b3f68"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68">TGServerService.ServerInstance.GetVersion</a></div><div class="ttdeci">string GetVersion(ByondVersion type)</div><div class="ttdoc">Get the currently installed version as a string formatted as Major.Minor  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">Byond.cs:148</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773bda7930c58a1def918b077efcf2a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">TGServerService.ServerInstance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a74331465cc7db01bbb583a5430e6d506"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a74331465cc7db01bbb583a5430e6d506">TGServerService.ServerInstance.StagingDirectoryInner</a></div><div class="ttdeci">const string StagingDirectoryInner</div><div class="ttdoc">Path to the actual BYOND installation within the StagingDirectory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00026">Byond.cs:26</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_cgraph" id="class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="282,5,457,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="286,201,453,243"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,267,453,308"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="523,5,697,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="527,136,693,177"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_icgraph" id="class_t_g_server_service_1_1_server_instance_a28e22392a22a56807a3c3a6a3a366860_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="264,136,475,177"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="781,5,992,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="523,136,733,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a97edeb7df9c8724e8ff55cb5438afba6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.Autostart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the watchdog will start when the service starts  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a1ee29f4234be00ac262c83cba26564c1">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00639">639</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.DDAutoStart;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3d7ba7f77403bfeb9074759fc5b3e64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulong TGServerService.ServerInstance.AutoUpdateInterval </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current autoupdate interval  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a55f09a1e511d89d6af22f8cfa2c51c80">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01268">1268</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.AutoUpdateInterval;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0d1ea78a382258b4ddcf815cb23f7ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.AutoUpdateTimer_Elapsed </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">System.Timers.ElapsedEventArgs&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs on the configured Properties.Settings.AutoUpdateInterval and tries to <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch  ">Update(bool)</a> and <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a> the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>A System.Timers.Timer</td></tr>
    <tr><td class="paramname">e</td><td>The event arguments</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01278">1278</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00571">TGServerService.ServerInstance.Compile()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        {</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a">UpdateImpl</a>(<span class="keyword">true</span>, <span class="keyword">false</span>) == null)</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40">Compile</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa1258b6c6ba7f13a930e4f1c892e5b2a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a">TGServerService.ServerInstance.UpdateImpl</a></div><div class="ttdeci">string UpdateImpl(bool reset, bool successOnUpToDate)</div><div class="ttdoc">Fetches the origin and merges it into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">Repository.cs:576</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_afdd737c980b2c078c2de10a57dc4ad40"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40">TGServerService.ServerInstance.Compile</a></div><div class="ttdeci">bool Compile(bool silent=false)</div><div class="ttdoc">Does all the necessary actions to take the revision currently in the repository and compile it to be ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00571">Compiler.cs:571</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_cgraph" id="class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="264,707,475,748"/>
<area shape="rect" id="node32" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="523,336,733,377"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="523,1047,733,1088"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="781,1572,992,1613"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="781,1507,992,1548"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="1040,1584,1251,1625"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="781,959,992,1000"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1040,351,1251,392"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1321,451,1487,492"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="781,1259,992,1300"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="1040,1193,1251,1235"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1058,551,1233,592"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="799,893,974,935"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="781,1324,992,1365"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="1040,893,1251,935"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1321,831,1487,872"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae" title="Returns the relative path of the dme the compiler will look for without the .dme part &#160;..." alt="" coords="781,1441,992,1483"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1062,683,1229,724"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="781,1076,992,1117"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="781,828,992,869"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="781,1141,992,1183"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424" title="Updates LiveTrackingBranch with the staged Compile(bool)&#39;s SHA " alt="" coords="1040,1389,1251,1431"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="1299,1324,1509,1365"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc" title="TGServerService.ServerInstance.\lInvertDirectory" alt="" coords="1040,1259,1251,1300"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="1299,1193,1509,1235"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1317,551,1491,592"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="1058,828,1233,869"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="1040,1324,1251,1365"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="1040,959,1251,1000"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="1299,929,1509,971"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="1557,959,1768,1000"/>
<area shape="rect" id="node33" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="781,37,992,79"/>
<area shape="rect" id="node37" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="1040,285,1251,327"/>
<area shape="rect" id="node38" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="781,391,992,432"/>
<area shape="rect" id="node39" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="781,508,992,549"/>
<area shape="rect" id="node40" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="781,172,992,213"/>
<area shape="rect" id="node34" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="1040,37,1251,79"/>
<area shape="rect" id="node35" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node36" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node41" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="1040,220,1251,261"/>
<area shape="rect" id="node42" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="1040,155,1251,196"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_icgraph" id="class_t_g_server_service_1_1_server_instance_af0d1ea78a382258b4ddcf815cb23f7ba_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15a3ebcbd0237e65264d9ca2533291ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.BackupAndDeleteStaticDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies the Static directory to the first available Static_BACKUP path in the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> then deleted the old directory </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00293">293</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00089">TGServerService.Program.CopyDirectory()</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00026">TGServerService.ServerInstance.StaticBackupDir</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">TGServerService.ServerInstance.StaticDirs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00271">TGServerService.ServerInstance.RecreateStaticFolder()</a>.</p>
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>))</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keywordtype">int</span> count = 1;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordtype">string</span> path = Path.GetDirectoryName(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae65be76d9379b4c23864048a54032e76">StaticBackupDir</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordtype">string</span> newFullPath = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae65be76d9379b4c23864048a54032e76">StaticBackupDir</a>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">while</span> (File.Exists(newFullPath) || Directory.Exists(newFullPath))</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    <span class="keywordtype">string</span> tempDirName = <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;{0}({1})&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae65be76d9379b4c23864048a54032e76">StaticBackupDir</a>, count++);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    newFullPath = Path.Combine(path, tempDirName);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                Program.CopyDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>, newFullPath);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            Program.DeleteDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae65be76d9379b4c23864048a54032e76"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae65be76d9379b4c23864048a54032e76">TGServerService.ServerInstance.StaticBackupDir</a></div><div class="ttdeci">const string StaticBackupDir</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00026">Compiler.cs:26</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_cgraph" id="class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="265,5,440,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="265,71,440,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="488,5,663,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="488,71,663,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_icgraph" id="class_t_g_server_service_1_1_server_instance_a15a3ebcbd0237e65264d9ca2533291ce_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="265,5,476,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aeb8f7b25f00c15aed0b80f2e0cff6ef4" title="Renames the current static folder to a backup name and recreates is from the current repo using TGS3..." alt="" coords="265,71,476,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="524,5,735,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a05bc0ce5b4867dfd63385a30bf713f9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.BusyCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the updater is considered busy </p>
<dl class="section return"><dt>Returns</dt><dd>if the updater is considered busy,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00110">110</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00290">TGServerService.ServerInstance.UpdateToVersion()</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                switch (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a>)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Starting:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Downloading:</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Staging:</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Updating:</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Idle:</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Staged:</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div><div class="ttc" id="namespace_t_g_service_interface_html_af1c6e932aa16d25cbe05b86e896f3935"><div class="ttname"><a href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">TGServiceInterface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00006">Enumerations.cs:6</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773bda7930c58a1def918b077efcf2a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">TGServerService.ServerInstance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a05bc0ce5b4867dfd63385a30bf713f9e_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a05bc0ce5b4867dfd63385a30bf713f9e_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a05bc0ce5b4867dfd63385a30bf713f9e_icgraph" id="class_t_g_server_service_1_1_server_instance_a05bc0ce5b4867dfd63385a30bf713f9e_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d503c183dc730ccdf2d396ab4306a89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels the current compilation </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a4a3144fa98edacebae7f884657047c96">TGServiceInterface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00604">604</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Compiling)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid state for cancellation!&quot;</span>;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">compilationCancellationRequestation</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">canCancelCompilation</a>)</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a>.Abort();</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Compilation will be cancelled when the repo copy is complete&quot;</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a65f620ffb3b9d255d551adc32cf2015e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">TGServerService.ServerInstance.compilationCancellationRequestation</a></div><div class="ttdeci">bool compilationCancellationRequestation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00047">Compiler.cs:47</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d44f07976a3c02b441bbc108ee0473a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">TGServerService.ServerInstance.canCancelCompilation</a></div><div class="ttdeci">bool canCancelCompilation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00048">Compiler.cs:48</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7276f1afc5e4e29a3dd7ecbc324b1661"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">TGServerService.ServerInstance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00046">Compiler.cs:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8873c339ff5b486413e175ac87310be6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.CanStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a call to <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a39b8c7109599ec81b54524dbda335776" title="Starts the server if it isn&#39;t running ">Start</a> will fail. Of course, be aware of race conditions with other interfaces  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a29a74306b37473452e2b5f8d1a39e715">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00467">467</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">TGServerService.ServerInstance.GameDirLive</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">TGServerService.ServerInstance.GetVersion()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">TGServerService.ServerInstance.Start()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68">GetVersion</a>(<a class="code" href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">ByondVersion</a>.Installed) == null)</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Byond is not installed!&quot;</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            var DMB = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a> + <span class="stringliteral">&quot;/&quot;</span> + Properties.Settings.Default.ProjectName + <span class="stringliteral">&quot;.dmb&quot;</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(DMB))</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Unable to find {0}!&quot;</span>, DMB);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div><div class="ttc" id="namespace_t_g_service_interface_html_a7610968e566eeb321fee2adba3fbf107"><div class="ttname"><a href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">TGServiceInterface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00036">Enumerations.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae64d03735cb348d0d162e493bf9b3f68"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68">TGServerService.ServerInstance.GetVersion</a></div><div class="ttdeci">string GetVersion(ByondVersion type)</div><div class="ttdoc">Get the currently installed version as a string formatted as Major.Minor  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">Byond.cs:148</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6dc8ecb836197d4e0a889d8b8944237a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">TGServerService.ServerInstance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">Compiler.cs:33</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_cgraph" id="class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_icgraph" id="class_t_g_server_service_1_1_server_instance_a8873c339ff5b486413e175ac87310be6_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,68,475,109"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="781,71,992,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="781,5,992,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1557,5,1768,47"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,71,733,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff49184e8ceaf6099708b568f09fc4fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.ChatConnectivityCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00202">202</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00191">TGServerService.ServerInstance.Connected()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00210">TGServerService.ServerInstance.Reconnect()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a> I <span class="keywordflow">in</span> Enum.GetValues(typeof(<a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>)))</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">if</span>(!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0e0f4e5e2bc887424d28ee1d69739259">Connected</a>(I))</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae7c04a7b9b01bd0a9bf1a329c9643eaa">Reconnect</a>(I);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div><div class="ttc" id="namespace_t_g_service_interface_html_a383af7e89a74270e05065b7f1bed06a4"><div class="ttname"><a href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">TGServiceInterface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00054">Enumerations.cs:54</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae7c04a7b9b01bd0a9bf1a329c9643eaa"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae7c04a7b9b01bd0a9bf1a329c9643eaa">TGServerService.ServerInstance.Reconnect</a></div><div class="ttdeci">string Reconnect(ChatProvider providerType)</div><div class="ttdoc">Reconnect a specific providerType  to it&amp;#39;s chat service  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00210">Chat.cs:210</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0e0f4e5e2bc887424d28ee1d69739259"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0e0f4e5e2bc887424d28ee1d69739259">TGServerService.ServerInstance.Connected</a></div><div class="ttdeci">bool Connected(ChatProvider providerType)</div><div class="ttdoc">Checks connection status  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00191">Chat.cs:191</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_cgraph" id="class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a0e0f4e5e2bc887424d28ee1d69739259" title="Checks connection status &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae7c04a7b9b01bd0a9bf1a329c9643eaa" title="Reconnect a specific providerType &#160;to it&#39;s chat service &#160;" alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_icgraph" id="class_t_g_server_service_1_1_server_instance_aff49184e8ceaf6099708b568f09fc4fa_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a74914da816161c02d9833216fbcb0e25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.ChatProvider_OnChatMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a>&#160;</td>
          <td class="paramname"><em>ChatProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>speaker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isAdmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isAdminChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of OnChatMessage that recieves messages from all channels of all connected <a class="el" href="namespace_t_g_server_service_1_1_chat_providers.html">ChatProviders</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ChatProvider</td><td>The IChatProvider that heard the <em>message</em> </td></tr>
    <tr><td class="paramname">speaker</td><td>The user who wrote the <em>message</em> </td></tr>
    <tr><td class="paramname">channel</td><td>The channel the <em>message</em>  is from</td></tr>
    <tr><td class="paramname">message</td><td>The recieved message</td></tr>
    <tr><td class="paramname">isAdmin</td><td>if <em>speaker</em>  is considered a chat admin,  otherwise</td></tr>
    <tr><td class="paramname">isAdminChannel</td><td>if <em>channel</em>  is an admin channel,  otherwise</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00069">69</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_chat_command_8cs_source.html#l00015">TGServerService.ChatCommands.ChatCommand.CommandInfo</a>, <a class="el" href="_command_8cs_source.html#l00059">TGServiceInterface.Command.DoRun()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00047">TGServerService.ServerInstance.LoadServerChatCommands()</a>, <a class="el" href="_command_8cs_source.html#l00037">TGServiceInterface.Command.OutputProcVar</a>, <a class="el" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a9daa1c867f34aec9fa61ac0341f7f581">TGServerService.ChatProviders.IChatProvider.SendMessageDirect()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00045">TGServerService.ServerInstance.ServerChatCommands</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00025">TGServerService.ServerInstance.InitChat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            var splits = message.Trim().Split(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">if</span> (splits.Length == 1 &amp;&amp; splits[0] == <span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                ChatProvider.<a class="code" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a9daa1c867f34aec9fa61ac0341f7f581">SendMessageDirect</a>(<span class="stringliteral">&quot;Hi!&quot;</span>, channel);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            var asList = <span class="keyword">new</span> List&lt;string&gt;(splits);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="class_t_g_service_interface_1_1_command.html">Command</a>.<a class="code" href="class_t_g_service_interface_1_1_command.html#a91dc14e80c3f2f3813088fed664c3f9e">OutputProcVar</a>.Value = (m) =&gt; ChatProvider.<a class="code" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a9daa1c867f34aec9fa61ac0341f7f581">SendMessageDirect</a>(m, channel);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_chat_commands_1_1_chat_command.html">ChatCommand</a>.<a class="code" href="class_t_g_server_service_1_1_chat_commands_1_1_chat_command.html#a935845af5cf01dfc8f34224d9311e5a3">CommandInfo</a>.Value = <span class="keyword">new</span> <a class="code" href="class_t_g_server_service_1_1_chat_commands_1_1_command_info.html">CommandInfo</a>()</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                IsAdmin = isAdmin,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                IsAdminChannel = isAdminChannel,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                Speaker = speaker,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                Server = <span class="keyword">this</span>,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            };</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            Service.WriteInfo(String.Format(<span class="stringliteral">&quot;Chat Command from {0} ({2}): {1}&quot;</span>, speaker, String.Join(<span class="stringliteral">&quot; &quot;</span>, asList), channel), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ChatCommand);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">ServerChatCommands</a> == null)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9">LoadServerChatCommands</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keyword">new</span> <a class="code" href="class_t_g_server_service_1_1_chat_commands_1_1_root_chat_command.html">RootChatCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">ServerChatCommands</a>).<a class="code" href="class_t_g_service_interface_1_1_command.html#a47f562a0eb5fb90e46cc5be013a23d03">DoRun</a>(asList);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_chat_commands_1_1_chat_command_html_a935845af5cf01dfc8f34224d9311e5a3"><div class="ttname"><a href="class_t_g_server_service_1_1_chat_commands_1_1_chat_command.html#a935845af5cf01dfc8f34224d9311e5a3">TGServerService.ChatCommands.ChatCommand.CommandInfo</a></div><div class="ttdeci">static ThreadLocal&lt; CommandInfo &gt; CommandInfo</div><div class="ttdoc">CommandInfo for the ChatCommand </div><div class="ttdef"><b>Definition:</b> <a href="_chat_command_8cs_source.html#l00015">ChatCommand.cs:15</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_chat_commands_1_1_chat_command_html"><div class="ttname"><a href="class_t_g_server_service_1_1_chat_commands_1_1_chat_command.html">TGServerService.ChatCommands.ChatCommand</a></div><div class="ttdoc">A command heard by a ChatProviders.IChatProvider </div><div class="ttdef"><b>Definition:</b> <a href="_chat_command_8cs_source.html#l00010">ChatCommand.cs:10</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af07a5ca7e8aeb5612b5333d94275e762"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">TGServerService.ServerInstance.ServerChatCommands</a></div><div class="ttdeci">List&lt; Command &gt; ServerChatCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00045">Interop.cs:45</a></div></div>
<div class="ttc" id="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider_html_a9daa1c867f34aec9fa61ac0341f7f581"><div class="ttname"><a href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a9daa1c867f34aec9fa61ac0341f7f581">TGServerService.ChatProviders.IChatProvider.SendMessageDirect</a></div><div class="ttdeci">string SendMessageDirect(string message, string channel)</div><div class="ttdoc">Send a message  to a channel  </div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_command_html_a47f562a0eb5fb90e46cc5be013a23d03"><div class="ttname"><a href="class_t_g_service_interface_1_1_command.html#a47f562a0eb5fb90e46cc5be013a23d03">TGServiceInterface.Command.DoRun</a></div><div class="ttdeci">virtual ExitCode DoRun(IList&lt; string &gt; parameters)</div><div class="ttdoc">Caller of Run(IList&lt;string&gt;), can be used to modify the root behaviour of the Command ...</div><div class="ttdef"><b>Definition:</b> <a href="_command_8cs_source.html#l00059">Command.cs:59</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_command_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_command.html">TGServiceInterface.Command</a></div><div class="ttdoc">Helper for creating a text Command tree </div><div class="ttdef"><b>Definition:</b> <a href="_command_8cs_source.html#l00010">Command.cs:10</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_command_html_a91dc14e80c3f2f3813088fed664c3f9e"><div class="ttname"><a href="class_t_g_service_interface_1_1_command.html#a91dc14e80c3f2f3813088fed664c3f9e">TGServiceInterface.Command.OutputProcVar</a></div><div class="ttdeci">static ThreadLocal&lt; Action&lt; string &gt; &gt; OutputProcVar</div><div class="ttdoc">Proc that will show a message to the Command invoker. Do not call directly, use OutputProc(string) in...</div><div class="ttdef"><b>Definition:</b> <a href="_command_8cs_source.html#l00037">Command.cs:37</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_chat_commands_1_1_root_chat_command_html"><div class="ttname"><a href="class_t_g_server_service_1_1_chat_commands_1_1_root_chat_command.html">TGServerService.ChatCommands.RootChatCommand</a></div><div class="ttdoc">The main root chat command </div><div class="ttdef"><b>Definition:</b> <a href="_root_chat_command_8cs_source.html#l00009">RootChatCommand.cs:9</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_chat_commands_1_1_command_info_html"><div class="ttname"><a href="class_t_g_server_service_1_1_chat_commands_1_1_command_info.html">TGServerService.ChatCommands.CommandInfo</a></div><div class="ttdoc">Metadata about the currently running ChatCommand </div><div class="ttdef"><b>Definition:</b> <a href="_command_info_8cs_source.html#l00006">CommandInfo.cs:6</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3a991f102faacdca2faec4a3fd92d9a9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9">TGServerService.ServerInstance.LoadServerChatCommands</a></div><div class="ttdeci">void LoadServerChatCommands()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00047">Interop.cs:47</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_cgraph" id="class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_cgraph">
<area shape="rect" id="node2" href="class_t_g_service_interface_1_1_command.html#a47f562a0eb5fb90e46cc5be013a23d03" title="Caller of Run(IList&lt;string&gt;), can be used to modify the root behaviour of the Command ..." alt="" coords="275,5,472,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9" title="TGServerService.ServerInstance.\lLoadServerChatCommands" alt="" coords="268,71,479,112"/>
<area shape="rect" id="node9" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a9daa1c867f34aec9fa61ac0341f7f581" title="Send a message &#160;to a channel &#160;" alt="" coords="264,136,483,177"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="290,201,457,243"/>
<area shape="rect" id="node3" href="class_t_g_service_interface_1_1_command.html#a3f1078fdaf3e09f73b1c66cc6fd41da5" title="Override to do the actions of the Command " alt="" coords="531,13,751,39"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="535,68,746,109"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="535,133,746,175"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="799,133,1009,175"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1057,133,1268,175"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_icgraph" id="class_t_g_server_service_1_1_server_instance_a74914da816161c02d9833216fbcb0e25_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a5e21a235e202744184c8e25a6a5d86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override bool TGServerService.ServerInstance.CheckAccessCore </td>
          <td>(</td>
          <td class="paramtype">OperationContext&#160;</td>
          <td class="paramname"><em>operationContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by WCF whenever a component call is made. Checks to see that the supplied user account has access to the requested component </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operationContext</td><td>Various parameters about the operation supplied by WCF</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the supplied user account may use the requested component,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00101">101</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00032">TGServerService.ServerInstance.ServiceSID</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00068">TGServerService.Service.WriteAccess()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            var contract = operationContext.EndpointDispatcher.ContractName;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">if</span> (contract == typeof(<a class="code" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html">ITGConnectivity</a>).Name)   <span class="comment">//always allow connectivity checks</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            var windowsIdent = operationContext.ServiceSecurityContext.WindowsIdentity;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">if</span> (contract == typeof(<a class="code" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_interop.html">ITGInterop</a>).Name)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            {    </div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="comment">//only allow the same user the service is running as to use interop, because that&#39;s what DD is running as, and don&#39;t spam the logs with it unless it fails</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                var result = windowsIdent.User == <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a27f51f5fdaedcb7b20c19cb507ae0940">ServiceSID</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">if</span>(!result)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    Service.WriteAccess(windowsIdent.Name, <span class="keyword">false</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            var wp = <span class="keyword">new</span> WindowsPrincipal(windowsIdent);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="comment">//first allow admins</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            var authSuccess = wp.IsInRole(WindowsBuiltInRole.Administrator);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="comment">//if we&#39;re not an admin, check that we aren&#39;t trying to access the admin interface</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">if</span> (!authSuccess &amp;&amp; operationContext.EndpointDispatcher.ContractName != typeof(<a class="code" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html">ITGAdministration</a>).Name &amp;&amp; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TheDroidsWereLookingFor</a> != null)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                authSuccess = wp.IsInRole(<span class="keyword">new</span> SecurityIdentifier(Properties.Settings.Default.AuthorizedGroupSID));</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3d9e7ee0d819cee495bd78f9a54c46fd">authLock</a>)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                var user = windowsIdent.Name;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1859affa82dede4f2ed907a7d6958529">LastSeenUser</a> != user)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1859affa82dede4f2ed907a7d6958529">LastSeenUser</a> = user;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    Service.WriteAccess(user, authSuccess);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">return</span> authSuccess;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a27f51f5fdaedcb7b20c19cb507ae0940"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a27f51f5fdaedcb7b20c19cb507ae0940">TGServerService.ServerInstance.ServiceSID</a></div><div class="ttdeci">readonly SecurityIdentifier ServiceSID</div><div class="ttdoc">The SecurityIdentifier of the account the Service is running as </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00032">Administration.cs:32</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a099e2fa5d7fe81467538a56467c9906c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TGServerService.ServerInstance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00019">Administration.cs:19</a></div></div>
<div class="ttc" id="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity_html"><div class="ttname"><a href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html">TGServiceInterface.Components.ITGConnectivity</a></div><div class="ttdoc">Used for testing connections to the service without authentication </div><div class="ttdef"><b>Definition:</b> <a href="_connectivity_8cs_source.html#l00009">Connectivity.cs:9</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1859affa82dede4f2ed907a7d6958529"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1859affa82dede4f2ed907a7d6958529">TGServerService.ServerInstance.LastSeenUser</a></div><div class="ttdeci">string LastSeenUser</div><div class="ttdoc">The WindowsIdentity.Name of the last WindowsIdentity to attempt to access the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00027">Administration.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration_html"><div class="ttname"><a href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html">TGServiceInterface.Components.ITGAdministration</a></div><div class="ttdoc">Manage the group that is used to access the service, can only be used by an administrator ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_service_interface_2_components_2_administration_8cs_source.html#l00009">Administration.cs:9</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3d9e7ee0d819cee495bd78f9a54c46fd"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3d9e7ee0d819cee495bd78f9a54c46fd">TGServerService.ServerInstance.authLock</a></div><div class="ttdeci">object authLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00023">Administration.cs:23</a></div></div>
<div class="ttc" id="interface_t_g_service_interface_1_1_components_1_1_i_t_g_interop_html"><div class="ttname"><a href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_interop.html">TGServiceInterface.Components.ITGInterop</a></div><div class="ttdoc">Used by DD to access the interop API with call()() </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_service_interface_2_components_2_interop_8cs_source.html#l00009">Interop.cs:9</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a7a5e21a235e202744184c8e25a6a5d86_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a7a5e21a235e202744184c8e25a6a5d86_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a7a5e21a235e202744184c8e25a6a5d86_cgraph" id="class_t_g_server_service_1_1_server_instance_a7a5e21a235e202744184c8e25a6a5d86_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a5f6ad886bff03e90360d6ea8fc0c94ad" title="Writes an access event to the Windows event log " alt="" coords="264,5,431,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a84e536f3c962184942e7a5b01bc9ffad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.CheckAPIVersionConstraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00154">154</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00024">TGServerService.ServerInstance.AllowedMajorAPIVersion</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00162">TGServerService.ServerInstance.SendTopic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="comment">//major will never change for all of TGS3</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="comment">//we treat minor as major, build as minor, and revision as patch</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">return</span> !(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a> == null || <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a>.Minor != <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a178ed6d4540e6d79c2d6a3df12640c4e">AllowedMajorAPIVersion</a>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a070d3f5a7292c22e7cd0a807a8f73e4a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">TGServerService.ServerInstance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00025">Interop.cs:25</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a178ed6d4540e6d79c2d6a3df12640c4e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a178ed6d4540e6d79c2d6a3df12640c4e">TGServerService.ServerInstance.AllowedMajorAPIVersion</a></div><div class="ttdeci">const int AllowedMajorAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00024">Interop.cs:24</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a84e536f3c962184942e7a5b01bc9ffad_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a84e536f3c962184942e7a5b01bc9ffad_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a84e536f3c962184942e7a5b01bc9ffad_icgraph" id="class_t_g_server_service_1_1_server_instance_a84e536f3c962184942e7a5b01bc9ffad_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="2075,51,2285,93"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="264,134,475,175"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="2333,51,2544,93"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="523,226,733,267"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="781,193,992,234"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a14fda24298442826a3f5ec506f94c4b3" title="Stop the server after the currently running world reboots. Has no effect if the server isn&#39;t running ..." alt="" coords="781,258,992,299"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="781,371,992,413"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90" title="Sends a message to everyone on the server &#160;" alt="" coords="781,535,992,577"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9" title="TGServerService.ServerInstance.\lLoadServerChatCommands" alt="" coords="781,462,992,503"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ad4283de03ea6d7f96473c41aa91e5741" title="Returns the number of connected players. Requires game to use API version &gt;= 3.1.0.1 " alt="" coords="781,43,992,85"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="1040,241,1251,282"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a62a876e7b45a0668c0a545d6c168ab54" title="Set the port to host DD on. Requires reboot to apply. Calls RequestRestart. &#160;" alt="" coords="1040,306,1251,347"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a9922a66137753d8a21b965fff7469989" title="Sets the security level of the server. Requires server reboot to apply. Calls RequestRestart. Note that anything higher than Trusted will disable interop from DD &#160;" alt="" coords="1040,110,1251,151"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ac71b088f4e5df4f6925e522759e4093d" title="Set the webclient config. Calls RequestRestart &#160;" alt="" coords="1040,175,1251,217"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="1299,241,1509,282"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="1557,423,1768,465"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="1040,371,1251,413"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1816,455,2027,497"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="1299,371,1509,413"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="1557,234,1768,275"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1816,171,2027,213"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="1040,549,1251,590"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="1299,554,1509,595"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="1557,554,1768,595"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="1299,489,1509,530"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="1557,489,1768,530"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abb15a58ceeba5348ec583a2df907350f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Checkout </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>sha</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hard checks out the passed object name  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a553b4eb0116a9c72f051d9f660e937a2">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00492">492</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">TGServerService.ServerInstance.Fetch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00209">TGServerService.ServerInstance.HandleCheckoutProgress()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">TGServerService.ServerInstance.ResetNoLock()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">TGServerService.ServerInstance.UpdateSubmodules()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">if</span> (sha == <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">LiveTrackingBranch</a>)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;I&#39;m sorry Dave, I&#39;m afraid I can&#39;t do that...&quot;</span>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                var result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: Checking out object: &quot;</span> + sha, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches[sha] == null)</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                    {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                        <span class="comment">//see if origin has the branch</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                        result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e">Fetch</a>();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                        var trackedBranch = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches[String.Format(<span class="stringliteral">&quot;origin/{0}&quot;</span>, sha)];</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        <span class="keywordflow">if</span> (trackedBranch != null)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                            var newBranch = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.CreateBranch(sha, trackedBranch.Tip);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                            <span class="comment">//track it</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches.Update(newBranch, b =&gt; b.TrackedBranch = trackedBranch.CanonicalName);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                        }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                    }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                    var Opts = <span class="keyword">new</span> CheckoutOptions()</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                    {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        CheckoutModifiers = CheckoutModifiers.Force,</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        OnCheckoutProgress = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a">HandleCheckoutProgress</a>,</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    };</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    Commands.Checkout(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>, sha, Opts);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">ResetNoLock</a>(null);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">UpdateSubmodules</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: Checkout complete!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Repo checked out &quot;</span> + sha, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoCheckout);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: Checkout failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                    Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Repo checkout of {0} failed: {1}&quot;</span>, sha, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoCheckoutFail);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6940fb33b38a22d9b7b5d55d5e17dbfd"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">TGServerService.ServerInstance.LiveTrackingBranch</a></div><div class="ttdeci">const string LiveTrackingBranch</div><div class="ttdoc">The branch that points to the current commit that is live or staged to be live in DreamDaemon ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00056">Repository.cs:56</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a971b17056739405a3d2b598ebd1be27a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a">TGServerService.ServerInstance.HandleCheckoutProgress</a></div><div class="ttdeci">void HandleCheckoutProgress(string path, int completedSteps, int totalSteps)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo checkout operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00209">Repository.cs:209</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac5ddb16ab8332882d6bdf2be41d3e56"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">TGServerService.ServerInstance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">Repository.cs:475</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af8f4334b030e4cddf3f643aedc84f59e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e">TGServerService.ServerInstance.Fetch</a></div><div class="ttdeci">string Fetch()</div><div class="ttdoc">Fetches origin </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">Repository.cs:994</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a95d603da4a4dcd14255f39bbf59931ad"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">TGServerService.ServerInstance.UpdateSubmodules</a></div><div class="ttdeci">void UpdateSubmodules()</div><div class="ttdoc">Properly updates any git submodules in the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">Repository.cs:627</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abb15a58ceeba5348ec583a2df907350f_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abb15a58ceeba5348ec583a2df907350f_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abb15a58ceeba5348ec583a2df907350f_cgraph" id="class_t_g_server_service_1_1_server_instance_abb15a58ceeba5348ec583a2df907350f_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="264,37,475,79"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="264,103,475,144"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,168,475,209"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="264,233,475,275"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="523,351,733,392"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="803,351,970,392"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="264,401,475,443"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,467,453,508"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="523,37,733,79"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="781,71,992,112"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="541,468,715,509"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="799,468,974,509"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeb74a8b873f824856be5c08172e23c5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TGServerService.ServerInstance.CheckoutProgress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the progress of repository operations, not all operations are supported  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#ad2e290f05eff65957c6813ff77294f29">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00145">145</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">TGServerService.ServerInstance.currentProgress</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab294e7b6c6025f2c4f15b8b0dc78ef9e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">TGServerService.ServerInstance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGServiceInterface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">Repository.cs:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1540f43c11b3123d35007af7d56567b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.CleanByondStaging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans the BYOND staging directory </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00085">85</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00096">TGServerService.ServerInstance.DisposeByond()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00077">TGServerService.ServerInstance.InitByond()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">TGServerService.ServerInstance.UpdateToVersionImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="comment">//linger not</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">RevisionDownloadPath</a>))</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                File.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">RevisionDownloadPath</a>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            Program.DeleteDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaf67da3d367607fac5b98d52feed5efe"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">TGServerService.ServerInstance.StagingDirectory</a></div><div class="ttdeci">const string StagingDirectory</div><div class="ttdoc">The instance directory to use when updating the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00022">Byond.cs:22</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aae957ffd2966d65e145b02b490d3710e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">TGServerService.ServerInstance.RevisionDownloadPath</a></div><div class="ttdeci">const string RevisionDownloadPath</div><div class="ttdoc">The path in the instance directory to store the downloaded BYOND revision </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00030">Byond.cs:30</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_cgraph" id="class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="264,5,439,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="487,5,661,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_icgraph" id="class_t_g_server_service_1_1_server_instance_a1540f43c11b3123d35007af7d56567b6_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a0ae469ca70e8869f5f5ed794d7fe4ce5" title="Called when the ServerInstance is shutdown " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a1f51512799decc40e41edde3d1917d0e" title="Called when the ServerInstance is setup. Prepares the BYOND updater " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="264,136,475,177"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="781,5,992,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="523,71,733,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="523,136,733,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af08b470db051748bc99e830bd263d215"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.CleanGameFolder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00140">140</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>)))</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                Directory.Delete(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>));</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>)))</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                Directory.Delete(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>));</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (Directory.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>))</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                Directory.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7a81324e1e1171c1d2d2adc35b105e62"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">TGServerService.ServerInstance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1ab16aa5c7a41006e221acf710131efe"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">TGServerService.ServerInstance.InterfaceDLLName</a></div><div class="ttdeci">const string InterfaceDLLName</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6dc8ecb836197d4e0a889d8b8944237a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">TGServerService.ServerInstance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">Compiler.cs:33</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c6bafbaf5618ced251442f5e66fa89c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">TGServerService.ServerInstance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af08b470db051748bc99e830bd263d215_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af08b470db051748bc99e830bd263d215_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af08b470db051748bc99e830bd263d215_icgraph" id="class_t_g_server_service_1_1_server_instance_af08b470db051748bc99e830bd263d215_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aa8a3c62ea83e029263e21654e184ab80" title="Moves the entire server installation, requires no operations to be running &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a56cc1fde0f34afba7b1f209a35b25247"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.CleanGameFolderList </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>GameDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IList&lt; string &gt;&#160;</td>
          <td class="paramname"><em>theList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00129">129</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> theList)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                var the_path = Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a>, I);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">if</span> (Directory.Exists(the_path))</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    Directory.Delete(the_path);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aae521c4c39e87f29fc7cba98c0ff58d7"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">TGServerService.ServerInstance.GameDir</a></div><div class="ttdeci">const string GameDir</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00030">Compiler.cs:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a14f34e7f968afb1ad7f77d8813d5799b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.Clone </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>twostrings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Backups up the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> and deletes the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0" title="The ServerInstance directory for the repository ">RepoPath</a> if they exist. Clones the given branch of the given remote. Sets up new <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twostrings</td><td>Remote and branch name, seperated by a ' '</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">218</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00293">TGServerService.ServerInstance.BackupAndDeleteStaticDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">TGServerService.ServerInstance.configLock</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">TGServerService.ServerInstance.DeletePRList()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00285">TGServerService.ServerInstance.DisableGarbageCollectionNoLock()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00174">TGServerService.ServerInstance.DisposeRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">TGServerService.ServerInstance.GenerateGitCredentials()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00209">TGServerService.ServerInstance.HandleCheckoutProgress()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00197">TGServerService.ServerInstance.HandleTransferProgress()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">TGServerService.ServerInstance.InitialConfigureRepository()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00379">TGServerService.ServerInstance.Setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="comment">//busy flag set by caller</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            var ts = ((string)twostrings).Split(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            var RepoURL = ts[0];</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            var BranchName = ts[1];</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: {2} started: Cloning {0} branch of {1} ...&quot;</span>, BranchName, RepoURL, Repository.IsValid(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>) ? <span class="stringliteral">&quot;Full reset&quot;</span> : <span class="stringliteral">&quot;Setup&quot;</span>), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa">DisposeRepo</a>();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    Program.DeleteDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">DeletePRList</a>();</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a>)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce">BackupAndDeleteStaticDirectory</a>();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    var Opts = <span class="keyword">new</span> CloneOptions()</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        BranchName = BranchName,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        RecurseSubmodules = <span class="keyword">true</span>,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                        OnTransferProgress = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df">HandleTransferProgress</a>,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        OnCheckoutProgress = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a">HandleCheckoutProgress</a>,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                        CredentialsProvider = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039">GenerateGitCredentials</a>,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    };</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    Repository.Clone(RepoURL, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>, Opts);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a> = -1;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8">DisableGarbageCollectionNoLock</a>();</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <span class="comment">//create an ssh remote for pushing</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Network.Remotes.Add(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a626ed84e545c7f3021b98da532a9c1c4">SSHPushRemote</a>, RepoURL.Replace(<span class="stringliteral">&quot;git://&quot;</span>, <span class="stringliteral">&quot;ssh://&quot;</span>).Replace(<span class="stringliteral">&quot;https://&quot;</span>, <span class="stringliteral">&quot;ssh://&quot;</span>));</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde">InitialConfigureRepository</a>();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: Clone complete!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Repository {0}:{1} successfully cloned&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoClone);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a> = -1;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: Setup failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Failed to clone {2}:{0}: {1}&quot;</span>, BranchName, e.ToString(), RepoURL), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoCloneFail);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a96ac726e923f4016b5c65806e5b1fb17">Cloning</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d407c09b7a499c45266c916e4eaa947"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">TGServerService.ServerInstance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b46135f61615923db5e302d3553e1fa"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa">TGServerService.ServerInstance.DisposeRepo</a></div><div class="ttdeci">void DisposeRepo()</div><div class="ttdoc">Cleans up Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00174">Repository.cs:174</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab294e7b6c6025f2c4f15b8b0dc78ef9e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">TGServerService.ServerInstance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGServiceInterface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">Repository.cs:82</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a04c0e665fa5086f6ebf6d5ffe288ca89"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">TGServerService.ServerInstance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the ServerInstance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">Repository.cs:756</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6a5f6fad2c5c52da78eb9d1968c02f9d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">TGServerService.ServerInstance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used in conjunction with RepoLock for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">Repository.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a971b17056739405a3d2b598ebd1be27a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a">TGServerService.ServerInstance.HandleCheckoutProgress</a></div><div class="ttdeci">void HandleCheckoutProgress(string path, int completedSteps, int totalSteps)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo checkout operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00209">Repository.cs:209</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5ce4ab9dd00a38f8e434a54ef8978dde"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde">TGServerService.ServerInstance.InitialConfigureRepository</a></div><div class="ttdeci">void InitialConfigureRepository()</div><div class="ttdoc">Initial setup for the StaticDirs and CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">Repository.cs:336</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a626ed84e545c7f3021b98da532a9c1c4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a626ed84e545c7f3021b98da532a9c1c4">TGServerService.ServerInstance.SSHPushRemote</a></div><div class="ttdeci">const string SSHPushRemote</div><div class="ttdoc">Git remote for push operations </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00036">Repository.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2797d54ddfe3bd78e2c726b11136fba8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8">TGServerService.ServerInstance.DisableGarbageCollectionNoLock</a></div><div class="ttdeci">void DisableGarbageCollectionNoLock()</div><div class="ttdoc">Turns off the gc.auto git config setting </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00285">Repository.cs:285</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a895420e900c51183a28580f3a3ab3039"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039">TGServerService.ServerInstance.GenerateGitCredentials</a></div><div class="ttdeci">Credentials GenerateGitCredentials(string url, string usernameFromUrl, SupportedCredentialTypes types)</div><div class="ttdoc">SSH credentials callback. Properly sets up SSH keys for an authorization operation ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">Repository.cs:1117</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a15a3ebcbd0237e65264d9ca2533291ce"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce">TGServerService.ServerInstance.BackupAndDeleteStaticDirectory</a></div><div class="ttdeci">void BackupAndDeleteStaticDirectory()</div><div class="ttdoc">Copies the Static directory to the first available Static_BACKUP path in the ServerInstance then dele...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00293">Repository.cs:293</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a445215ce9af4a260d0ec5cf1a88210df"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df">TGServerService.ServerInstance.HandleTransferProgress</a></div><div class="ttdeci">bool HandleTransferProgress(TransferProgress progress)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo transfer operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00197">Repository.cs:197</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a96ac726e923f4016b5c65806e5b1fb17"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a96ac726e923f4016b5c65806e5b1fb17">TGServerService.ServerInstance.Cloning</a></div><div class="ttdeci">bool Cloning</div><div class="ttdoc">Whether or not a git clone operation is in progress </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00073">Repository.cs:73</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_cgraph" id="class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce" title="Copies the Static directory to the first available Static_BACKUP path in the ServerInstance then dele..." alt="" coords="265,57,477,98"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="545,27,719,69"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="527,218,737,259"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8" title="Turns off the gc.auto git config setting " alt="" coords="264,174,479,215"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa" title="Cleans up Repo " alt="" coords="266,239,477,281"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="266,305,477,346"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="266,370,477,411"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="266,435,477,477"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde" title="Initial setup for the StaticDirs and CachedTGS3SettingsPath " alt="" coords="266,501,477,542"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="789,557,956,598"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="549,629,715,670"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="266,683,477,725"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="266,566,477,607"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="545,109,719,150"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="785,109,960,150"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="785,27,960,69"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="789,309,956,350"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="527,367,737,409"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a3e791a0e714b6c1e94e6b27c13ce2b2a" title="Updates the CachedTGS3SettingsPath with the RepoTGS3SettingsPath " alt="" coords="527,433,737,474"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="527,498,737,539"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_program.html#aef2a6a2e44bad48a223197b153734b06" title="Copy a file from source &#160;to dest , but first ensure the destination directory exists ..." alt="" coords="545,563,719,605"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_icgraph" id="class_t_g_server_service_1_1_server_instance_a14f34e7f968afb1ad7f77d8813d5799b_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3b36d7847cac9b98816d757747c2b795"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_g_server_service_1_1_repo_config.html">RepoConfig</a>&#160;</td>
          <td class="paramname"><em>Config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a commit based on a <em>Config</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Config</td><td>A <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> with <a class="el" href="class_t_g_server_service_1_1_repo_config.html#a651c0720180fbb2fe57296fb37b4617b" title="Paths to commit and push to the remote repository ">RepoConfig.PathsToStage</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01038">1038</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">TGServerService.ServerInstance.DeletePRList()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00747">TGServerService.ServerInstance.MakeSig()</a>, <a class="el" href="_repo_config_8cs_source.html#l00033">TGServerService.RepoConfig.PathsToStage</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00966">TGServerService.ServerInstance.SynchronizePush()</a>.</p>
<div class="fragment"><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                var result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                    <span class="comment">// Stage the file</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                    <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> Config.PathsToStage)</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                        Commands.Stage(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>, I);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.RetrieveStatus().Staged.Count() == 0)   <span class="comment">//nothing to commit</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                    <span class="comment">// Create the committer&#39;s signature and commit</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    var authorandcommitter = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1">MakeSig</a>();</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                    <span class="comment">// Commit to the repository</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    Service.WriteInfo(String.Format(<span class="stringliteral">&quot;Commit {0} created from changelogs&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Commit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad277ad8989796cede1a8160d41805a8b">CommitMessage</a>, authorandcommitter, authorandcommitter)), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoCommit);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">DeletePRList</a>();</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                    Service.WriteWarning(<span class="stringliteral">&quot;Repo commit failed: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoCommitFail);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad277ad8989796cede1a8160d41805a8b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad277ad8989796cede1a8160d41805a8b">TGServerService.ServerInstance.CommitMessage</a></div><div class="ttdeci">const string CommitMessage</div><div class="ttdoc">Commit message for RepoConfig.PathsToStage </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00060">Repository.cs:60</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a04c0e665fa5086f6ebf6d5ffe288ca89"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">TGServerService.ServerInstance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the ServerInstance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">Repository.cs:756</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abcde3c7acdaf49fcd170dde635747ab1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1">TGServerService.ServerInstance.MakeSig</a></div><div class="ttdeci">Signature MakeSig()</div><div class="ttdoc">Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00747">Repository.cs:747</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_cgraph" id="class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="264,136,475,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,201,453,243"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,267,453,308"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="523,5,689,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_icgraph" id="class_t_g_server_service_1_1_server_instance_a3b36d7847cac9b98816d757747c2b795_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afdd737c980b2c078c2de10a57dc4ad40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.Compile </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>silent</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does all the necessary actions to take the revision currently in the repository and compile it to be run on the next server reboot. Requires BYOND to be set up and the <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a141230e592c991205d2c9c15f9ad6873" title="Returns the current compiler status ">GetStatus</a> to return <a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3a59d87a4758a9d35fbaf6b204341bb399" title="Game folder is setup, does not imply the dmb is compiled ">CompilerStatus.Initialized</a>. Runs asyncronously  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a207b7a54fba9717c46abec8709f1d01d">TGServiceInterface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00571">571</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01278">TGServerService.ServerInstance.AutoUpdateTimer_Elapsed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized)</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">silentCompile</a> = silent;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = null;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Compiling;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324">CompileImpl</a>));</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a>.Start();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a591be0739a0ebf1c70fa2d0615262324"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324">TGServerService.ServerInstance.CompileImpl</a></div><div class="ttdeci">void CompileImpl()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">Compiler.cs:296</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8011e4943a3fbb07f419d91ea5585132"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">TGServerService.ServerInstance.silentCompile</a></div><div class="ttdeci">bool silentCompile</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00049">Compiler.cs:49</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a66a6d4cf18b436ad79fd5eb9e3546881"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">TGServerService.ServerInstance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00044">Compiler.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7276f1afc5e4e29a3dd7ecbc324b1661"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">TGServerService.ServerInstance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00046">Compiler.cs:46</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_cgraph" id="class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,508,475,549"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="523,188,733,229"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="781,224,992,265"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="523,639,733,680"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="781,289,992,331"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1062,375,1229,416"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="523,704,733,745"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="781,756,992,797"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="541,821,715,863"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="541,887,715,928"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="523,123,733,164"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="781,407,992,448"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1062,465,1229,507"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae" title="Returns the relative path of the dme the compiler will look for without the .dme part &#160;..." alt="" coords="523,952,733,993"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="545,1017,711,1059"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="523,508,733,549"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="523,1083,733,1124"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="523,573,733,615"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424" title="Updates LiveTrackingBranch with the staged Compile(bool)&#39;s SHA " alt="" coords="781,41,992,83"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="1040,136,1251,177"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc" title="TGServerService.ServerInstance.\lInvertDirectory" alt="" coords="781,691,992,732"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="1040,756,1251,797"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="799,821,974,863"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="799,887,974,928"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="781,107,992,148"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="781,524,992,565"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="1040,583,1251,624"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="1299,553,1509,595"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_icgraph" id="class_t_g_server_service_1_1_server_instance_afdd737c980b2c078c2de10a57dc4ad40_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47fd4bf82907a2c2fbcb4bcabf998e44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.CompileError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the error message of the last operation. Reading this will clear the stored value  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#aebbf86e1d4165f03a5401a911c5ba7d1">TGServiceInterface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00071">71</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00044">TGServerService.ServerInstance.lastCompilerError</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                var err = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = null;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a66a6d4cf18b436ad79fd5eb9e3546881"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">TGServerService.ServerInstance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00044">Compiler.cs:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a591be0739a0ebf1c70fa2d0615262324"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.CompileImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">296</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">TGServerService.ServerInstance.ByondDirectory</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00089">TGServerService.Program.CopyDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00661">TGServerService.ServerInstance.CreateBackup()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">TGServerService.ServerInstance.CreateSymlink()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">TGServerService.ServerInstance.currentStatus</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">TGServerService.ServerInstance.GetCachedRepoConfig()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00438">TGServerService.ServerInstance.GetHead()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00239">TGServerService.ServerInstance.GetStagingDir()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">TGServerService.ServerInstance.GetVersion()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">TGServerService.ServerInstance.InterfaceDLLName</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00122">TGServerService.ServerInstance.IsInitialized()</a>, <a class="el" href="_preaction_handler_8cs_source.html#l00097">TGServerService.ServerInstance.PostcompileHook()</a>, <a class="el" href="_preaction_handler_8cs_source.html#l00088">TGServerService.ServerInstance.PrecompileHook()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00052">TGServerService.ServerInstance.PRJobFile</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00044">TGServerService.ServerInstance.Proc</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00587">TGServerService.ServerInstance.ProjectName()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">TGServerService.ServerInstance.RepoBusy</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00111">TGServerService.ServerInstance.RepoConfigsMatch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">TGServerService.ServerInstance.RepoLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">TGServerService.ServerInstance.RepoPath</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00049">TGServerService.ServerInstance.silentCompile</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01305">TGServerService.ServerInstance.UpdateLiveSha()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">TGServerService.ServerInstance.watchdogLock</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00571">TGServerService.ServerInstance.Compile()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68">GetVersion</a>(<a class="code" href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">ByondVersion</a>.Installed) == null)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;BYOND not installed!&quot;</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8">RepoConfigsMatch</a>())</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;Repository TGS3.json does not match cached version! Please update the config appropriately!&quot;</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">IsInitialized</a>();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordtype">string</span> resurrectee;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="keywordtype">bool</span> repobusy_check = <span class="keyword">false</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>))</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    repobusy_check = <span class="keyword">true</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">if</span> (!repobusy_check)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a>)</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        repobusy_check = <span class="keyword">true</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <span class="keywordflow">if</span> (repobusy_check)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: Copy aborted, repo locked!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;The repo could not be locked for copying&quot;</span>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordtype">string</span> CurrentSha;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                    <span class="keywordtype">bool</span> silent;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                        silent = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">silentCompile</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">silentCompile</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <span class="keywordflow">if</span> (!silent)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: Compiling...&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    resurrectee = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526">GetStagingDir</a>();</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    var Config = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    var deleteExcludeList = <span class="keyword">new</span> List&lt;string&gt; { <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a> };</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                    deleteExcludeList.AddRange(Config.StaticDirectoryPaths);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    deleteExcludeList.AddRange(Config.DLLPaths);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    Program.DeleteDirectory(resurrectee, <span class="keyword">true</span>, deleteExcludeList);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    Directory.CreateDirectory(resurrectee + <span class="stringliteral">&quot;/.git/logs&quot;</span>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.StaticDirectoryPaths)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        var the_path = Path.Combine(resurrectee, I);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <span class="keywordflow">if</span> (!Directory.Exists(the_path))</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(Path.Combine(resurrectee, I), Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>, I));</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                    }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.DLLPaths)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        var the_path = Path.Combine(resurrectee, I);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        <span class="keywordflow">if</span> (!File.Exists(the_path))</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(the_path, Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>, I));</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    <span class="keywordflow">if</span> (!File.Exists(Path.Combine(resurrectee, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>)))</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(Path.Combine(resurrectee, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>), <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    deleteExcludeList.Add(<span class="stringliteral">&quot;.git&quot;</span>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    Program.CopyDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>, resurrectee, deleteExcludeList);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    CurrentSha = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07">GetHead</a>(<span class="keyword">false</span>, out <span class="keywordtype">string</span> error);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <span class="comment">//just the tip</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">string</span> GitLogsDir = <span class="stringliteral">&quot;/.git/logs&quot;</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    Program.CopyDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a> + GitLogsDir, resurrectee + GitLogsDir);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                    {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                        File.Copy(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a>, resurrectee + Path.DirectorySeparatorChar + <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                    <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4">CreateBackup</a>();</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = res;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                var dmeName = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae">ProjectName</a>() + <span class="stringliteral">&quot;.dme&quot;</span>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                var dmePath = resurrectee + <span class="stringliteral">&quot;/&quot;</span> + dmeName;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">if</span> (!File.Exists(dmePath))</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    var errorMsg = String.Format(<span class="stringliteral">&quot;Could not find {0}!&quot;</span>, dmeName);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: &quot;</span> + errorMsg, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    Service.WriteError(errorMsg, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMCompileCrash);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = errorMsg;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                    }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47">PrecompileHook</a>())</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;The precompile hook failed&quot;</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                    Service.WriteWarning(<span class="stringliteral">&quot;Precompile hook failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMCompileError);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="keyword">using</span> (var DM = <span class="keyword">new</span> Process())  <span class="comment">//will kill the process if the thread is terminated</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    DM.StartInfo.FileName = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">ByondDirectory</a> + <span class="stringliteral">&quot;/bin/dm.exe&quot;</span>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    DM.StartInfo.Arguments = String.Format(<span class="stringliteral">&quot;-clean {0}&quot;</span>, dmePath);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    DM.StartInfo.RedirectStandardOutput = <span class="keyword">true</span>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    DM.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    var OutputList = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    DM.OutputDataReceived += <span class="keyword">new</span> DataReceivedEventHandler(</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        delegate (<span class="keywordtype">object</span> sender, DataReceivedEventArgs e)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                            OutputList.Append(Environment.NewLine);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                            OutputList.Append(e.Data);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                        }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    );</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                        {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">compilationCancellationRequestation</a>)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">canCancelCompilation</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                        DM.Start();</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                        DM.BeginOutputReadLine();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                        <span class="keywordflow">while</span> (!DM.HasExited)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                            DM.WaitForExit(100);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                        DM.CancelOutputRead();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                        {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">canCancelCompilation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">compilationCancellationRequestation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                        }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                    <span class="keywordflow">catch</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                    {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        <span class="keywordflow">if</span> (!DM.HasExited)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                        {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                            DM.Kill();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                            DM.WaitForExit();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                    }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    <span class="keywordflow">finally</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                    {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">canCancelCompilation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                        }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                    <span class="keywordflow">if</span> (DM.ExitCode == 0)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                    {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                        {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                            <span class="comment">//gotta go fast</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                            var online = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> == <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                            <span class="keywordflow">if</span> (online)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Suspend();</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                            <span class="keywordflow">try</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                            {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                                <span class="keywordflow">if</span> (Directory.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>))</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                    <span class="comment">//these two lines should be atomic but this is the best we can do</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                    Directory.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>, resurrectee);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                            }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                            <span class="keywordflow">finally</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                            {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                <span class="keywordflow">if</span> (online &amp;&amp; !<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.HasExited)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Resume();</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                            }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                        }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                        var staged = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>() != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde">PostcompileHook</a>())</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;The postcompile hook failed&quot;</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                            Service.WriteWarning(<span class="stringliteral">&quot;Postcompile hook failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMCompileError);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                        }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424">UpdateLiveSha</a>(CurrentSha);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                        var msg = String.Format(<span class="stringliteral">&quot;Compile complete!{0}&quot;</span>, !staged ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; Server will update next round.&quot;</span>);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: &quot;</span> + msg, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                        Service.WriteInfo(msg, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMCompileSuccess);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                            <span class="keywordflow">if</span> (staged)</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaff75bb9874194c398f76a60c494bbdf">UpdateStaged</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = null;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                    {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: Compile failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo); <span class="comment">//Also happens for warnings</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                        Service.WriteWarning(<span class="stringliteral">&quot;Compile error: &quot;</span> + OutputList.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMCompileError);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;DM compile failure&quot;</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                        }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: Compiler thread crashed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                Service.WriteError(<span class="stringliteral">&quot;Compile manager errror: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMCompileCrash);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = e.ToString();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;   <span class="comment">//still fairly valid</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">canCancelCompilation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">compilationCancellationRequestation</a>)</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">compilationCancellationRequestation</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: Compile cancelled!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                        Service.WriteInfo(<span class="stringliteral">&quot;Compilation cancelled&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMCompileCancel);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a63d04056dea64487e7eaed6b26b57e3a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">TGServerService.ServerInstance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a460f7422c8ca2c016df6d18a6c64e287"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">TGServerService.ServerInstance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">Repository.cs:130</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a7610968e566eeb321fee2adba3fbf107"><div class="ttname"><a href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">TGServiceInterface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00036">Enumerations.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaff75bb9874194c398f76a60c494bbdf"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaff75bb9874194c398f76a60c494bbdf">TGServerService.ServerInstance.UpdateStaged</a></div><div class="ttdeci">bool UpdateStaged</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00051">Compiler.cs:51</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a65f620ffb3b9d255d551adc32cf2015e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a65f620ffb3b9d255d551adc32cf2015e">TGServerService.ServerInstance.compilationCancellationRequestation</a></div><div class="ttdeci">bool compilationCancellationRequestation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00047">Compiler.cs:47</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa550118aee5bf93064cb25b2171a969b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">TGServerService.ServerInstance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1ab16aa5c7a41006e221acf710131efe"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">TGServerService.ServerInstance.InterfaceDLLName</a></div><div class="ttdeci">const string InterfaceDLLName</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6a5f6fad2c5c52da78eb9d1968c02f9d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">TGServerService.ServerInstance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used in conjunction with RepoLock for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">Repository.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d44f07976a3c02b441bbc108ee0473a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d44f07976a3c02b441bbc108ee0473a">TGServerService.ServerInstance.canCancelCompilation</a></div><div class="ttdeci">bool canCancelCompilation</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00048">Compiler.cs:48</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a724c7681dbfd9bfc0128392e92f8cfae"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae">TGServerService.ServerInstance.ProjectName</a></div><div class="ttdeci">string ProjectName()</div><div class="ttdoc">Returns the relative path of the dme the compiler will look for without the .dme part  ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00587">Compiler.cs:587</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3a0db5ea4f797662c4317686d629a7e8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8">TGServerService.ServerInstance.RepoConfigsMatch</a></div><div class="ttdeci">bool RepoConfigsMatch()</div><div class="ttdoc">Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00111">Repository.cs:111</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8011e4943a3fbb07f419d91ea5585132"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">TGServerService.ServerInstance.silentCompile</a></div><div class="ttdeci">bool silentCompile</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00049">Compiler.cs:49</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae69e75b4b1379d03852e6bef850dfcc4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4">TGServerService.ServerInstance.CreateBackup</a></div><div class="ttdeci">string CreateBackup()</div><div class="ttdoc">Creates a date and timestamped tag of the current HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00661">Repository.cs:661</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae64d03735cb348d0d162e493bf9b3f68"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68">TGServerService.ServerInstance.GetVersion</a></div><div class="ttdeci">string GetVersion(ByondVersion type)</div><div class="ttdoc">Get the currently installed version as a string formatted as Major.Minor  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">Byond.cs:148</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af19d01601edb8beb1e78ffdcaf572c47"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47">TGServerService.ServerInstance.PrecompileHook</a></div><div class="ttdeci">bool PrecompileHook()</div><div class="ttdoc">Run the &quot;precompile&quot; event </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00088">PreactionHandler.cs:88</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6dc8ecb836197d4e0a889d8b8944237a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">TGServerService.ServerInstance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">Compiler.cs:33</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5a3e4575d902a3e8650d4734629bd9d9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">TGServerService.ServerInstance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00052">Repository.cs:52</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a74d6e8df896a4a8f6f1faa7d67a2bbde"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde">TGServerService.ServerInstance.PostcompileHook</a></div><div class="ttdeci">bool PostcompileHook()</div><div class="ttdoc">Run the &quot;postcompile&quot; event </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00097">PreactionHandler.cs:97</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abae42263b35cd0124df7a0975c8810f8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">TGServerService.ServerInstance.CreateSymlink</a></div><div class="ttdeci">void CreateSymlink(string link, string target)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">Compiler.cs:94</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af4f0d76eb19015bd076df3f3aa28e526"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526">TGServerService.ServerInstance.GetStagingDir</a></div><div class="ttdeci">string GetStagingDir()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00239">Compiler.cs:239</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aeb0cb7b5664b4796ef9aa9082bbce424"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424">TGServerService.ServerInstance.UpdateLiveSha</a></div><div class="ttdeci">void UpdateLiveSha(string newSha)</div><div class="ttdoc">Updates LiveTrackingBranch with the staged Compile(bool)&amp;#39;s SHA </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01305">Repository.cs:1305</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8445f34deceaaa76a7c2088f8c7f1991"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">TGServerService.ServerInstance.IsInitialized</a></div><div class="ttdeci">CompilerStatus IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00122">Compiler.cs:122</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a66a6d4cf18b436ad79fd5eb9e3546881"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">TGServerService.ServerInstance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00044">Compiler.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abefd625f907f5e953509baa1c6da9a07"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07">TGServerService.ServerInstance.GetHead</a></div><div class="ttdeci">string GetHead(bool useTracked, out string error)</div><div class="ttdoc">Gets the sha of the current HEAD  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00438">Repository.cs:438</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_cgraph" id="class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="282,8,457,49"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="523,319,733,360"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="803,367,970,408"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="803,549,970,591"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="523,673,733,715"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="264,775,475,816"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="282,840,457,881"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="523,253,733,295"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="264,137,475,179"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="264,709,475,751"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="264,905,475,947"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="264,971,475,1012"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="264,425,475,467"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="264,491,475,532"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae" title="Returns the relative path of the dme the compiler will look for without the .dme part &#160;..." alt="" coords="264,1036,475,1077"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="264,207,475,248"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="523,608,733,649"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424" title="Updates LiveTrackingBranch with the staged Compile(bool)&#39;s SHA " alt="" coords="523,71,733,112"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="286,1101,453,1143"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="541,5,715,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="781,165,992,207"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="781,673,992,715"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="541,840,715,881"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="523,136,733,177"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc" title="TGServerService.ServerInstance.\lInvertDirectory" alt="" coords="523,739,733,780"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="523,459,733,500"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="781,484,992,525"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="1040,455,1251,496"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_icgraph" id="class_t_g_server_service_1_1_server_instance_a591be0739a0ebf1c70fa2d0615262324_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="523,71,733,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7885cff0cd047f5485cbb9cba09407e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.CompilerIdleNoLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00101">101</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00107">TGServerService.ServerInstance.Initialize()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00379">TGServerService.ServerInstance.Setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> == <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Uninitialized || <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> == <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a7885cff0cd047f5485cbb9cba09407e8_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a7885cff0cd047f5485cbb9cba09407e8_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a7885cff0cd047f5485cbb9cba09407e8_icgraph" id="class_t_g_server_service_1_1_server_instance_a7885cff0cd047f5485cbb9cba09407e8_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e0f4e5e2bc887424d28ee1d69739259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.Connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>&#160;</td>
          <td class="paramname"><em>providerType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks connection status  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_chat.html#a5c0bbce1135228d712ca2ea956049100">TGServiceInterface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00191">191</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00202">TGServerService.ServerInstance.ChatConnectivityCheck()</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a>)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">if</span> (I.ProviderInfo().Provider == providerType)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <span class="keywordflow">return</span> I.Connected();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acadcf82abcaebb13517e3e169545f35c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">TGServerService.ServerInstance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">Chat.cs:16</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a0e0f4e5e2bc887424d28ee1d69739259_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a0e0f4e5e2bc887424d28ee1d69739259_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a0e0f4e5e2bc887424d28ee1d69739259_icgraph" id="class_t_g_server_service_1_1_server_instance_a0e0f4e5e2bc887424d28ee1d69739259_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aff49184e8ceaf6099708b568f09fc4fa" title="Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae69e75b4b1379d03852e6bef850dfcc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.CreateBackup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a date and timestamped tag of the current HEAD </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00661">661</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <span class="comment">//Make sure we don&#39;t already have a backup at this commit</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    var HEAD = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.Tip.Sha;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    <span class="keywordflow">foreach</span> (var T <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Tags)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                        <span class="keywordflow">if</span> (T.Target.Sha == HEAD)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    var tagName = <span class="stringliteral">&quot;TGS-Compile-Backup-&quot;</span> + DateTime.Now.ToString(<span class="stringliteral">&quot;yyyy-MM-dd--HH.mm.ss&quot;</span>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                    var tag = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.ApplyTag(tagName);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    <span class="keywordflow">if</span> (tag != null)</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        Service.WriteInfo(<span class="stringliteral">&quot;Repo backup created at tag: &quot;</span> + tagName + <span class="stringliteral">&quot; commit: &quot;</span> + HEAD, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoBackupTag);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                    }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Tag creation failed!&quot;</span>);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Failed backup tag creation at commit {0}!&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.Tip.Sha), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoBackupTagFail);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_cgraph" id="class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,71,453,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,136,453,177"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_icgraph" id="class_t_g_server_service_1_1_server_instance_ae69e75b4b1379d03852e6bef850dfcc4_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6842952e4558a97fc0b9612c5cfc5088"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TGServerService.ServerInstance.CreateSymbolicLink </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>lpSymlinkFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>lpTargetFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9">SymbolicLink</a>&#160;</td>
          <td class="paramname"><em>dwFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">TGServerService.ServerInstance.CreateSymlink()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a6842952e4558a97fc0b9612c5cfc5088_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a6842952e4558a97fc0b9612c5cfc5088_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a6842952e4558a97fc0b9612c5cfc5088_icgraph" id="class_t_g_server_service_1_1_server_instance_a6842952e4558a97fc0b9612c5cfc5088_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="264,64,475,105"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="523,64,733,105"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="781,68,992,109"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1557,71,1768,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1816,71,2027,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abae42263b35cd0124df7a0975c8810f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.CreateSymlink </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">94</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088">TGServerService.ServerInstance.CreateSymbolicLink()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00239">TGServerService.ServerInstance.GetStagingDir()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088">CreateSymbolicLink</a>(<span class="keyword">new</span> DirectoryInfo(link).FullName, <span class="keyword">new</span> DirectoryInfo(target).FullName, File.Exists(target) ? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9">SymbolicLink</a>.File : <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9">SymbolicLink</a>.Directory))</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(String.Format(<span class="stringliteral">&quot;Failed to create symlink from {0} to {1}! Error: {2}&quot;</span>, target, link, Marshal.GetLastWin32Error()));</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af30b33f85b47517c591e0a2ea5b88fa9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af30b33f85b47517c591e0a2ea5b88fa9">TGServerService.ServerInstance.SymbolicLink</a></div><div class="ttdeci">SymbolicLink</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00018">Compiler.cs:18</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6842952e4558a97fc0b9612c5cfc5088"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088">TGServerService.ServerInstance.CreateSymbolicLink</a></div><div class="ttdeci">static bool CreateSymbolicLink(string lpSymlinkFileName, string lpTargetFileName, SymbolicLink dwFlags)</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_cgraph" id="class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_icgraph" id="class_t_g_server_service_1_1_server_instance_abae42263b35cd0124df7a0975c8810f8_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="523,23,733,64"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="781,84,992,125"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="264,25,475,67"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="781,19,992,60"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1040,19,1251,60"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1299,19,1509,60"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1557,19,1768,60"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1040,84,1251,125"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a31b1bd6a8c38575bffb5442fbd75a677"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a> TGServerService.ServerInstance.CurrentStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current status of any BYOND updates  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html#a5b9bfa607e7a77cd83ce07bcc91b4afd">TGServiceInterface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00128">128</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">TGServerService.ServerInstance.updateStat</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">TGServerService.ServerInstance.Start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773bda7930c58a1def918b077efcf2a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">TGServerService.ServerInstance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a31b1bd6a8c38575bffb5442fbd75a677_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a31b1bd6a8c38575bffb5442fbd75a677_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a31b1bd6a8c38575bffb5442fbd75a677_icgraph" id="class_t_g_server_service_1_1_server_instance_a31b1bd6a8c38575bffb5442fbd75a677_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="781,5,992,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1299,71,1509,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab39a3abd504c56e0d217a7ad475506e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a> TGServerService.ServerInstance.DaemonStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the status of DreamDaemon  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a25fcfee27a4105a52518aad2899cdb38">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">192</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">TGServerService.ServerInstance.currentStatus</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">TGServerService.ServerInstance.DisposeDreamDaemon()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00047">TGServerService.ServerInstance.LoadServerChatCommands()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00265">TGServerService.ServerInstance.Restart()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00623">TGServerService.ServerInstance.SetSecurityLevel()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00379">TGServerService.ServerInstance.Setup()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00651">TGServerService.ServerInstance.StatusString()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">TGServerService.ServerInstance.UpdateToVersionImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab39a3abd504c56e0d217a7ad475506e4_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab39a3abd504c56e0d217a7ad475506e4_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab39a3abd504c56e0d217a7ad475506e4_icgraph" id="class_t_g_server_service_1_1_server_instance_ab39a3abd504c56e0d217a7ad475506e4_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,21,475,63"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="264,139,475,180"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9" title="TGServerService.ServerInstance.\lLoadServerChatCommands" alt="" coords="523,201,733,243"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="264,256,475,297"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a9922a66137753d8a21b965fff7469989" title="Sets the security level of the server. Requires server reboot to apply. Calls RequestRestart. Note that anything higher than Trusted will disable interop from DD &#160;" alt="" coords="264,321,475,363"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="264,387,475,428"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a819f1dd33b77bd47f3796ff462cf7c68" title="Returns a human readable string of the current server status &#160;" alt="" coords="264,452,475,493"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="264,517,475,559"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,39,1251,80"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,104,1509,145"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="523,136,733,177"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="781,136,992,177"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="781,201,992,243"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="1040,169,1251,211"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="523,267,733,308"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="781,267,992,308"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1040,267,1251,308"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="523,517,733,559"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf09f63e7c88913016493dc9b487f902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.DeleteFile </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>staticRelativePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the target static file  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_config.html#a01f2ed3097dab2b22395856f0f814986">TGServiceInterface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00161">161</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00030">TGServerService.Service.CancelImpersonation()</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">TGServerService.ServerInstance.StaticDirs</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            var path = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> + <span class="charliteral">&#39;/&#39;</span> + staticRelativePath;   <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a>)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    var di1 = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    var fi = <span class="keyword">new</span> FileInfo(path);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    var di2 = <span class="keyword">new</span> DirectoryInfo(fi.Directory.FullName);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    var good = <span class="keyword">false</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <span class="keywordflow">while</span> (di2 != null)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        <span class="keywordflow">if</span> (di2.FullName == di1.FullName)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                            good = <span class="keyword">true</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <span class="keywordflow">else</span> di2 = di2.Parent;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <span class="keywordflow">if</span> (!good)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot delete above static directories!&quot;</span>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="keywordflow">if</span> (fi.Exists)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        File.Delete(path);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Directory.Exists(path))</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        Program.DeleteDirectory(path);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    Service.CancelImpersonation();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Delete of &quot;</span> + path, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.StaticDelete);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">return</span> e.Message;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                Service.CancelImpersonation();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Delete of {0} failed! Error: {1}&quot;</span>, path, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.StaticRead);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d407c09b7a499c45266c916e4eaa947"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">TGServerService.ServerInstance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_acf09f63e7c88913016493dc9b487f902_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_acf09f63e7c88913016493dc9b487f902_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_acf09f63e7c88913016493dc9b487f902_cgraph" id="class_t_g_server_service_1_1_server_instance_acf09f63e7c88913016493dc9b487f902_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#ac3397831deffcbd077a20f4ceb86f7c7" title="Cancels WCF&#39;s user impersonation to allow clean access to writing log files " alt="" coords="268,5,435,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="264,71,439,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="268,136,435,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="268,201,435,243"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="487,71,661,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04c0e665fa5086f6ebf6d5ffe288ca89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.DeletePRList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>'s <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">756</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01038">TGServerService.ServerInstance.Commit()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00725">TGServerService.ServerInstance.Reset()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a>))</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    File.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a>);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                    Service.WriteError(<span class="stringliteral">&quot;Failed to delete PR list: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoPRListError);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5a3e4575d902a3e8650d4734629bd9d9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">TGServerService.ServerInstance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00052">Repository.cs:52</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_cgraph" id="class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="264,5,431,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_icgraph" id="class_t_g_server_service_1_1_server_instance_a04c0e665fa5086f6ebf6d5ffe288ca89_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795" title="Create a commit based on a Config &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ad2ab144910505686ff9529a708751f8f" title="Runs git reset hard &#160;" alt="" coords="264,136,475,177"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="264,201,475,243"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="523,168,733,209"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="523,233,733,275"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="781,233,992,275"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,233,1251,275"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2797d54ddfe3bd78e2c726b11136fba8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.DisableGarbageCollectionNoLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns off the gc.auto git config setting </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00285">285</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Config.Set(<span class="stringliteral">&quot;gc.auto&quot;</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a2797d54ddfe3bd78e2c726b11136fba8_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a2797d54ddfe3bd78e2c726b11136fba8_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a2797d54ddfe3bd78e2c726b11136fba8_icgraph" id="class_t_g_server_service_1_1_server_instance_a2797d54ddfe3bd78e2c726b11136fba8_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="268,5,479,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="268,71,479,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="527,5,737,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="527,71,737,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a775202498bd013e4e6baba11dc7a72a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.Dispose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposing</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern. Calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance ">RunDisposals</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disposing</td><td>if <a class="el" href="class_t_g_server_service_1_1_server_instance.html#af6a2dc31f6dff99061c8cddc5c35b99e" title="Implements the IDisposable pattern ">Dispose()</a> was called manually,  if it was from the finalizer</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00072">72</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>

<p>References <a class="el" href="_server_instance_8cs_source.html#l00035">TGServerService.ServerInstance.RunDisposals()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0d2fcb5a16e12d1bbaa5bb36ea24afbd">disposedValue</a>)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <span class="keywordflow">if</span> (disposing)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac">RunDisposals</a>();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    <span class="comment">// TODO: dispose managed state (managed objects).</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="comment">// TODO: free unmanaged resources (unmanaged objects) and override a finalizer below.</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="comment">// TODO: set large fields to null.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0d2fcb5a16e12d1bbaa5bb36ea24afbd">disposedValue</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0d2fcb5a16e12d1bbaa5bb36ea24afbd"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0d2fcb5a16e12d1bbaa5bb36ea24afbd">TGServerService.ServerInstance.disposedValue</a></div><div class="ttdeci">bool disposedValue</div><div class="ttdoc">To detect redundant Dispose() calls </div><div class="ttdef"><b>Definition:</b> <a href="_server_instance_8cs_source.html#l00066">ServerInstance.cs:66</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aea7eda46fd144259303499dfa412f1ac"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac">TGServerService.ServerInstance.RunDisposals</a></div><div class="ttdeci">void RunDisposals()</div><div class="ttdoc">Cleans up the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_server_instance_8cs_source.html#l00035">ServerInstance.cs:35</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a775202498bd013e4e6baba11dc7a72a4_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a775202498bd013e4e6baba11dc7a72a4_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a775202498bd013e4e6baba11dc7a72a4_cgraph" id="class_t_g_server_service_1_1_server_instance_a775202498bd013e4e6baba11dc7a72a4_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="264,384,475,425"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="523,169,733,211"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a46ed0d7dc832756ebf66a79ab2435f7f" title="TGServerService.ServerInstance.\lDisposeCompiler" alt="" coords="523,319,733,360"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a0ae469ca70e8869f5f5ed794d7fe4ce5" title="Called when the ServerInstance is shutdown " alt="" coords="523,384,733,425"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa" title="Cleans up Repo " alt="" coords="523,449,733,491"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a37ece8a590016ff653791e76d926b49f" title="Properly shuts down all ChatProviders " alt="" coords="523,515,733,556"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="795,5,1005,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90" title="Sends a message to everyone on the server &#160;" alt="" coords="795,71,1005,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="795,136,1005,177"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="795,201,1005,243"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698" title="Immediately kills the server &#160;" alt="" coords="781,267,1019,294"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="1067,5,1277,47"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_program.html#a7c301d450202a1f0ef212beabb74de5b" title="Properly escapes characters for a BYOND Topic() packet. See http://www.byond.com/docs/ref/info.html#/proc/list2params " alt="" coords="1085,71,1259,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1325,5,1536,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1584,5,1795,47"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1089,136,1255,177"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744" title="TGServerService.ServerInstance.\lInitCompiler" alt="" coords="795,319,1005,360"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="1067,319,1277,360"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6" title="Cleans the BYOND staging directory " alt="" coords="795,384,1005,425"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1085,384,1259,425"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1343,384,1518,425"/>
<area shape="rect" id="node23" href="class_t_g_service_interface_1_1_helpers.html#a4f047ed34d25452f624f09d3c2037d96" title="Takes some cleartext &#160;and returns an encrypted version along with the entropy &#160;required to decrypt it..." alt="" coords="809,515,991,556"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af6a2dc31f6dff99061c8cddc5c35b99e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.Dispose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implements the <a class="el" href="class_i_disposable.html">IDisposable</a> pattern </p>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00099">99</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="comment">// Do not change this code. Put cleanup code in Dispose(bool disposing) above.</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af6a2dc31f6dff99061c8cddc5c35b99e">Dispose</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="comment">// TODO: uncomment the following line if the finalizer is overridden above.</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="comment">// GC.SuppressFinalize(this);</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af6a2dc31f6dff99061c8cddc5c35b99e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af6a2dc31f6dff99061c8cddc5c35b99e">TGServerService.ServerInstance.Dispose</a></div><div class="ttdeci">void Dispose()</div><div class="ttdoc">Implements the IDisposable pattern </div><div class="ttdef"><b>Definition:</b> <a href="_server_instance_8cs_source.html#l00099">ServerInstance.cs:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ae469ca70e8869f5f5ed794d7fe4ce5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.DisposeByond </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> is shutdown </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00096">96</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00085">TGServerService.ServerInstance.CleanByondStaging()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00035">TGServerService.ServerInstance.RunDisposals()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">RevisionStaging</a> != null)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">RevisionStaging</a>.Abort();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6">CleanByondStaging</a>();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1540f43c11b3123d35007af7d56567b6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6">TGServerService.ServerInstance.CleanByondStaging</a></div><div class="ttdeci">void CleanByondStaging()</div><div class="ttdoc">Cleans the BYOND staging directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00085">Byond.cs:85</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_afcb683e8f7cd91c6e64ce98e007899f4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">TGServerService.ServerInstance.RevisionStaging</a></div><div class="ttdeci">Thread RevisionStaging</div><div class="ttdoc">Thread used for staging BYOND revisions </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00072">Byond.cs:72</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_cgraph" id="class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6" title="Cleans the BYOND staging directory " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="523,5,697,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="745,5,920,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_icgraph" id="class_t_g_server_service_1_1_server_instance_a0ae469ca70e8869f5f5ed794d7fe4ce5_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a37ece8a590016ff653791e76d926b49f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.DisposeChat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Properly shuts down all <a class="el" href="namespace_t_g_server_service_1_1_chat_providers.html">ChatProviders</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00098">98</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_helpers_8cs_source.html#l00018">TGServiceInterface.Helpers.EncryptData()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00035">TGServerService.ServerInstance.RunDisposals()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            var infosList = <span class="keyword">new</span> List&lt;IList&lt;string&gt;&gt;();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">foreach</span> (var <a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a> <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a>)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                infosList.Add(ChatProvider.ProviderInfo().DataFields);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                ChatProvider.Dispose();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            ChatProviders = null;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            var rawdata = <span class="keyword">new</span> JavaScriptSerializer().Serialize(infosList);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            Config.ChatProviderData = <a class="code" href="class_t_g_service_interface_1_1_helpers.html">Helpers</a>.<a class="code" href="class_t_g_service_interface_1_1_helpers.html#a4f047ed34d25452f624f09d3c2037d96">EncryptData</a>(rawdata, out <span class="keywordtype">string</span> entrp);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            Config.ChatProviderEntropy = entrp;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acadcf82abcaebb13517e3e169545f35c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">TGServerService.ServerInstance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">Chat.cs:16</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_helpers_html_a4f047ed34d25452f624f09d3c2037d96"><div class="ttname"><a href="class_t_g_service_interface_1_1_helpers.html#a4f047ed34d25452f624f09d3c2037d96">TGServiceInterface.Helpers.EncryptData</a></div><div class="ttdeci">static string EncryptData(string cleartext, out string entropy)</div><div class="ttdoc">Takes some cleartext  and returns an encrypted version along with the entropy  required to decrypt it...</div><div class="ttdef"><b>Definition:</b> <a href="_helpers_8cs_source.html#l00018">Helpers.cs:18</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a383af7e89a74270e05065b7f1bed06a4"><div class="ttname"><a href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">TGServiceInterface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00054">Enumerations.cs:54</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_helpers.html">TGServiceInterface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_cgraph" id="class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_cgraph">
<area shape="rect" id="node2" href="class_t_g_service_interface_1_1_helpers.html#a4f047ed34d25452f624f09d3c2037d96" title="Takes some cleartext &#160;and returns an encrypted version along with the entropy &#160;required to decrypt it..." alt="" coords="264,5,447,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_icgraph" id="class_t_g_server_service_1_1_server_instance_a37ece8a590016ff653791e76d926b49f_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46ed0d7dc832756ebf66a79ab2435f7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.DisposeCompiler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00082">82</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00054">TGServerService.ServerInstance.InitCompiler()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00035">TGServerService.ServerInstance.RunDisposals()</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a> == null || !<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a>.IsAlive)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a>.Abort(); <span class="comment">//this will safely kill dm</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744">InitCompiler</a>(); <span class="comment">//also cleanup</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad6f61d0895428e85ec403dbfd0afe744"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744">TGServerService.ServerInstance.InitCompiler</a></div><div class="ttdeci">void InitCompiler()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00054">Compiler.cs:54</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7276f1afc5e4e29a3dd7ecbc324b1661"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">TGServerService.ServerInstance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00046">Compiler.cs:46</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_cgraph" id="class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744" title="TGServerService.ServerInstance.\lInitCompiler" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_icgraph" id="class_t_g_server_service_1_1_server_instance_a46ed0d7dc832756ebf66a79ab2435f7f_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a901e893be86572cf6a8d539e83de4b2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.DisposeDreamDaemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Either let go of <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a> for reattachment or terminate it, depending on Properties.Settings.ReattachToDD </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">160</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">TGServerService.ServerInstance.Stop()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00701">TGServerService.ServerInstance.WorldAnnounce()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">TGServerService.ServerInstance.WriteCurrentDDLog()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00035">TGServerService.ServerInstance.RunDisposals()</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            var Detach = Properties.Settings.Default.ReattachToDD;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keywordtype">bool</span> RenameLog = <span class="keyword">false</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>() == <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keywordflow">if</span> (!Detach)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90">WorldAnnounce</a>(<span class="stringliteral">&quot;Server service stopped&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    Thread.Sleep(1000);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    RenameLog = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">CurrentDDLog</a> != null;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DD: Detaching watch dog for update!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;Service updating! Splitting diagnostics...&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Detach)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                Properties.Settings.Default.ReattachToDD = <span class="keyword">false</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698">Stop</a>();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">pcpu</a> != null)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">pcpu</a>.Dispose();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">if</span> (RenameLog)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    File.Move(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">ResourceDiagnosticsDir</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">CurrentDDLog</a>), Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">ResourceDiagnosticsDir</a>, <span class="stringliteral">&quot;SU-&quot;</span> + <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">CurrentDDLog</a>));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac66b59d813dcc51bf26bd90f3b812e8d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">TGServerService.ServerInstance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">DreamDaemon.cs:290</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a989bcee76648cec9c7e52a5d33217e90"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90">TGServerService.ServerInstance.WorldAnnounce</a></div><div class="ttdeci">string WorldAnnounce(string message)</div><div class="ttdoc">Sends a message to everyone on the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00701">DreamDaemon.cs:701</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a20d86baac5dc500fc0fda143655e83e8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">TGServerService.ServerInstance.CurrentDDLog</a></div><div class="ttdeci">string CurrentDDLog</div><div class="ttdoc">Current logfile in use in ResourceDiagnosticsDir </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00065">DreamDaemon.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6fccb58474c98b606c222bf343f3a4dc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">TGServerService.ServerInstance.pcpu</a></div><div class="ttdeci">PerformanceCounter pcpu</div><div class="ttdoc">CPU performance information for Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00048">DreamDaemon.cs:48</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad3a9a0f4ee4133a41f3db02bbd87a3a9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">TGServerService.ServerInstance.ResourceDiagnosticsDir</a></div><div class="ttdeci">const string ResourceDiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon ResourceUsage files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00031">DreamDaemon.cs:31</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad8b0bbbe0957e9d732666bec0ec06698"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698">TGServerService.ServerInstance.Stop</a></div><div class="ttdeci">string Stop()</div><div class="ttdoc">Immediately kills the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">DreamDaemon.cs:219</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_cgraph" id="class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="277,5,488,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="277,71,488,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698" title="Immediately kills the server &#160;" alt="" coords="264,137,501,163"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90" title="Sends a message to everyone on the server &#160;" alt="" coords="277,188,488,229"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="277,253,488,295"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="571,71,738,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="549,161,760,203"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_program.html#a7c301d450202a1f0ef212beabb74de5b" title="Properly escapes characters for a BYOND Topic() packet. See http://www.byond.com/docs/ref/info.html#/proc/list2params " alt="" coords="567,227,742,268"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="808,161,1019,203"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1067,161,1277,203"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_icgraph" id="class_t_g_server_service_1_1_server_instance_a901e893be86572cf6a8d539e83de4b2c_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9b46135f61615923db5e302d3553e1fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.DisposeRepo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans up <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00174">174</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>, and <a class="el" href="_server_instance_8cs_source.html#l00035">TGServerService.ServerInstance.RunDisposals()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a> != null)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Dispose();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a> = null;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a9b46135f61615923db5e302d3553e1fa_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a9b46135f61615923db5e302d3553e1fa_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a9b46135f61615923db5e302d3553e1fa_icgraph" id="class_t_g_server_service_1_1_server_instance_a9b46135f61615923db5e302d3553e1fa_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aa8a3c62ea83e029263e21654e184ab80" title="Moves the entire server installation, requires no operations to be running &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="523,136,733,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae35924a25d2d0fcfb0124ad21ecb421f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.EventHandlerExists </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if an event handler for <em>eventName</em>  exists </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00038">38</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

<p>References <a class="el" href="_preaction_handler_8cs_source.html#l00028">TGServerService.ServerInstance.GetEventPath()</a>.</p>

<p>Referenced by <a class="el" href="_preaction_handler_8cs_source.html#l00048">TGServerService.ServerInstance.HandleEvent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="keywordflow">return</span> File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764">GetEventPath</a>(eventName));</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab7c024a90c8ffdb678f9b0bfaafd8764"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764">TGServerService.ServerInstance.GetEventPath</a></div><div class="ttdeci">string GetEventPath(string eventName)</div><div class="ttdoc">Gets the path of an event given an eventName  </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00028">PreactionHandler.cs:28</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_cgraph" id="class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_icgraph" id="class_t_g_server_service_1_1_server_instance_ae35924a25d2d0fcfb0124ad21ecb421f_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="781,39,992,80"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1557,5,1768,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1816,5,2027,47"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1299,71,1509,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace81439a32bd7252f187ff607a071e07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.Exists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the repository is valid, if not <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a1ba91e01239633db1ea8e7c20a954b9e" title="Deletes whatever may be left over and clones the repo at remote  and checks out branch ...">Setup(string, string)</a> must be called  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a84eaa0cb4ba225f0b466f91e569a978e">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00184">184</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01146">TGServerService.ServerInstance.GenerateChangelogImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="keywordflow">return</span> !<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a96ac726e923f4016b5c65806e5b1fb17">Cloning</a> &amp;&amp; Repository.IsValid(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a96ac726e923f4016b5c65806e5b1fb17"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a96ac726e923f4016b5c65806e5b1fb17">TGServerService.ServerInstance.Cloning</a></div><div class="ttdeci">bool Cloning</div><div class="ttdoc">Whether or not a git clone operation is in progress </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00073">Repository.cs:73</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ace81439a32bd7252f187ff607a071e07_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ace81439a32bd7252f187ff607a071e07_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ace81439a32bd7252f187ff607a071e07_icgraph" id="class_t_g_server_service_1_1_server_instance_ace81439a32bd7252f187ff607a071e07_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60" title="Updates the html changelog " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#adbff0b841a8e339a79890a1a91be1fef" title="Updates the html changelog &#160;" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="523,136,733,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af8f4334b030e4cddf3f643aedc84f59e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Fetch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches origin </p>
<dl class="section return"><dt>Returns</dt><dd>null on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">994</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00980">TGServerService.ServerInstance.GenerateFetchOptions()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00492">TGServerService.ServerInstance.Checkout()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01014">TGServerService.ServerInstance.LocalIsRemote()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                <span class="keywordtype">string</span> logMessage = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                var R = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Network.Remotes[<span class="stringliteral">&quot;origin&quot;</span>];</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                IEnumerable&lt;string&gt; refSpecs = R.FetchRefSpecs.Select(X =&gt; X.Specification);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                Commands.Fetch(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>, R.Name, refSpecs, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3">GenerateFetchOptions</a>(), logMessage);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            {</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab56ecfc17b45a4658e0a676402b634e3"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3">TGServerService.ServerInstance.GenerateFetchOptions</a></div><div class="ttdeci">FetchOptions GenerateFetchOptions()</div><div class="ttdoc">Create FetchOptions that Prune and have the appropriate credentials and progress handler ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00980">Repository.cs:980</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_cgraph" id="class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="523,71,733,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_icgraph" id="class_t_g_server_service_1_1_server_instance_af8f4334b030e4cddf3f643aedc84f59e_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0" title="Check if the current HEAD matches the tracked remote branch HEAD " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="811,47,1021,88"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="523,79,763,106"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="537,133,748,175"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="537,199,748,240"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="811,199,1021,240"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1069,199,1280,240"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a217ecaa0e91ebecb8460f46b992dc09f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.FindTheDroidsWereLookingFor </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>search</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c" title="The SecurityIdentifier of the Windows group authorized to access the ServerInstance ...">TheDroidsWereLookingFor</a> based off either an <em>search</em> ed name or a string SecurityIdentifier from the config </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">search</td><td>The name of the group to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the group allowed to access the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> if it could be found,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00070">70</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00021">TGServerService.ServerInstance.ServerInstance()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00052">TGServerService.ServerInstance.SetAuthorizedGroup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="comment">//find the group that is authorized to use the tools</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            var pc = <span class="keyword">new</span> PrincipalContext(ContextType.Machine);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            var config = Properties.Settings.Default;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            var groupName = search ?? config.AuthorizedGroupSID;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (String.IsNullOrWhiteSpace(groupName))</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            var gp = GroupPrincipal.FindByIdentity(pc, search != null ? IdentityType.Name : IdentityType.Sid, groupName);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span> (gp == null)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <span class="keywordflow">if</span> (search != null)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                    <span class="comment">//try again with all types</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    gp = GroupPrincipal.FindByIdentity(pc, search);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="keywordflow">if</span> (gp == null)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TheDroidsWereLookingFor</a> = gp.Sid;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="keywordflow">if</span> (search != null)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                config.AuthorizedGroupSID = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TheDroidsWereLookingFor</a>.Value;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                config.Save();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordflow">return</span> gp.Name;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a099e2fa5d7fe81467538a56467c9906c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TGServerService.ServerInstance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00019">Administration.cs:19</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a217ecaa0e91ebecb8460f46b992dc09f_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a217ecaa0e91ebecb8460f46b992dc09f_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a217ecaa0e91ebecb8460f46b992dc09f_icgraph" id="class_t_g_server_service_1_1_server_instance_a217ecaa0e91ebecb8460f46b992dc09f_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a17fd1cd46cd9791a923b449460459dbe" title="Searches the windows machine for the group named groupName , sets it as the authorized group if it&#39;s ..." alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a235f24c0d390a379749a478dc5993550"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.GenCommsKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00222">222</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            var charsToRemove = <span class="keyword">new</span> <span class="keywordtype">string</span>[] { <span class="stringliteral">&quot;!&quot;</span>, <span class="stringliteral">&quot;@&quot;</span>, <span class="stringliteral">&quot;#&quot;</span>, <span class="stringliteral">&quot;$&quot;</span>, <span class="stringliteral">&quot;%&quot;</span>, <span class="stringliteral">&quot;^&quot;</span>, <span class="stringliteral">&quot;&amp;&quot;</span>, <span class="stringliteral">&quot;*&quot;</span>, <span class="stringliteral">&quot;(&quot;</span>, <span class="stringliteral">&quot;)&quot;</span>, <span class="stringliteral">&quot;_&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>, <span class="stringliteral">&quot;+&quot;</span>, <span class="stringliteral">&quot;=&quot;</span>, <span class="stringliteral">&quot;[&quot;</span>, <span class="stringliteral">&quot;{&quot;</span>, <span class="stringliteral">&quot;]&quot;</span>, <span class="stringliteral">&quot;}&quot;</span>, <span class="stringliteral">&quot;;&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;&lt;&quot;</span>, <span class="stringliteral">&quot;&gt;&quot;</span>, <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;.&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>, <span class="stringliteral">&quot;?&quot;</span> };</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a> = String.Empty;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">do</span> {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                var tmp = Membership.GeneratePassword(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a86ec90e265d2179399e7e260d8b99b94">CommsKeyLen</a>, 0);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">foreach</span> (var c <span class="keywordflow">in</span> charsToRemove)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    tmp = tmp.Replace(c, String.Empty);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a> += tmp;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            } <span class="keywordflow">while</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a>.Length &lt; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a86ec90e265d2179399e7e260d8b99b94">CommsKeyLen</a>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a>.Substring(0, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a86ec90e265d2179399e7e260d8b99b94">CommsKeyLen</a>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            Service.WriteInfo(<span class="stringliteral">&quot;Service Comms Key set to: &quot;</span> + <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.CommsKeySet);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5bc2c5cf72086f7be5ab0360a8b97105"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">TGServerService.ServerInstance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">Interop.cs:21</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a86ec90e265d2179399e7e260d8b99b94"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a86ec90e265d2179399e7e260d8b99b94">TGServerService.ServerInstance.CommsKeyLen</a></div><div class="ttdeci">const int CommsKeyLen</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00020">Interop.cs:20</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_cgraph" id="class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="264,5,431,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_icgraph" id="class_t_g_server_service_1_1_server_instance_a235f24c0d390a379749a478dc5993550_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1557,71,1768,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adbff0b841a8e339a79890a1a91be1fef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GenerateChangelog </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the html changelog  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#aabfae3c0473947b35a55514adbbcf910">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01135">1135</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01146">TGServerService.ServerInstance.GenerateChangelogImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60">GenerateChangelogImpl</a>(out error);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab71908fe1713eaf7f806a52b5608aa60"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60">TGServerService.ServerInstance.GenerateChangelogImpl</a></div><div class="ttdeci">string GenerateChangelogImpl(out string error, bool recurse=false)</div><div class="ttdoc">Updates the html changelog </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01146">Repository.cs:1146</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_adbff0b841a8e339a79890a1a91be1fef_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_adbff0b841a8e339a79890a1a91be1fef_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_adbff0b841a8e339a79890a1a91be1fef_cgraph" id="class_t_g_server_service_1_1_server_instance_adbff0b841a8e339a79890a1a91be1fef_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60" title="Updates the html changelog " alt="" coords="264,104,475,145"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07" title="Check if the repository is valid, if not Setup(string, string) must be called &#160;" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="545,136,711,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="545,201,711,243"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab71908fe1713eaf7f806a52b5608aa60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GenerateChangelogImpl </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>recurse</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the html changelog </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>on success, error on failure</td></tr>
    <tr><td class="paramname">recurse</td><td>If , prevents a recursive call to this function after updating pip dependencies</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The output of the python script</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01146">1146</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00184">TGServerService.ServerInstance.Exists()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">TGServerService.ServerInstance.GetCachedRepoConfig()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01135">TGServerService.ServerInstance.GenerateChangelog()</a>.</p>
<div class="fragment"><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            var RConfig = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a>();</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <span class="keywordflow">if</span> (RConfig == null)</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                error = null;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error loading changelog config!&quot;</span>;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            }</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordflow">if</span> (!RConfig.ChangelogSupport)</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            {</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                error = null;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <span class="keywordtype">string</span> ChangelogPy = RConfig.PathToChangelogPy;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07">Exists</a>())</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                error = <span class="stringliteral">&quot;Repo does not exist!&quot;</span>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            }</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a>)</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    error = <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                <span class="keywordflow">if</span> (!File.Exists(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>, ChangelogPy)))</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                    error = <span class="stringliteral">&quot;Missing changelog generation script!&quot;</span>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                var Config = Properties.Settings.Default;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                var PythonFile = Config.PythonPath + <span class="stringliteral">&quot;/python.exe&quot;</span>;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                <span class="keywordflow">if</span> (!File.Exists(PythonFile))</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                {</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                    error = <span class="stringliteral">&quot;Cannot locate python!&quot;</span>;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                }</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                {</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                    <span class="keywordtype">string</span> result;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                    <span class="keywordtype">int</span> exitCode;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                    <span class="keyword">using</span> (var python = <span class="keyword">new</span> Process())</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                    {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                        python.StartInfo.FileName = PythonFile;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                        python.StartInfo.Arguments = String.Format(<span class="stringliteral">&quot;{0} {1}&quot;</span>, ChangelogPy, RConfig.ChangelogPyArguments);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                        python.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                        python.StartInfo.WorkingDirectory = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>).FullName;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                        python.StartInfo.RedirectStandardOutput = <span class="keyword">true</span>;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                        python.Start();</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                        <span class="keyword">using</span> (StreamReader reader = python.StandardOutput)</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                        {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                            result = reader.ReadToEnd();</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                        }</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                        python.WaitForExit();</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                        exitCode = python.ExitCode;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                    }</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                    <span class="keywordflow">if</span> (exitCode != 0)</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                    {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                        <span class="keywordflow">if</span> (recurse || RConfig.PipDependancies.Count == 0)</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                        {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                            error = <span class="stringliteral">&quot;Script failed!&quot;</span>;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                        }</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                        <span class="comment">//update pip deps and try again</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                        <span class="keywordtype">string</span> PipFile = Config.PythonPath + <span class="stringliteral">&quot;/scripts/pip.exe&quot;</span>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                        <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> RConfig.PipDependancies)</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                            <span class="keyword">using</span> (var pip = <span class="keyword">new</span> Process())</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                            {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                pip.StartInfo.FileName = PipFile;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                pip.StartInfo.Arguments = <span class="stringliteral">&quot;install &quot;</span> + I;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                pip.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                                pip.StartInfo.RedirectStandardOutput = <span class="keyword">true</span>;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                pip.Start();</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                <span class="keyword">using</span> (StreamReader reader = pip.StandardOutput)</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                    result += <span class="stringliteral">&quot;\r\n---BEGIN-PIP-OUTPUT---\r\n&quot;</span> + reader.ReadToEnd();</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                                }</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                                pip.WaitForExit();</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                                <span class="keywordflow">if</span> (pip.ExitCode != 0)</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                                {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                                    error = <span class="stringliteral">&quot;Script and pip failed!&quot;</span>;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                }</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                            }</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                        <span class="comment">//and recurse</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60">GenerateChangelogImpl</a>(out error, <span class="keyword">true</span>);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                    }</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                    error = null;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Changelog generated&quot;</span> + error, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoChangelog);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                }</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                {</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                    error = e.ToString();</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                    Service.WriteWarning(<span class="stringliteral">&quot;Changelog generation failed: &quot;</span> + error, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoChangelogFail);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                }</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            }</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a460f7422c8ca2c016df6d18a6c64e287"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">TGServerService.ServerInstance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">Repository.cs:130</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6a5f6fad2c5c52da78eb9d1968c02f9d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">TGServerService.ServerInstance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used in conjunction with RepoLock for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">Repository.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab71908fe1713eaf7f806a52b5608aa60"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60">TGServerService.ServerInstance.GenerateChangelogImpl</a></div><div class="ttdeci">string GenerateChangelogImpl(out string error, bool recurse=false)</div><div class="ttdoc">Updates the html changelog </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01146">Repository.cs:1146</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ace81439a32bd7252f187ff607a071e07"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07">TGServerService.ServerInstance.Exists</a></div><div class="ttdeci">bool Exists()</div><div class="ttdoc">Check if the repository is valid, if not Setup(string, string) must be called  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00184">Repository.cs:184</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_cgraph" id="class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07" title="Check if the repository is valid, if not Setup(string, string) must be called &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,136,453,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,201,453,243"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_icgraph" id="class_t_g_server_service_1_1_server_instance_ab71908fe1713eaf7f806a52b5608aa60_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#adbff0b841a8e339a79890a1a91be1fef" title="Updates the html changelog &#160;" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab56ecfc17b45a4658e0a676402b634e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FetchOptions TGServerService.ServerInstance.GenerateFetchOptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create FetchOptions that Prune and have the appropriate credentials and progress handler </p>
<dl class="section return"><dt>Returns</dt><dd>Properly configured FetchOptions</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00980">980</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">TGServerService.ServerInstance.GenerateGitCredentials()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00197">TGServerService.ServerInstance.HandleTransferProgress()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">TGServerService.ServerInstance.Fetch()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> FetchOptions()</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                CredentialsProvider = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039">GenerateGitCredentials</a>,</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                OnTransferProgress = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df">HandleTransferProgress</a>,</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                Prune = <span class="keyword">true</span>,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            };</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a895420e900c51183a28580f3a3ab3039"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039">TGServerService.ServerInstance.GenerateGitCredentials</a></div><div class="ttdeci">Credentials GenerateGitCredentials(string url, string usernameFromUrl, SupportedCredentialTypes types)</div><div class="ttdoc">SSH credentials callback. Properly sets up SSH keys for an authorization operation ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">Repository.cs:1117</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a445215ce9af4a260d0ec5cf1a88210df"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df">TGServerService.ServerInstance.HandleTransferProgress</a></div><div class="ttdeci">bool HandleTransferProgress(TransferProgress progress)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo transfer operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00197">Repository.cs:197</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_cgraph" id="class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_icgraph" id="class_t_g_server_service_1_1_server_instance_ab56ecfc17b45a4658e0a676402b634e3_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="264,136,475,177"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0" title="Check if the current HEAD matches the tracked remote branch HEAD " alt="" coords="523,71,733,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="523,136,733,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="1069,47,1280,88"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="781,79,1021,106"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="796,133,1007,175"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="796,199,1007,240"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1069,199,1280,240"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1328,199,1539,240"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a895420e900c51183a28580f3a3ab3039"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Credentials TGServerService.ServerInstance.GenerateGitCredentials </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>usernameFromUrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SupportedCredentialTypes&#160;</td>
          <td class="paramname"><em>types</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SSH credentials callback. Properly sets up SSH keys for an authorization operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>Ignored</td></tr>
    <tr><td class="paramname">usernameFromUrl</td><td>The username to use for the operation</td></tr>
    <tr><td class="paramname">types</td><td>The SupportedCredentialTypes for the operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The proper Credentials for the operation</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">1117</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">TGServerService.ServerInstance.PrivateKeyPath</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00048">TGServerService.ServerInstance.PublicKeyPath</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00980">TGServerService.ServerInstance.GenerateFetchOptions()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01071">TGServerService.ServerInstance.Push()</a>.</p>
<div class="fragment"><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            var user = usernameFromUrl ?? <span class="stringliteral">&quot;git&quot;</span>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keywordflow">if</span> (types == SupportedCredentialTypes.UsernameQuery)</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> UsernameQueryCredentials()</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                {</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    Username = user,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                };</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> SshUserKeyCredentials()</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                Username = user,</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                PrivateKey = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">PrivateKeyPath</a>,</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                PublicKey = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">PublicKeyPath</a>,</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                Passphrase = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            };</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae7181bf579d6d909c916154bbe095d0b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">TGServerService.ServerInstance.PublicKeyPath</a></div><div class="ttdeci">const string PublicKeyPath</div><div class="ttdoc">The path to the public ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00048">Repository.cs:48</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2ab6a2c8f02431003a7b3eee7f453fff"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">TGServerService.ServerInstance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">Repository.cs:44</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a895420e900c51183a28580f3a3ab3039_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a895420e900c51183a28580f3a3ab3039_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a895420e900c51183a28580f3a3ab3039_icgraph" id="class_t_g_server_service_1_1_server_instance_a895420e900c51183a28580f3a3ab3039_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,55,475,96"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="264,152,475,193"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="1040,226,1280,253"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="523,37,733,79"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="523,103,733,144"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="523,168,733,209"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="781,103,992,144"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0" title="Check if the current HEAD matches the tracked remote branch HEAD " alt="" coords="781,168,992,209"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="781,37,992,79"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="1328,193,1539,235"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="1055,5,1265,47"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1055,71,1265,112"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1328,71,1539,112"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1587,71,1797,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e16ef6af8663fa75bb46109c44cc0be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetBranch </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name of the current branch  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#acd42fb75b462c54acb4834c6f49c4c60">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00444">444</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00411">TGServerService.ServerInstance.GetShaOrBranch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1">GetShaOrBranch</a>(out error, <span class="keyword">true</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a848b2e594808b20d91c9d9b273edd8f1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1">TGServerService.ServerInstance.GetShaOrBranch</a></div><div class="ttdeci">string GetShaOrBranch(out string error, bool branch, bool tracked)</div><div class="ttdoc">Gets the SHA or branch name of the Repo&amp;#39;s HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00411">Repository.cs:411</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8e16ef6af8663fa75bb46109c44cc0be_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8e16ef6af8663fa75bb46109c44cc0be_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8e16ef6af8663fa75bb46109c44cc0be_cgraph" id="class_t_g_server_service_1_1_server_instance_a8e16ef6af8663fa75bb46109c44cc0be_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a460f7422c8ca2c016df6d18a6c64e287"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_server_service_1_1_repo_config.html">RepoConfig</a> TGServerService.ServerInstance.GetCachedRepoConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> for <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> </p>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> for <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a></dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">130</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01146">TGServerService.ServerInstance.GenerateChangelogImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">TGServerService.ServerInstance.InitialConfigureRepository()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00024">TGServerService.ServerInstance.ReadText()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00111">TGServerService.ServerInstance.RepoConfigsMatch()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00966">TGServerService.ServerInstance.SynchronizePush()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> RepoConfig(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178">CachedTGS3SettingsPath</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a62d400cfc5403947bc54bc8cdcb5a178"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178">TGServerService.ServerInstance.CachedTGS3SettingsPath</a></div><div class="ttdeci">const string CachedTGS3SettingsPath</div><div class="ttdoc">Path to the ServerInstance&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00028">Repository.cs:28</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a460f7422c8ca2c016df6d18a6c64e287_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a460f7422c8ca2c016df6d18a6c64e287_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a460f7422c8ca2c016df6d18a6c64e287_icgraph" id="class_t_g_server_service_1_1_server_instance_a460f7422c8ca2c016df6d18a6c64e287_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="523,192,733,233"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="781,129,992,170"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ab71908fe1713eaf7f806a52b5608aa60" title="Updates the html changelog " alt="" coords="264,70,475,112"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde" title="Initial setup for the StaticDirs and CachedTGS3SettingsPath " alt="" coords="264,318,475,360"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a5b2fcd99212aba5406674cdf3175b9a1" title="Read from a static file &#160;" alt="" coords="264,253,475,294"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="264,384,475,425"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="781,194,992,236"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1040,194,1251,236"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1299,194,1509,236"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1557,194,1768,236"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1040,129,1251,170"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#adbff0b841a8e339a79890a1a91be1fef" title="Updates the html changelog &#160;" alt="" coords="523,70,733,112"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#aeb8f7b25f00c15aed0b80f2e0cff6ef4" title="Renames the current static folder to a backup name and recreates is from the current repo using TGS3..." alt="" coords="523,289,733,330"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="523,354,733,396"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="781,354,992,396"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac20c0c10132e76f3bc475c027d80651e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetCommitterEmail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the email of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#af7f76dbeb1a0257f7028b328b7d381bb">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00948">948</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <span class="keywordflow">return</span> Properties.Settings.Default.CommitterEmail;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae53673c44ff7781210ce8bc17723d4d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetCommitterName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a156404374f360c0b9cf49c88a3ec3f17">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00930">930</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                <span class="keywordflow">return</span> Properties.Settings.Default.CommitterName;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac2213c2ab6ad583b472de4176b3d8588"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetCurrentAuthorizedGroup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the windows group allowed to use the service other than administrator  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html#a36082e26039fc2f4e2308e4d2aed5344">TGServiceInterface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00035">35</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TheDroidsWereLookingFor</a> == null)</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;ADMIN&quot;</span>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                var pc = <span class="keyword">new</span> PrincipalContext(ContextType.Machine);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                <span class="keywordflow">return</span> GroupPrincipal.FindByIdentity(pc, IdentityType.Sid, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TheDroidsWereLookingFor</a>.Value).Name;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">catch</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a099e2fa5d7fe81467538a56467c9906c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TGServerService.ServerInstance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00019">Administration.cs:19</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5522e7ef7ad15e78eb098e185b59d0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IDictionary&lt;string, IDictionary&lt;string, string&gt; &gt; TGServerService.ServerInstance.GetCurrentPRList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deserializes the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a> </p>
<dl class="section return"><dt>Returns</dt><dd>A IDictionary&lt;TKey, TValue&gt; of IDictionary&lt;TKey, TValue&gt;. The outer one is keyed by PR# the inner one is keyed by internal strings</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00773">773</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00902">TGServerService.ServerInstance.MergedPullRequests()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        {</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <span class="keywordflow">if</span> (!File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a>))</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> Dictionary&lt;<span class="keywordtype">string</span>, IDictionary&lt;string, string&gt;&gt;();</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            var rawdata = File.ReadAllText(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a>);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            var Deserializer = <span class="keyword">new</span> JavaScriptSerializer();</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">return</span> Deserializer.Deserialize&lt;IDictionary&lt;string, IDictionary&lt;string, string&gt;&gt;&gt;(rawdata);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5a3e4575d902a3e8650d4734629bd9d9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">TGServerService.ServerInstance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00052">Repository.cs:52</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af5522e7ef7ad15e78eb098e185b59d0c_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af5522e7ef7ad15e78eb098e185b59d0c_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af5522e7ef7ad15e78eb098e185b59d0c_icgraph" id="class_t_g_server_service_1_1_server_instance_af5522e7ef7ad15e78eb098e185b59d0c_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a5eb674c9b1ad47e3965a23ee8bb1c226" title="Get the currently merged pull requests. Note that switching branches will delete this list and switch..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac0e13a664468683095e10e352eec8cbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the last update error. Checking this will clear the value  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html#aceff3ad9dcc2b8a173a5fa0c679b6a8a">TGServiceInterface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00137">137</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00068">TGServerService.ServerInstance.lastError</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                var error = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = null;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keywordflow">return</span> error;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_adcc40d967672331fc5578d052f20743a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">TGServerService.ServerInstance.lastError</a></div><div class="ttdeci">string lastError</div><div class="ttdoc">The last error the BYOND updater encountered </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00068">Byond.cs:68</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7c024a90c8ffdb678f9b0bfaafd8764"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetEventPath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the path of an event given an <em>eventName</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The path to the event handler</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00028">28</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

<p>Referenced by <a class="el" href="_preaction_handler_8cs_source.html#l00038">TGServerService.ServerInstance.EventHandlerExists()</a>, and <a class="el" href="_preaction_handler_8cs_source.html#l00048">TGServerService.ServerInstance.HandleEvent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;{0}{1}.bat&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1b7519bc4b8c9476fcd9699385535533">EventFolder</a>, eventName);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1b7519bc4b8c9476fcd9699385535533"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1b7519bc4b8c9476fcd9699385535533">TGServerService.ServerInstance.EventFolder</a></div><div class="ttdeci">const string EventFolder</div><div class="ttdoc">The instance directory for Preaction handlers </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00013">PreactionHandler.cs:13</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab7c024a90c8ffdb678f9b0bfaafd8764_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab7c024a90c8ffdb678f9b0bfaafd8764_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab7c024a90c8ffdb678f9b0bfaafd8764_icgraph" id="class_t_g_server_service_1_1_server_instance_ab7c024a90c8ffdb678f9b0bfaafd8764_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="264,9,475,51"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="523,39,733,80"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="781,5,992,47"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="781,71,992,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="1040,39,1251,80"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1557,5,1768,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1816,5,2027,47"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="2075,5,2285,47"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1557,71,1768,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abefd625f907f5e953509baa1c6da9a07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetHead </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useTracked</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the sha of the current HEAD  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a0f7a08e7133a87c5599f69b57daad550">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00438">438</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00411">TGServerService.ServerInstance.GetShaOrBranch()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1">GetShaOrBranch</a>(out error, <span class="keyword">false</span>, useTracked);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a848b2e594808b20d91c9d9b273edd8f1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1">TGServerService.ServerInstance.GetShaOrBranch</a></div><div class="ttdeci">string GetShaOrBranch(out string error, bool branch, bool tracked)</div><div class="ttdoc">Gets the SHA or branch name of the Repo&amp;#39;s HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00411">Repository.cs:411</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_cgraph" id="class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_icgraph" id="class_t_g_server_service_1_1_server_instance_abefd625f907f5e953509baa1c6da9a07_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac376ed040ee3efc2ef5173339baf723"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetRemote </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the url of the current origin  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a9f9a3d626f42d4a10d2f58e8bd9ad7a0">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00450">450</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    error = res;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                error = null;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Network.Remotes[<span class="stringliteral">&quot;origin&quot;</span>].Url;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aac376ed040ee3efc2ef5173339baf723_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aac376ed040ee3efc2ef5173339baf723_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aac376ed040ee3efc2ef5173339baf723_cgraph" id="class_t_g_server_service_1_1_server_instance_aac376ed040ee3efc2ef5173339baf723_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a848b2e594808b20d91c9d9b273edd8f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetShaOrBranch </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>branch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tracked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the SHA or branch name of the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a>'s HEAD </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>on success, error message on failure</td></tr>
    <tr><td class="paramname">branch</td><td>If , returns the branch name instead of the SHA</td></tr>
    <tr><td class="paramname">tracked</td><td>If , returns the tracked branch SHA and ignores <em>branch</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The SHA or branch name of the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a>'s HEAD</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00411">411</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00444">TGServerService.ServerInstance.GetBranch()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00438">TGServerService.ServerInstance.GetHead()</a>.</p>
<div class="fragment"><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                var result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    error = result;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    error = null;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    <span class="keywordflow">if</span> (tracked &amp;&amp; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.TrackedBranch != null)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.TrackedBranch.Tip.Sha;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    <span class="keywordflow">return</span> branch ? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.FriendlyName : <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.Tip.Sha;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    error = e.ToString();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_cgraph" id="class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_icgraph" id="class_t_g_server_service_1_1_server_instance_a848b2e594808b20d91c9d9b273edd8f1_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8e16ef6af8663fa75bb46109c44cc0be" title="Gets the name of the current branch &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="781,37,992,79"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="781,103,992,144"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1040,37,1251,79"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1299,37,1509,79"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1557,37,1768,79"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1040,103,1251,144"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4f0d76eb19015bd076df3f3aa28e526"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetStagingDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00239">239</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">TGServerService.ServerInstance.CreateSymlink()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00287">TGServerService.ServerInstance.InvertDirectory()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordtype">string</span> TheDir;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">if</span> (!Directory.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>))</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                TheDir = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                File.Create(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6399ca237782f1286ad7379153a51298">LiveDirTest</a>).Close();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5cea7fb477daccffb693b933e8a0b231">ADirTest</a>))</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                        TheDir = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3584843b75b22e9caaf4706fe6d9a26f">BDirTest</a>))</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        TheDir = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Unable to determine current live directory!&quot;</span>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    File.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6399ca237782f1286ad7379153a51298">LiveDirTest</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                TheDir = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc">InvertDirectory</a>(TheDir);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="comment">//So TheDir is what the Live folder is NOT pointing to</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">//Now we need to check if DD is running that folder and swap it if necessary</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            var rsclock = TheDir + <span class="stringliteral">&quot;/&quot;</span> + Properties.Settings.Default.ProjectName + <span class="stringliteral">&quot;.rsc.lk&quot;</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">if</span> (File.Exists(rsclock))</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    File.Delete(rsclock);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">catch</span>   <span class="comment">//held open by byond</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <span class="comment">//This means there is a staged update waiting to be applied, we have to unstage it before we can work</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    Directory.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>, TheDir);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc">InvertDirectory</a>(TheDir);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">return</span> TheDir;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6399ca237782f1286ad7379153a51298"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6399ca237782f1286ad7379153a51298">TGServerService.ServerInstance.LiveDirTest</a></div><div class="ttdeci">const string LiveDirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00038">Compiler.cs:38</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7a81324e1e1171c1d2d2adc35b105e62"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">TGServerService.ServerInstance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5cea7fb477daccffb693b933e8a0b231"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5cea7fb477daccffb693b933e8a0b231">TGServerService.ServerInstance.ADirTest</a></div><div class="ttdeci">const string ADirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00036">Compiler.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3584843b75b22e9caaf4706fe6d9a26f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3584843b75b22e9caaf4706fe6d9a26f">TGServerService.ServerInstance.BDirTest</a></div><div class="ttdeci">const string BDirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00037">Compiler.cs:37</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6dc8ecb836197d4e0a889d8b8944237a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">TGServerService.ServerInstance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">Compiler.cs:33</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abae42263b35cd0124df7a0975c8810f8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">TGServerService.ServerInstance.CreateSymlink</a></div><div class="ttdeci">void CreateSymlink(string link, string target)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">Compiler.cs:94</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c6bafbaf5618ced251442f5e66fa89c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">TGServerService.ServerInstance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af1a8a673b30cc996fc7251de037732fc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc">TGServerService.ServerInstance.InvertDirectory</a></div><div class="ttdeci">string InvertDirectory(string gameDirectory)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00287">Compiler.cs:287</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_cgraph" id="class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc" title="TGServerService.ServerInstance.\lInvertDirectory" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_icgraph" id="class_t_g_server_service_1_1_server_instance_af4f0d76eb19015bd076df3f3aa28e526_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acfabf82df8e6ecbf4069b7a841b0e8b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a> TGServerService.ServerInstance.GetStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current compiler status  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a141230e592c991205d2c9c15f9ad6873">TGServiceInterface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00062">62</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">TGServerService.ServerInstance.compilerCurrentStatus</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae64d03735cb348d0d162e493bf9b3f68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.GetVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">ByondVersion</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the currently installed version as a string formatted as Major.Minor  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html#aa10128c78afe5c181cf71b7386638132">TGServiceInterface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">148</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">TGServerService.ServerInstance.ByondDirectory</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00034">TGServerService.ServerInstance.VersionFile</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">TGServerService.ServerInstance.ApplyStagedUpdate()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00467">TGServerService.ServerInstance.CanStart()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    <span class="keywordflow">if</span> (type == <a class="code" href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">ByondVersion</a>.Latest)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        <span class="comment">//get the latest version from the website</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a19bd19fedfdb8cd0e5701215b483ce3f">ByondLatestURL</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        var results = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        <span class="keyword">using</span> (HttpWebResponse response = (HttpWebResponse)request.GetResponse())</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                            <span class="keyword">using</span> (StreamReader reader = <span class="keyword">new</span> StreamReader(response.GetResponseStream()))</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                            {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                <span class="keywordtype">string</span> html = reader.ReadToEnd();</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                Regex regex = <span class="keyword">new</span> Regex(<span class="stringliteral">&quot;\\\&quot;([^\&quot;]*)\\\&quot;&quot;</span>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                MatchCollection matches = regex.Matches(html);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                <span class="keywordflow">foreach</span> (Match match <span class="keywordflow">in</span> matches)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                    <span class="keywordflow">if</span> (match.Success &amp;&amp; match.Value.Contains(<span class="stringliteral">&quot;_byond.exe&quot;</span>))</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                        results.Add(match.Value.Replace(<span class="stringliteral">&quot;\&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).Replace(<span class="stringliteral">&quot;_byond.exe&quot;</span>, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                            }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        results.Sort();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        results.Reverse();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        <span class="keywordflow">return</span> results.Count &gt; 0 ? results[0] : null;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        <span class="keywordtype">string</span> DirToUse = type == <a class="code" href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">ByondVersion</a>.Staged ? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a74331465cc7db01bbb583a5430e6d506">StagingDirectoryInner</a> : <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">ByondDirectory</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <span class="keywordflow">if</span> (Directory.Exists(DirToUse))</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                            <span class="keywordtype">string</span> file = DirToUse + <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a012f09818116b92edf15f9d4aff96dff">VersionFile</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                            <span class="keywordflow">if</span> (File.Exists(file))</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                <span class="keywordflow">return</span> File.ReadAllText(file);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: &quot;</span> + e.ToString();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a19bd19fedfdb8cd0e5701215b483ce3f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a19bd19fedfdb8cd0e5701215b483ce3f">TGServerService.ServerInstance.ByondLatestURL</a></div><div class="ttdeci">const string ByondLatestURL</div><div class="ttdoc">The URL for getting the latest BYOND version zipfile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00042">Byond.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a63d04056dea64487e7eaed6b26b57e3a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">TGServerService.ServerInstance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a012f09818116b92edf15f9d4aff96dff"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a012f09818116b92edf15f9d4aff96dff">TGServerService.ServerInstance.VersionFile</a></div><div class="ttdeci">const string VersionFile</div><div class="ttdoc">The location of the BYOND version data of an installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00034">Byond.cs:34</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a7610968e566eeb321fee2adba3fbf107"><div class="ttname"><a href="namespace_t_g_service_interface.html#a7610968e566eeb321fee2adba3fbf107">TGServiceInterface.ByondVersion</a></div><div class="ttdeci">ByondVersion</div><div class="ttdoc">Type of byond version </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00036">Enumerations.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a74331465cc7db01bbb583a5430e6d506"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a74331465cc7db01bbb583a5430e6d506">TGServerService.ServerInstance.StagingDirectoryInner</a></div><div class="ttdeci">const string StagingDirectoryInner</div><div class="ttdoc">Path to the actual BYOND installation within the StagingDirectory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00026">Byond.cs:26</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae64d03735cb348d0d162e493bf9b3f68_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae64d03735cb348d0d162e493bf9b3f68_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae64d03735cb348d0d162e493bf9b3f68_icgraph" id="class_t_g_server_service_1_1_server_instance_ae64d03735cb348d0d162e493bf9b3f68_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="264,64,475,105"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="264,152,475,193"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,239,475,280"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="781,108,992,149"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="1040,173,1251,215"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="1040,108,1251,149"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,205,1509,247"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1299,108,1509,149"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1557,108,1768,149"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1816,108,2027,149"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="523,173,733,215"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="781,173,992,215"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,239,733,280"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,304,733,345"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,239,992,280"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,239,1251,280"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,304,992,345"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a971b17056739405a3d2b598ebd1be27a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.HandleCheckoutProgress </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>completedSteps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>totalSteps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e" title="Used for reporting operation progress to the TGServiceInterface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a> checkout operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Ignored</td></tr>
    <tr><td class="paramname">completedSteps</td><td>Dividend for progress calculation</td></tr>
    <tr><td class="paramname">totalSteps</td><td>Divisor for progress calculation</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00209">209</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00492">TGServerService.ServerInstance.Checkout()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">TGServerService.ServerInstance.MergeBranch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a> = (int)(((<span class="keywordtype">float</span>)completedSteps / totalSteps) * 100);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab294e7b6c6025f2c4f15b8b0dc78ef9e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">TGServerService.ServerInstance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGServiceInterface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">Repository.cs:82</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a971b17056739405a3d2b598ebd1be27a_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a971b17056739405a3d2b598ebd1be27a_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a971b17056739405a3d2b598ebd1be27a_icgraph" id="class_t_g_server_service_1_1_server_instance_a971b17056739405a3d2b598ebd1be27a_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="523,136,733,177"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="523,201,733,243"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="781,104,992,145"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,169,992,211"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,169,1251,211"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,169,1509,211"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2d4ae32c582b1d03b22402dab486e80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.HandleCommand </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">65</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00202">TGServerService.ServerInstance.ChatConnectivityCheck()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00154">TGServerService.ServerInstance.CheckAPIVersionConstraints()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">TGServerService.ServerInstance.CompilerLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00248">TGServerService.ServerInstance.KillMe()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00051">TGServerService.ServerInstance.UpdateStaged</a>, <a class="el" href="_server_instance_8cs_source.html#l00045">TGServerService.ServerInstance.Version()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">TGServerService.ServerInstance.WriteCurrentDDLog()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00237">TGServerService.ServerInstance.InteropMessage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            var splits = <span class="keyword">new</span> List&lt;string&gt;(cmd.Split(<span class="charliteral">&#39; &#39;</span>));</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            cmd = splits[0];</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            splits.RemoveAt(0);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordtype">bool</span> APIValid;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">topicLock</a>)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                APIValid = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad">CheckAPIVersionConstraints</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">if</span> (!APIValid &amp;&amp; cmd != <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1881164dde61f3600adee7d595f84d4c">SRAPIVersion</a>)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">return</span>; <span class="comment">//SPEAK THE LANGUAGE!!!</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">switch</span> (cmd)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6e6867184406c444e08d9d9c1516e91d">SRIRCBroadcast</a>:</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;GAME: &quot;</span> + String.Join(<span class="stringliteral">&quot; &quot;</span>, splits), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.GameInfo);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9800fe98bc4ad092f716ffcaf466ec50">SRKillProcess</a>:</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873">KillMe</a>();</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3e3edae60a9304c55a48e8bd50fa0bcf">SRIRCAdminChannelMessage</a>:</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;RELAY: &quot;</span> + String.Join(<span class="stringliteral">&quot; &quot;</span>, splits), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.AdminInfo);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aeddee6363c31797b1e8a8d9cbc652fad">SRWorldReboot</a>:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;World Rebooted&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.WorldReboot);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;World rebooted&quot;</span>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">ServerChatCommands</a> = null;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aff49184e8ceaf6099708b568f09fc4fa">ChatConnectivityCheck</a>();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaff75bb9874194c398f76a60c494bbdf">UpdateStaged</a>)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                        {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaff75bb9874194c398f76a60c494bbdf">UpdateStaged</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">topicLock</a>)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                            {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a> = null;  <span class="comment">//needs updating</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                            }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                            Service.WriteInfo(<span class="stringliteral">&quot;Staged update applied&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ServerUpdateApplied);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                        }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1881164dde61f3600adee7d595f84d4c">SRAPIVersion</a>:</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">topicLock</a>)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                        {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a> = <span class="keyword">new</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">Version</a>(splits[0]);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad">CheckAPIVersionConstraints</a>())</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                        }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                        <span class="keywordflow">catch</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                            Service.WriteWarning(String.Format(<span class="stringliteral">&quot;API version of the game ({0}) is incompatible with the current supported API versions (3.{2}.x.x). Interop disabled.&quot;</span>, splits.Count &gt; 1 ? splits[1] : <span class="stringliteral">&quot;NULL&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a178ed6d4540e6d79c2d6a3df12640c4e">AllowedMajorAPIVersion</a>), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.APIVersionMismatch);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a> = null;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    <span class="comment">//This needs to be done asyncronously otherwise DD won&#39;t be able to process it, because it&#39;s waiting for THIS THREAD to return</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    ThreadPool.QueueUserWorkItem(_ =&gt; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa56e6ffd2d00621ac72048ff36dbbe89">SCAPICompat</a>));</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1881164dde61f3600adee7d595f84d4c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1881164dde61f3600adee7d595f84d4c">TGServerService.ServerInstance.SRAPIVersion</a></div><div class="ttdeci">const string SRAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00039">Interop.cs:39</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9800fe98bc4ad092f716ffcaf466ec50"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9800fe98bc4ad092f716ffcaf466ec50">TGServerService.ServerInstance.SRKillProcess</a></div><div class="ttdeci">const string SRKillProcess</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00035">Interop.cs:35</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6e6867184406c444e08d9d9c1516e91d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6e6867184406c444e08d9d9c1516e91d">TGServerService.ServerInstance.SRIRCBroadcast</a></div><div class="ttdeci">const string SRIRCBroadcast</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00036">Interop.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a84e536f3c962184942e7a5b01bc9ffad"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad">TGServerService.ServerInstance.CheckAPIVersionConstraints</a></div><div class="ttdeci">bool CheckAPIVersionConstraints()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00154">Interop.cs:154</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2e13a465e1c065c58defc0d891822ee5"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">TGServerService.ServerInstance.Version</a></div><div class="ttdeci">string Version()</div><div class="ttdoc">Retrieve&amp;#39;s the service&amp;#39;s version  </div><div class="ttdef"><b>Definition:</b> <a href="_server_instance_8cs_source.html#l00045">ServerInstance.cs:45</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac66b59d813dcc51bf26bd90f3b812e8d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">TGServerService.ServerInstance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">DreamDaemon.cs:290</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaff75bb9874194c398f76a60c494bbdf"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaff75bb9874194c398f76a60c494bbdf">TGServerService.ServerInstance.UpdateStaged</a></div><div class="ttdeci">bool UpdateStaged</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00051">Compiler.cs:51</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af07a5ca7e8aeb5612b5333d94275e762"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">TGServerService.ServerInstance.ServerChatCommands</a></div><div class="ttdeci">List&lt; Command &gt; ServerChatCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00045">Interop.cs:45</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa56e6ffd2d00621ac72048ff36dbbe89"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa56e6ffd2d00621ac72048ff36dbbe89">TGServerService.ServerInstance.SCAPICompat</a></div><div class="ttdeci">const string SCAPICompat</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00032">Interop.cs:32</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aeddee6363c31797b1e8a8d9cbc652fad"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aeddee6363c31797b1e8a8d9cbc652fad">TGServerService.ServerInstance.SRWorldReboot</a></div><div class="ttdeci">const string SRWorldReboot</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00038">Interop.cs:38</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3e3edae60a9304c55a48e8bd50fa0bcf"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3e3edae60a9304c55a48e8bd50fa0bcf">TGServerService.ServerInstance.SRIRCAdminChannelMessage</a></div><div class="ttdeci">const string SRIRCAdminChannelMessage</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00037">Interop.cs:37</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8bdb55d2113035b09f1697072e14c873"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873">TGServerService.ServerInstance.KillMe</a></div><div class="ttdeci">void KillMe()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00248">DreamDaemon.cs:248</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a070d3f5a7292c22e7cd0a807a8f73e4a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">TGServerService.ServerInstance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00025">Interop.cs:25</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8875aeb516888e8ed1007c14302076a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">TGServerService.ServerInstance.topicLock</a></div><div class="ttdeci">object topicLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00019">Interop.cs:19</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa392248d5913143b6537352190e75e6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">TGServerService.ServerInstance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">Interop.cs:131</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a178ed6d4540e6d79c2d6a3df12640c4e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a178ed6d4540e6d79c2d6a3df12640c4e">TGServerService.ServerInstance.AllowedMajorAPIVersion</a></div><div class="ttdeci">const int AllowedMajorAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00024">Interop.cs:24</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aff49184e8ceaf6099708b568f09fc4fa"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aff49184e8ceaf6099708b568f09fc4fa">TGServerService.ServerInstance.ChatConnectivityCheck</a></div><div class="ttdeci">void ChatConnectivityCheck()</div><div class="ttdoc">Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00202">Chat.cs:202</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_cgraph" id="class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aff49184e8ceaf6099708b568f09fc4fa" title="Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots ..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="2101,159,2312,200"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="264,356,475,397"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1584,305,1795,347"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1865,305,2031,347"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1606,669,1773,711"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="1325,800,1536,841"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="1843,473,2053,515"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="1584,188,1795,229"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a0e0f4e5e2bc887424d28ee1d69739259" title="Checks connection status &#160;" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ae7c04a7b9b01bd0a9bf1a329c9643eaa" title="Reconnect a specific providerType &#160;to it&#39;s chat service &#160;" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="523,407,733,448"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698" title="Immediately kills the server &#160;" alt="" coords="781,355,1019,382"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="795,568,1005,609"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="795,503,1005,544"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677" title="Gets the current status of any BYOND updates &#160;" alt="" coords="1067,532,1277,573"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="1325,473,1536,515"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="1325,735,1536,776"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="1067,601,1277,643"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1602,604,1777,645"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="1584,735,1795,776"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1606,539,1773,580"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1861,604,2035,645"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="1325,669,1536,711"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="1325,604,1536,645"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="1325,539,1536,580"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="1325,408,1536,449"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="1584,473,1795,515"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1843,188,2053,229"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_icgraph" id="class_t_g_server_service_1_1_server_instance_aa2d4ae32c582b1d03b22402dab486e80_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ccef305da6b6b218054c1287ba7086b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.HandleEvent </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>eventName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs an event named <em>eventName</em>  if it exists </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>The name of the event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists and failed to run,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00048">48</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

<p>References <a class="el" href="_preaction_handler_8cs_source.html#l00038">TGServerService.ServerInstance.EventHandlerExists()</a>, <a class="el" href="_preaction_handler_8cs_source.html#l00028">TGServerService.ServerInstance.GetEventPath()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_preaction_handler_8cs_source.html#l00097">TGServerService.ServerInstance.PostcompileHook()</a>, and <a class="el" href="_preaction_handler_8cs_source.html#l00088">TGServerService.ServerInstance.PrecompileHook()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f">EventHandlerExists</a>(eventName))</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="comment">// We don&#39;t need a handler, so let&#39;s just fail silently.</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            var process = <span class="keyword">new</span> Process</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                StartInfo = <span class="keyword">new</span> ProcessStartInfo</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    FileName = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764">GetEventPath</a>(eventName),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    UseShellExecute = <span class="keyword">false</span>,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    RedirectStandardOutput = <span class="keyword">true</span>,</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    RedirectStandardError = <span class="keyword">true</span>,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    CreateNoWindow = <span class="keyword">true</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            };</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            process.Start();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            process.WaitForExit();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            var stdout = process.StandardOutput.ReadToEnd();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            var stderr = process.StandardError.ReadToEnd();</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            var success = process.ExitCode == 0;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            var eventData = String.Format(<span class="stringliteral">&quot;Preaction Event: {0} @ {1} ran. Stdout:\n{2}\nStderr:\n{3}&quot;</span>, eventName, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764">GetEventPath</a>(eventName), stdout, stderr);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="keywordflow">if</span> (success)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                Service.WriteInfo(eventData, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.PreactionEvent);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                Service.WriteWarning(eventData, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.PreactionFail);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">return</span> success;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab7c024a90c8ffdb678f9b0bfaafd8764"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764">TGServerService.ServerInstance.GetEventPath</a></div><div class="ttdeci">string GetEventPath(string eventName)</div><div class="ttdoc">Gets the path of an event given an eventName  </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00028">PreactionHandler.cs:28</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae35924a25d2d0fcfb0124ad21ecb421f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f">TGServerService.ServerInstance.EventHandlerExists</a></div><div class="ttdeci">bool EventHandlerExists(string eventName)</div><div class="ttdoc">Check if an event handler for eventName  exists </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00038">PreactionHandler.cs:38</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_cgraph" id="class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="523,35,733,76"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,123,453,164"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,188,453,229"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_icgraph" id="class_t_g_server_service_1_1_server_instance_a3ccef305da6b6b218054c1287ba7086b_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="523,39,733,80"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1557,5,1768,47"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1040,71,1251,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a445215ce9af4a260d0ec5cf1a88210df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.HandleTransferProgress </td>
          <td>(</td>
          <td class="paramtype">TransferProgress&#160;</td>
          <td class="paramname"><em>progress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e" title="Used for reporting operation progress to the TGServiceInterface ">currentProgress</a> with the progess of the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a> transfer operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">progress</td><td>The TransferProgress of the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a> transfer operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00197">197</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00980">TGServerService.ServerInstance.GenerateFetchOptions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a> = ((int)(((<span class="keywordtype">float</span>)progress.ReceivedObjects / progress.TotalObjects) * 100) / 2) +( (int)(((<span class="keywordtype">float</span>)progress.IndexedObjects / progress.TotalObjects) * 100) / 2);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab294e7b6c6025f2c4f15b8b0dc78ef9e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">TGServerService.ServerInstance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGServiceInterface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">Repository.cs:82</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a445215ce9af4a260d0ec5cf1a88210df_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a445215ce9af4a260d0ec5cf1a88210df_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a445215ce9af4a260d0ec5cf1a88210df_icgraph" id="class_t_g_server_service_1_1_server_instance_a445215ce9af4a260d0ec5cf1a88210df_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="523,71,733,112"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="523,136,733,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="781,5,992,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0" title="Check if the current HEAD matches the tracked remote branch HEAD " alt="" coords="781,71,992,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="781,136,992,177"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="1328,47,1539,88"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="1040,79,1280,106"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="1055,133,1265,175"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1055,199,1265,240"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1328,199,1539,240"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1587,199,1797,240"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f51512799decc40e41edde3d1917d0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitByond </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> is setup. Prepares the BYOND updater </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00077">77</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00085">TGServerService.ServerInstance.CleanByondStaging()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00021">TGServerService.ServerInstance.ServerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6">CleanByondStaging</a>();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1540f43c11b3123d35007af7d56567b6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6">TGServerService.ServerInstance.CleanByondStaging</a></div><div class="ttdeci">void CleanByondStaging()</div><div class="ttdoc">Cleans the BYOND staging directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00085">Byond.cs:85</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_cgraph" id="class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6" title="Cleans the BYOND staging directory " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="523,5,697,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="745,5,920,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_icgraph" id="class_t_g_server_service_1_1_server_instance_a1f51512799decc40e41edde3d1917d0e_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a61c197535442dd090e429de96abe5466"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitChat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the <a class="el" href="namespace_t_g_server_service_1_1_chat_providers.html">ChatProviders</a> for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00025">25</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00069">TGServerService.ServerInstance.ChatProvider_OnChatMessage()</a>, <a class="el" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a2122897055147b3802364452c169ad64">TGServerService.ChatProviders.IChatProvider.Connect()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00129">TGServerService.ServerInstance.InitProviderInfos()</a>, <a class="el" href="_chat_provider_8cs_source.html#l00038">TGServerService.ChatProviders.IChatProvider.OnChatMessage</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00021">TGServerService.ServerInstance.ServerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        {</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            var infos = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773aa236fa08157b085162e7c2bdd846">InitProviderInfos</a>();</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a> = <span class="keyword">new</span> List&lt;IChatProvider&gt;(infos.Count);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            <span class="keywordflow">foreach</span> (var info <span class="keywordflow">in</span> infos)</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                <a class="code" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a> chatProvider;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                    <span class="keywordflow">switch</span> (info.Provider)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                    {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>.Discord:</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                            chatProvider = <span class="keyword">new</span> <a class="code" href="class_t_g_server_service_1_1_chat_providers_1_1_discord_chat_provider.html">DiscordChatProvider</a>(info);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                        <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>.IRC:</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                            chatProvider = <span class="keyword">new</span> <a class="code" href="class_t_g_server_service_1_1_chat_providers_1_1_i_r_c_chat_provider.html">IRCChatProvider</a>(info);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                            Service.WriteError(String.Format(<span class="stringliteral">&quot;Invalid chat provider: {0}&quot;</span>, info.Provider), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InvalidChatProvider);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                    }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                }</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                    Service.WriteError(String.Format(<span class="stringliteral">&quot;Failed to start chat provider {0}! Error: {1}&quot;</span>, info.Provider, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ChatProviderStartFail);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                chatProvider.<a class="code" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a09f5975151daea56bd8f17cd30f85da3">OnChatMessage</a> += <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25">ChatProvider_OnChatMessage</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                var res = chatProvider.<a class="code" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a2122897055147b3802364452c169ad64">Connect</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Unable to connect to chat! Provider {0}, Error: {1}&quot;</span>, chatProvider.GetType().ToString(), res), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ChatConnectFail);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a>.Add(chatProvider);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_chat_providers_1_1_discord_chat_provider_html"><div class="ttname"><a href="class_t_g_server_service_1_1_chat_providers_1_1_discord_chat_provider.html">TGServerService.ChatProviders.DiscordChatProvider</a></div><div class="ttdoc">IChatProvider for Discord: https://discordapp.com/ </div><div class="ttdef"><b>Definition:</b> <a href="_discord_chat_provider_8cs_source.html#l00014">DiscordChatProvider.cs:14</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773aa236fa08157b085162e7c2bdd846"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773aa236fa08157b085162e7c2bdd846">TGServerService.ServerInstance.InitProviderInfos</a></div><div class="ttdeci">IList&lt; ChatSetupInfo &gt; InitProviderInfos()</div><div class="ttdoc">Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00129">Chat.cs:129</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acadcf82abcaebb13517e3e169545f35c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">TGServerService.ServerInstance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">Chat.cs:16</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a383af7e89a74270e05065b7f1bed06a4"><div class="ttname"><a href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">TGServiceInterface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00054">Enumerations.cs:54</a></div></div>
<div class="ttc" id="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider_html_a09f5975151daea56bd8f17cd30f85da3"><div class="ttname"><a href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a09f5975151daea56bd8f17cd30f85da3">TGServerService.ChatProviders.IChatProvider.OnChatMessage</a></div><div class="ttdeci">OnChatMessage OnChatMessage</div><div class="ttdoc">Called with chat message info </div><div class="ttdef"><b>Definition:</b> <a href="_chat_provider_8cs_source.html#l00038">ChatProvider.cs:38</a></div></div>
<div class="ttc" id="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider_html_a2122897055147b3802364452c169ad64"><div class="ttname"><a href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a2122897055147b3802364452c169ad64">TGServerService.ChatProviders.IChatProvider.Connect</a></div><div class="ttdeci">string Connect()</div><div class="ttdoc">Connects the chat provider if it&amp;#39;s enabled </div></div>
<div class="ttc" id="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider_html"><div class="ttname"><a href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html">TGServerService.ChatProviders.IChatProvider</a></div><div class="ttdoc">Interface for a chat provder service </div><div class="ttdef"><b>Definition:</b> <a href="_chat_provider_8cs_source.html#l00020">ChatProvider.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a74914da816161c02d9833216fbcb0e25"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25">TGServerService.ServerInstance.ChatProvider_OnChatMessage</a></div><div class="ttdeci">void ChatProvider_OnChatMessage(IChatProvider ChatProvider, string speaker, string channel, string message, bool isAdmin, bool isAdminChannel)</div><div class="ttdoc">Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00069">Chat.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_chat_providers_1_1_i_r_c_chat_provider_html"><div class="ttname"><a href="class_t_g_server_service_1_1_chat_providers_1_1_i_r_c_chat_provider.html">TGServerService.ChatProviders.IRCChatProvider</a></div><div class="ttdoc">IChatProvider for internet relay chat </div><div class="ttdef"><b>Definition:</b> <a href="_i_r_c_chat_provider_8cs_source.html#l00012">IRCChatProvider.cs:12</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_cgraph" id="class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="264,136,475,177"/>
<area shape="rect" id="node12" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a2122897055147b3802364452c169ad64" title="Connects the chat provider if it&#39;s enabled " alt="" coords="267,201,472,243"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a773aa236fa08157b085162e7c2bdd846" title="Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set ..." alt="" coords="264,267,475,308"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="286,332,453,373"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,397,453,439"/>
<area shape="rect" id="node3" href="class_t_g_service_interface_1_1_command.html#a47f562a0eb5fb90e46cc5be013a23d03" title="Caller of Run(IList&lt;string&gt;), can be used to modify the root behaviour of the Command ..." alt="" coords="533,5,731,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9" title="TGServerService.ServerInstance.\lLoadServerChatCommands" alt="" coords="527,71,737,112"/>
<area shape="rect" id="node10" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html#a9daa1c867f34aec9fa61ac0341f7f581" title="Send a message &#160;to a channel &#160;" alt="" coords="523,136,741,177"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="549,201,715,243"/>
<area shape="rect" id="node4" href="class_t_g_service_interface_1_1_command.html#a3f1078fdaf3e09f73b1c66cc6fd41da5" title="Override to do the actions of the Command " alt="" coords="789,13,1009,39"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="794,67,1005,108"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="794,132,1005,173"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1057,132,1268,173"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1316,132,1527,173"/>
<area shape="rect" id="node14" href="class_t_g_service_interface_1_1_helpers.html#a81f38322a0d94f1bbeab703eef6902d2" title="Takes ciphertext and entropy from EncryptData(string, out string) and returns the cleartext..." alt="" coords="541,267,723,308"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_icgraph" id="class_t_g_server_service_1_1_server_instance_a61c197535442dd090e429de96abe5466_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad6f61d0895428e85ec403dbfd0afe744"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitCompiler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00054">54</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00122">TGServerService.ServerInstance.IsInitialized()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00082">TGServerService.ServerInstance.DisposeCompiler()</a>, and <a class="el" href="_server_instance_8cs_source.html#l00021">TGServerService.ServerInstance.ServerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordflow">if</span>(File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6399ca237782f1286ad7379153a51298">LiveDirTest</a>))</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                File.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6399ca237782f1286ad7379153a51298">LiveDirTest</a>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">IsInitialized</a>();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6399ca237782f1286ad7379153a51298"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6399ca237782f1286ad7379153a51298">TGServerService.ServerInstance.LiveDirTest</a></div><div class="ttdeci">const string LiveDirTest</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00038">Compiler.cs:38</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8445f34deceaaa76a7c2088f8c7f1991"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">TGServerService.ServerInstance.IsInitialized</a></div><div class="ttdeci">CompilerStatus IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00122">Compiler.cs:122</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_cgraph" id="class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_icgraph" id="class_t_g_server_service_1_1_server_instance_ad6f61d0895428e85ec403dbfd0afe744_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a46ed0d7dc832756ebf66a79ab2435f7f" title="TGServerService.ServerInstance.\lDisposeCompiler" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8fa16abc1470f3a09b8c5da998ad03a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitDreamDaemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">97</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">TGServerService.ServerInstance.ByondDirectory</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00025">TGServerService.ServerInstance.GameAPIVersion</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">TGServerService.ServerInstance.serviceCommsKey</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">TGServerService.ServerInstance.Start()</a>, <a class="el" href="_server_instance_8cs_source.html#l00045">TGServerService.ServerInstance.Version()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00021">TGServerService.ServerInstance.ServerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc">DiagnosticsDir</a>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">ResourceDiagnosticsDir</a>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            var Reattach = Properties.Settings.Default.ReattachToDD;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">if</span> (Reattach)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a> = Process.GetProcessById(Properties.Settings.Default.ReattachPID);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a> == null)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;GetProcessById returned null!&quot;</span>);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Reattached to running DD process!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDReattachSuccess);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    ThreadPool.QueueUserWorkItem(_ =&gt;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                        Thread.Sleep(5000);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DD: Update complete. Watch dog reactivated...&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    });</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <span class="comment">//start wd </span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">restartLock</a>)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8b0e420f5bfb3ddaaae675c4c05dc1c1">ReattachInsteadOfRestart</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a> = Properties.Settings.Default.ReattachPort;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a> = Properties.Settings.Default.ReattachCommsKey;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a> = <span class="keyword">new</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">Version</a>(Properties.Settings.Default.ReattachAPIVersion);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">DDWatchdog</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9">Watchdog</a>));</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">DDWatchdog</a>.Start();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    Service.WriteError(String.Format(<span class="stringliteral">&quot;Failed to reattach to DreamDaemon! PID: {0}. Exception: {1}&quot;</span>, Properties.Settings.Default.ReattachPID, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDReattachFail);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    Properties.Settings.Default.ReattachToDD = <span class="keyword">false</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    Properties.Settings.Default.Save();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a> == null)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a> = <span class="keyword">new</span> Process();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.StartInfo.FileName = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">ByondDirectory</a> + <span class="stringliteral">&quot;/bin/dreamdaemon.exe&quot;</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.StartInfo.UseShellExecute = <span class="keyword">false</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (Reattach)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">//autostart the server</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (Properties.Settings.Default.DDAutoStart)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="comment">//break this off so we don&#39;t hold up starting the service</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                ThreadPool.QueueUserWorkItem( _ =&gt; { <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3">Start</a>(); });</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9fc559e696e31c09e9d88ca4c1571fbc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc">TGServerService.ServerInstance.DiagnosticsDir</a></div><div class="ttdeci">const string DiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon diagnostic files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00027">DreamDaemon.cs:27</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a63d04056dea64487e7eaed6b26b57e3a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a63d04056dea64487e7eaed6b26b57e3a">TGServerService.ServerInstance.ByondDirectory</a></div><div class="ttdeci">const string ByondDirectory</div><div class="ttdoc">The instance directory to store the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">Byond.cs:18</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4380a85aaa8cdaf5d13a0d90435355d6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">TGServerService.ServerInstance.RestartInProgress</a></div><div class="ttdeci">bool RestartInProgress</div><div class="ttdoc">Used to indicate if an intentional restart is in progress on the watchdog. Requires restartLock to ac...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00078">DreamDaemon.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4e943244934b9768a821aa6ec722ac18"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">TGServerService.ServerInstance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2e13a465e1c065c58defc0d891822ee5"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">TGServerService.ServerInstance.Version</a></div><div class="ttdeci">string Version()</div><div class="ttdoc">Retrieve&amp;#39;s the service&amp;#39;s version  </div><div class="ttdef"><b>Definition:</b> <a href="_server_instance_8cs_source.html#l00045">ServerInstance.cs:45</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa550118aee5bf93064cb25b2171a969b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">TGServerService.ServerInstance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5bc2c5cf72086f7be5ab0360a8b97105"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">TGServerService.ServerInstance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">Interop.cs:21</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab76e4c626e2b38e75781aaad0b7809a9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9">TGServerService.ServerInstance.Watchdog</a></div><div class="ttdeci">void Watchdog()</div><div class="ttdoc">Threaded loop that keeps DreamDaemon from unintentionally stopping </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">DreamDaemon.cs:303</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8b0e420f5bfb3ddaaae675c4c05dc1c1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8b0e420f5bfb3ddaaae675c4c05dc1c1">TGServerService.ServerInstance.ReattachInsteadOfRestart</a></div><div class="ttdeci">bool ReattachInsteadOfRestart</div><div class="ttdoc">Used to indicate if an service restart is in progress on the watchdog. Requires restartLock to access...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00082">DreamDaemon.cs:82</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad3a9a0f4ee4133a41f3db02bbd87a3a9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">TGServerService.ServerInstance.ResourceDiagnosticsDir</a></div><div class="ttdeci">const string ResourceDiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon ResourceUsage files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00031">DreamDaemon.cs:31</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a070d3f5a7292c22e7cd0a807a8f73e4a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">TGServerService.ServerInstance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00025">Interop.cs:25</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af349ace5ef95d437564deefa68138422"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">TGServerService.ServerInstance.DDWatchdog</a></div><div class="ttdeci">Thread DDWatchdog</div><div class="ttdoc">The thread that monitors the status of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00057">DreamDaemon.cs:57</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8f8c222dd4a2d21957b968b26eff08a3"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3">TGServerService.ServerInstance.Start</a></div><div class="ttdeci">string Start()</div><div class="ttdoc">Starts the server if it isn&amp;#39;t running  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">DreamDaemon.cs:478</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad5410eb07e2ceac73e7e024919ba3449"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">TGServerService.ServerInstance.restartLock</a></div><div class="ttdeci">object restartLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00074">DreamDaemon.cs:74</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_cgraph" id="class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1040,431,1251,473"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="264,247,475,289"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1062,311,1229,353"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1062,177,1229,218"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="781,373,992,414"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="781,490,992,531"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1321,402,1487,443"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677" title="Gets the current status of any BYOND updates &#160;" alt="" coords="523,313,733,354"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="781,111,992,153"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="781,46,992,87"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="523,247,733,289"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1058,111,1233,153"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="1040,46,1251,87"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1317,111,1491,153"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="781,177,992,218"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="781,242,992,283"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="781,307,992,349"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="1040,549,1251,590"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="1299,519,1509,561"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="1040,614,1251,655"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1299,614,1509,655"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1557,614,1768,655"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_icgraph" id="class_t_g_server_service_1_1_server_instance_a8fa16abc1470f3a09b8c5da998ad03a9_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac607fbc15cc4048f8f0d19644ee584aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitEventHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1b7519bc4b8c9476fcd9699385535533" title="The instance directory for Preaction handlers ">EventFolder</a> </p>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00018">18</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00021">TGServerService.ServerInstance.ServerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1b7519bc4b8c9476fcd9699385535533">EventFolder</a>);</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1b7519bc4b8c9476fcd9699385535533"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1b7519bc4b8c9476fcd9699385535533">TGServerService.ServerInstance.EventFolder</a></div><div class="ttdeci">const string EventFolder</div><div class="ttdoc">The instance directory for Preaction handlers </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00013">PreactionHandler.cs:13</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac607fbc15cc4048f8f0d19644ee584aa_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac607fbc15cc4048f8f0d19644ee584aa_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac607fbc15cc4048f8f0d19644ee584aa_icgraph" id="class_t_g_server_service_1_1_server_instance_ac607fbc15cc4048f8f0d19644ee584aa_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ce4ab9dd00a38f8e434a54ef8978dde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitialConfigureRepository </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initial setup for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> and <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">336</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00089">TGServerService.Program.CopyDirectory()</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00020">TGServerService.Program.CopyFileForceDirectories()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">TGServerService.ServerInstance.GetCachedRepoConfig()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">TGServerService.ServerInstance.StaticDirs</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">TGServerService.ServerInstance.UpdateInterfaceDll()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00317">TGServerService.ServerInstance.UpdateTGS3Json()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00271">TGServerService.ServerInstance.RecreateStaticFolder()</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da">UpdateInterfaceDll</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3e791a0e714b6c1e94e6b27c13ce2b2a">UpdateTGS3Json</a>();</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            var Config = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a>(); <span class="comment">//RepoBusy is set if we&#39;re here</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> Config.StaticDirectoryPaths)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    var source = Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>, I);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    var dest = Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>, I);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    <span class="keywordflow">if</span> (Directory.Exists(source))</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                        Program.CopyDirectory(source, dest);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                        Directory.CreateDirectory(dest);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    Service.WriteError(<span class="stringliteral">&quot;Could not setup static directory: &quot;</span> + I, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoConfigurationFail);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> Config.DLLPaths)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    var source = Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>, I);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    <span class="keywordflow">if</span> (!File.Exists(source))</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                        Service.WriteWarning(<span class="stringliteral">&quot;Could not find DLL: &quot;</span> + I, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoConfigurationFail);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    var dest = Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>, I);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    Program.CopyFileForceDirectories(source, dest, <span class="keyword">false</span>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                    Service.WriteError(<span class="stringliteral">&quot;Could not setup static DLL: &quot;</span> + I, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoConfigurationFail);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a460f7422c8ca2c016df6d18a6c64e287"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">TGServerService.ServerInstance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">Repository.cs:130</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4b4771257ed71f5145b495f85a0553da"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da">TGServerService.ServerInstance.UpdateInterfaceDll</a></div><div class="ttdeci">void UpdateInterfaceDll(bool overwrite)</div><div class="ttdoc">Copies InterfaceDLLName from the program directory to the the ServerInstance directory ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">DreamDaemon.cs:524</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3e791a0e714b6c1e94e6b27c13ce2b2a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3e791a0e714b6c1e94e6b27c13ce2b2a">TGServerService.ServerInstance.UpdateTGS3Json</a></div><div class="ttdeci">string UpdateTGS3Json()</div><div class="ttdoc">Updates the CachedTGS3SettingsPath with the RepoTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00317">Repository.cs:317</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_cgraph" id="class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="282,5,457,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#aef2a6a2e44bad48a223197b153734b06" title="Copy a file from source &#160;to dest , but first ensure the destination directory exists ..." alt="" coords="282,71,457,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="264,201,475,243"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="527,260,693,301"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a3e791a0e714b6c1e94e6b27c13ce2b2a" title="Updates the CachedTGS3SettingsPath with the RepoTGS3SettingsPath " alt="" coords="264,319,475,360"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,384,453,425"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="523,5,697,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="527,195,693,236"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_icgraph" id="class_t_g_server_service_1_1_server_instance_a5ce4ab9dd00a38f8e434a54ef8978dde_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aeb8f7b25f00c15aed0b80f2e0cff6ef4" title="Renames the current static folder to a backup name and recreates is from the current repo using TGS3..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a427984d1cb5c60f217967795c9695998"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder. Requires the repository to be set up and locks it once the compilation stage starts. Runs asyncronously from this call  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a90c3f445b84e69fe69eba02933ed2a6d">TGServiceInterface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00107">107</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00101">TGServerService.ServerInstance.CompilerIdleNoLock()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7885cff0cd047f5485cbb9cba09407e8">CompilerIdleNoLock</a>())</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = null;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initializing;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62">InitializeImpl</a>));</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">CompilerThread</a>.Start();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7885cff0cd047f5485cbb9cba09407e8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7885cff0cd047f5485cbb9cba09407e8">TGServerService.ServerInstance.CompilerIdleNoLock</a></div><div class="ttdeci">bool CompilerIdleNoLock()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00101">Compiler.cs:101</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aabf31525de01a260b7a83ce8ac928d62"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62">TGServerService.ServerInstance.InitializeImpl</a></div><div class="ttdeci">void InitializeImpl()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">Compiler.cs:153</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a66a6d4cf18b436ad79fd5eb9e3546881"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">TGServerService.ServerInstance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00044">Compiler.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7276f1afc5e4e29a3dd7ecbc324b1661"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7276f1afc5e4e29a3dd7ecbc324b1661">TGServerService.ServerInstance.CompilerThread</a></div><div class="ttdeci">Thread CompilerThread</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00046">Compiler.cs:46</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a427984d1cb5c60f217967795c9695998_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a427984d1cb5c60f217967795c9695998_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a427984d1cb5c60f217967795c9695998_cgraph" id="class_t_g_server_service_1_1_server_instance_a427984d1cb5c60f217967795c9695998_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a7885cff0cd047f5485cbb9cba09407e8" title="TGServerService.ServerInstance.\lCompilerIdleNoLock" alt="" coords="264,259,475,301"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="264,325,475,366"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="781,114,992,155"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="781,179,992,221"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07" title="Check if the repository is valid, if not Setup(string, string) must be called &#160;" alt="" coords="523,165,733,206"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="781,375,992,417"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="1040,427,1251,469"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="781,1209,992,1250"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215" title="TGServerService.ServerInstance.\lCleanGameFolder" alt="" coords="523,383,733,425"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="799,310,974,351"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="1040,1091,1251,1133"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="803,245,970,286"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="523,639,733,681"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="1299,526,1509,567"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1321,902,1487,943"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1058,310,1233,351"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="1299,1091,1509,1133"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="799,961,974,1002"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="1040,727,1251,769"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1321,719,1487,761"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="781,493,992,534"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="781,1026,992,1067"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="781,1143,992,1185"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="781,843,992,885"/>
<area shape="rect" id="node32" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="781,778,992,819"/>
<area shape="rect" id="node33" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae" title="Returns the relative path of the dme the compiler will look for without the .dme part &#160;..." alt="" coords="781,610,992,651"/>
<area shape="rect" id="node34" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424" title="Updates LiveTrackingBranch with the staged Compile(bool)&#39;s SHA " alt="" coords="1040,558,1251,599"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="1058,961,1233,1002"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="1040,493,1251,534"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc" title="TGServerService.ServerInstance.\lInvertDirectory" alt="" coords="1040,1026,1251,1067"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="1040,818,1251,859"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="1299,785,1509,826"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="1557,814,1768,855"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aabf31525de01a260b7a83ce8ac928d62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitializeImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">153</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00140">TGServerService.ServerInstance.CleanGameFolder()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">TGServerService.ServerInstance.CreateSymlink()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00184">TGServerService.ServerInstance.Exists()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">TGServerService.ServerInstance.GetCachedRepoConfig()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">TGServerService.ServerInstance.InterfaceDLLName</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00122">TGServerService.ServerInstance.IsInitialized()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00111">TGServerService.ServerInstance.RepoConfigsMatch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00107">TGServerService.ServerInstance.Initialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>() != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;Dream daemon must not be running&quot;</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">IsInitialized</a>();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07">Exists</a>()) <span class="comment">//repo</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;Repository is not setup!&quot;</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">IsInitialized</a>();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8">RepoConfigsMatch</a>())</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = <span class="stringliteral">&quot;Repository TGS3.json does not match cached version! Please update the config appropriately!&quot;</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">IsInitialized</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: Setting up symlinks...&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215">CleanGameFolder</a>();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    Program.DeleteDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    var Config = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <span class="keywordflow">if</span> (Config != null) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.StaticDirectoryPaths)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>, I), Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>, I));</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.DLLPaths)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>, I), Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>, I));</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>), <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>), <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">CreateSymlink</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    </div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Compiling;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">silentCompile</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DM: Setup failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        Service.WriteError(<span class="stringliteral">&quot;Compiler Initialization Error: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DMInitializeCrash);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">lastCompilerError</a> = e.ToString();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Uninitialized;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324">CompileImpl</a>();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }       </div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a591be0739a0ebf1c70fa2d0615262324"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324">TGServerService.ServerInstance.CompileImpl</a></div><div class="ttdeci">void CompileImpl()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">Compiler.cs:296</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a460f7422c8ca2c016df6d18a6c64e287"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">TGServerService.ServerInstance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">Repository.cs:130</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7a81324e1e1171c1d2d2adc35b105e62"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">TGServerService.ServerInstance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1ab16aa5c7a41006e221acf710131efe"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">TGServerService.ServerInstance.InterfaceDLLName</a></div><div class="ttdeci">const string InterfaceDLLName</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af08b470db051748bc99e830bd263d215"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215">TGServerService.ServerInstance.CleanGameFolder</a></div><div class="ttdeci">void CleanGameFolder()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00140">Compiler.cs:140</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3a0db5ea4f797662c4317686d629a7e8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8">TGServerService.ServerInstance.RepoConfigsMatch</a></div><div class="ttdeci">bool RepoConfigsMatch()</div><div class="ttdoc">Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00111">Repository.cs:111</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8011e4943a3fbb07f419d91ea5585132"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8011e4943a3fbb07f419d91ea5585132">TGServerService.ServerInstance.silentCompile</a></div><div class="ttdeci">bool silentCompile</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00049">Compiler.cs:49</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6dc8ecb836197d4e0a889d8b8944237a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">TGServerService.ServerInstance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">Compiler.cs:33</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abae42263b35cd0124df7a0975c8810f8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8">TGServerService.ServerInstance.CreateSymlink</a></div><div class="ttdeci">void CreateSymlink(string link, string target)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00094">Compiler.cs:94</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8445f34deceaaa76a7c2088f8c7f1991"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991">TGServerService.ServerInstance.IsInitialized</a></div><div class="ttdeci">CompilerStatus IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00122">Compiler.cs:122</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aae521c4c39e87f29fc7cba98c0ff58d7"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">TGServerService.ServerInstance.GameDir</a></div><div class="ttdeci">const string GameDir</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00030">Compiler.cs:30</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a66a6d4cf18b436ad79fd5eb9e3546881"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a66a6d4cf18b436ad79fd5eb9e3546881">TGServerService.ServerInstance.lastCompilerError</a></div><div class="ttdeci">string lastCompilerError</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00044">Compiler.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c6bafbaf5618ced251442f5e66fa89c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">TGServerService.ServerInstance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ace81439a32bd7252f187ff607a071e07"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07">TGServerService.ServerInstance.Exists</a></div><div class="ttdeci">bool Exists()</div><div class="ttdoc">Check if the repository is valid, if not Setup(string, string) must be called  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00184">Repository.cs:184</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_cgraph" id="class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215" title="TGServerService.ServerInstance.\lCleanGameFolder" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,685,475,727"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="781,213,992,255"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="523,41,733,83"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="541,107,715,148"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="781,1177,992,1219"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="523,1053,733,1095"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="523,1236,733,1277"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="523,871,733,912"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="545,1119,711,1160"/>
<area shape="rect" id="node32" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07" title="Check if the repository is valid, if not Setup(string, string) must be called &#160;" alt="" coords="264,1287,475,1328"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="541,601,715,643"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="781,703,992,744"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1062,644,1229,685"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1062,736,1229,777"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="523,936,733,977"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="523,275,733,316"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="523,340,733,381"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="523,405,733,447"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="523,471,733,512"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae" title="Returns the relative path of the dme the compiler will look for without the .dme part &#160;..." alt="" coords="523,536,733,577"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424" title="Updates LiveTrackingBranch with the staged Compile(bool)&#39;s SHA " alt="" coords="781,820,992,861"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="799,585,974,627"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="1040,879,1251,920"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="1040,213,1251,255"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="799,107,974,148"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="781,937,992,979"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc" title="TGServerService.ServerInstance.\lInvertDirectory" alt="" coords="781,279,992,320"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="781,495,992,536"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="1040,465,1251,507"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="1299,495,1509,536"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_icgraph" id="class_t_g_server_service_1_1_server_instance_aabf31525de01a260b7a83ce8ac928d62_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a773aa236fa08157b085162e7c2bdd846"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>&gt; TGServerService.ServerInstance.InitProviderInfos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set </p>
<dl class="section return"><dt>Returns</dt><dd>A list of ChatSetupInfos loaded from the config or the defaults if none are set</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00129">129</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_helpers_8cs_source.html#l00037">TGServiceInterface.Helpers.DecryptData()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00025">TGServerService.ServerInstance.InitChat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a03e6f43c86cd29032ae6acc003afe521">ChatLock</a>)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                var Config = Properties.Settings.Default;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                var rawdata = Config.ChatProviderData;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="keywordflow">if</span> (rawdata == <span class="stringliteral">&quot;NEEDS INITIALIZING&quot;</span>)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">new</span> List&lt;ChatSetupInfo&gt;() { <span class="keyword">new</span> <a class="code" href="class_t_g_service_interface_1_1_i_r_c_setup_info.html">IRCSetupInfo</a>(), <span class="keyword">new</span> <a class="code" href="class_t_g_service_interface_1_1_discord_setup_info.html">DiscordSetupInfo</a>() };</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordtype">string</span> plaintext;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    plaintext = <a class="code" href="class_t_g_service_interface_1_1_helpers.html">Helpers</a>.<a class="code" href="class_t_g_service_interface_1_1_helpers.html#a81f38322a0d94f1bbeab703eef6902d2">DecryptData</a>(rawdata, Config.ChatProviderEntropy);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    </div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    var lists = <span class="keyword">new</span> JavaScriptSerializer().Deserialize&lt;List&lt;List&lt;string&gt;&gt;&gt;(plaintext);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    var output = <span class="keyword">new</span> List&lt;ChatSetupInfo&gt;(lists.Count);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    var foundirc = 0;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    var founddiscord = 0;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    <span class="keywordflow">foreach</span> (var l <span class="keywordflow">in</span> lists)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        var info = <span class="keyword">new</span> <a class="code" href="class_t_g_service_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>(l);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        <span class="keywordflow">if</span> (info.Provider == <a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>.Discord)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                            ++founddiscord;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.Provider == <a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>.IRC)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                            ++foundirc;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        output.Add(info);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    <span class="keywordflow">if</span> (foundirc != 1 || founddiscord != 1)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    </div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keywordflow">return</span> output;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    Config.ChatProviderData = <span class="stringliteral">&quot;NEEDS INITIALIZING&quot;</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="comment">//if we get here we want to retry</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773aa236fa08157b085162e7c2bdd846">InitProviderInfos</a>();</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773aa236fa08157b085162e7c2bdd846"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773aa236fa08157b085162e7c2bdd846">TGServerService.ServerInstance.InitProviderInfos</a></div><div class="ttdeci">IList&lt; ChatSetupInfo &gt; InitProviderInfos()</div><div class="ttdoc">Returns a list of ChatSetupInfos loaded from the config or the defaults if none are set ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00129">Chat.cs:129</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_helpers_html_a81f38322a0d94f1bbeab703eef6902d2"><div class="ttname"><a href="class_t_g_service_interface_1_1_helpers.html#a81f38322a0d94f1bbeab703eef6902d2">TGServiceInterface.Helpers.DecryptData</a></div><div class="ttdeci">static string DecryptData(string ciphertext, string entropy)</div><div class="ttdoc">Takes ciphertext and entropy from EncryptData(string, out string) and returns the cleartext...</div><div class="ttdef"><b>Definition:</b> <a href="_helpers_8cs_source.html#l00037">Helpers.cs:37</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_discord_setup_info_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_discord_setup_info.html">TGServiceInterface.DiscordSetupInfo</a></div><div class="ttdoc">Chat provider for Discord. Admin entires should be user ids in normal mode or group ids in special mo...</div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00297">ChatSetupInfo.cs:297</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_i_r_c_setup_info_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_i_r_c_setup_info.html">TGServiceInterface.IRCSetupInfo</a></div><div class="ttdoc">Chat provider for IRC. Admin entries should be user nicknames in normal mode or required channel flag...</div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00206">ChatSetupInfo.cs:206</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_chat_setup_info_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_chat_setup_info.html">TGServiceInterface.ChatSetupInfo</a></div><div class="ttdoc">For setting up authentication no matter the chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00014">ChatSetupInfo.cs:14</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a383af7e89a74270e05065b7f1bed06a4"><div class="ttname"><a href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">TGServiceInterface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00054">Enumerations.cs:54</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a03e6f43c86cd29032ae6acc003afe521"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a03e6f43c86cd29032ae6acc003afe521">TGServerService.ServerInstance.ChatLock</a></div><div class="ttdeci">object ChatLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00020">Chat.cs:20</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_helpers_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_helpers.html">TGServiceInterface.Helpers</a></div><div class="ttdoc">Helper functions used across the server suite </div><div class="ttdef"><b>Definition:</b> <a href="_helpers_8cs_source.html#l00010">Helpers.cs:10</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_cgraph" id="class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_cgraph">
<area shape="rect" id="node2" href="class_t_g_service_interface_1_1_helpers.html#a81f38322a0d94f1bbeab703eef6902d2" title="Takes ciphertext and entropy from EncryptData(string, out string) and returns the cleartext..." alt="" coords="264,5,447,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_icgraph" id="class_t_g_server_service_1_1_server_instance_a773aa236fa08157b085162e7c2bdd846_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac4444f5e9e540e4d8222da5d9ff42940"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.InitRepo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the repository </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">95</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00087">TGServerService.ServerInstance.autoUpdateTimer</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01278">TGServerService.ServerInstance.AutoUpdateTimer_Elapsed()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00285">TGServerService.ServerInstance.DisableGarbageCollectionNoLock()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00184">TGServerService.ServerInstance.Exists()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01254">TGServerService.ServerInstance.SetAutoUpdateInterval()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">TGServerService.ServerInstance.UpdateInterfaceDll()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00021">TGServerService.ServerInstance.ServerInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a322d0960aa917af28f836c5d9035d2e7">RepoKeyDir</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07">Exists</a>())</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da">UpdateInterfaceDll</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>() == null)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8">DisableGarbageCollectionNoLock</a>();</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="comment">//start the autoupdate timer</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">autoUpdateTimer</a>.Elapsed += <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba">AutoUpdateTimer_Elapsed</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a627c8818fce3742ee646e0eb08457fce">SetAutoUpdateInterval</a>(Properties.Settings.Default.AutoUpdateInterval);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4b4771257ed71f5145b495f85a0553da"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da">TGServerService.ServerInstance.UpdateInterfaceDll</a></div><div class="ttdeci">void UpdateInterfaceDll(bool overwrite)</div><div class="ttdoc">Copies InterfaceDLLName from the program directory to the the ServerInstance directory ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">DreamDaemon.cs:524</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af0d1ea78a382258b4ddcf815cb23f7ba"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba">TGServerService.ServerInstance.AutoUpdateTimer_Elapsed</a></div><div class="ttdeci">void AutoUpdateTimer_Elapsed(object sender, System.Timers.ElapsedEventArgs e)</div><div class="ttdoc">Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01278">Repository.cs:1278</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a627c8818fce3742ee646e0eb08457fce"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a627c8818fce3742ee646e0eb08457fce">TGServerService.ServerInstance.SetAutoUpdateInterval</a></div><div class="ttdeci">void SetAutoUpdateInterval(ulong newInterval)</div><div class="ttdoc">(De)Activate and set the interval for the automatic server updater  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01254">Repository.cs:1254</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a322d0960aa917af28f836c5d9035d2e7"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a322d0960aa917af28f836c5d9035d2e7">TGServerService.ServerInstance.RepoKeyDir</a></div><div class="ttdeci">const string RepoKeyDir</div><div class="ttdoc">The ServerInstance directory for the repository SSH keys </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00040">Repository.cs:40</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae88c3d75e0b20177d4d8ad653e8ea4d1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">TGServerService.ServerInstance.autoUpdateTimer</a></div><div class="ttdeci">System.Timers.Timer autoUpdateTimer</div><div class="ttdoc">Used for automatically updating the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2797d54ddfe3bd78e2c726b11136fba8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8">TGServerService.ServerInstance.DisableGarbageCollectionNoLock</a></div><div class="ttdeci">void DisableGarbageCollectionNoLock()</div><div class="ttdoc">Turns off the gc.auto git config setting </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00285">Repository.cs:285</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ace81439a32bd7252f187ff607a071e07"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07">TGServerService.ServerInstance.Exists</a></div><div class="ttdeci">bool Exists()</div><div class="ttdoc">Check if the repository is valid, if not Setup(string, string) must be called  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00184">Repository.cs:184</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_cgraph" id="class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="266,734,477,776"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="1561,481,1772,522"/>
<area shape="rect" id="node44" href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8" title="Turns off the gc.auto git config setting " alt="" coords="264,800,479,841"/>
<area shape="rect" id="node45" href="class_t_g_server_service_1_1_server_instance.html#ace81439a32bd7252f187ff607a071e07" title="Check if the repository is valid, if not Setup(string, string) must be called &#160;" alt="" coords="266,865,477,906"/>
<area shape="rect" id="node46" href="class_t_g_server_service_1_1_server_instance.html#a627c8818fce3742ee646e0eb08457fce" title="(De)Activate and set the interval for the automatic server updater &#160;" alt="" coords="266,930,477,972"/>
<area shape="rect" id="node47" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="1044,1133,1255,1174"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="527,677,737,718"/>
<area shape="rect" id="node33" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="785,1334,996,1376"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="785,648,996,689"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="1062,498,1237,540"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="1303,761,1513,802"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1583,892,1750,933"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1583,1264,1750,1305"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#abae42263b35cd0124df7a0975c8810f8" title="TGServerService.ServerInstance.\lCreateSymlink" alt="" coords="1303,69,1513,110"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="1044,782,1255,824"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1321,1568,1495,1609"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="1303,620,1513,661"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="1044,185,1255,226"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="1044,120,1255,161"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="1044,250,1255,292"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="1044,316,1255,357"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a74d6e8df896a4a8f6f1faa7d67a2bbde" title="Run the &quot;postcompile&quot; event " alt="" coords="1044,1016,1255,1057"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#af19d01601edb8beb1e78ffdcaf572c47" title="Run the &quot;precompile&quot; event " alt="" coords="1044,950,1255,992"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#a724c7681dbfd9bfc0128392e92f8cfae" title="Returns the relative path of the dme the compiler will look for without the .dme part &#160;..." alt="" coords="1044,433,1255,474"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="1044,564,1255,605"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1303,1420,1513,1461"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424" title="Updates LiveTrackingBranch with the staged Compile(bool)&#39;s SHA " alt="" coords="1303,404,1513,445"/>
<area shape="rect" id="node32" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1325,1354,1491,1396"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="1321,498,1495,540"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a6842952e4558a97fc0b9612c5cfc5088" title="TGServerService.ServerInstance.\lCreateSymbolicLink" alt="" coords="1561,69,1772,110"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1579,1568,1754,1609"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="1303,254,1513,296"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#af1a8a673b30cc996fc7251de037732fc" title="TGServerService.ServerInstance.\lInvertDirectory" alt="" coords="1303,134,1513,176"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="1303,1012,1513,1053"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="1561,1041,1772,1082"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="1820,1012,2031,1053"/>
<area shape="rect" id="node34" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="1044,1704,1255,1745"/>
<area shape="rect" id="node38" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="1303,1158,1513,1200"/>
<area shape="rect" id="node39" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="1044,1536,1255,1577"/>
<area shape="rect" id="node40" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="1044,1418,1255,1460"/>
<area shape="rect" id="node41" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="1044,1250,1255,1292"/>
<area shape="rect" id="node35" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="1303,1704,1513,1745"/>
<area shape="rect" id="node36" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="1561,1710,1772,1752"/>
<area shape="rect" id="node37" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="1561,1645,1772,1686"/>
<area shape="rect" id="node42" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="1303,1289,1513,1330"/>
<area shape="rect" id="node43" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="1303,1224,1513,1265"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_icgraph" id="class_t_g_server_service_1_1_server_instance_ac4444f5e9e540e4d8222da5d9ff42940_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a31cb383e125fcb094259185112c3ea40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.InteropMessage </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called from /world/ExportService(command)  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_interop.html#a0ffd8993d37ffa931d94c3b0390e49af">TGServiceInterface.Components.ITGInterop</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00237">237</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80">HandleCommand</a>(command);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Handle command for \&quot;{0}\&quot; failed: {1}&quot;</span>, command, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InteropCallException);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa2d4ae32c582b1d03b22402dab486e80"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80">TGServerService.ServerInstance.HandleCommand</a></div><div class="ttdeci">void HandleCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">Interop.cs:65</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a31cb383e125fcb094259185112c3ea40_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a31cb383e125fcb094259185112c3ea40_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a31cb383e125fcb094259185112c3ea40_cgraph" id="class_t_g_server_service_1_1_server_instance_a31cb383e125fcb094259185112c3ea40_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="264,298,475,339"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="2123,311,2290,353"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aff49184e8ceaf6099708b568f09fc4fa" title="Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots ..." alt="" coords="523,159,733,201"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="2360,334,2571,375"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="523,327,733,369"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1843,311,2053,353"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1865,727,2031,769"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="1584,871,1795,913"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="2101,538,2312,579"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="1843,246,2053,287"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a0e0f4e5e2bc887424d28ee1d69739259" title="Checks connection status &#160;" alt="" coords="781,159,992,201"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ae7c04a7b9b01bd0a9bf1a329c9643eaa" title="Reconnect a specific providerType &#160;to it&#39;s chat service &#160;" alt="" coords="781,94,992,135"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="781,378,992,419"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698" title="Immediately kills the server &#160;" alt="" coords="1040,327,1277,353"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="1053,429,1264,470"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="1053,627,1264,669"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677" title="Gets the current status of any BYOND updates &#160;" alt="" coords="1325,693,1536,734"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="1584,545,1795,586"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="1584,806,1795,847"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="1325,627,1536,669"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1861,662,2035,703"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="1843,799,2053,841"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1865,597,2031,638"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="2119,662,2294,703"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="1584,741,1795,782"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="1584,675,1795,717"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="1584,610,1795,651"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="1584,479,1795,521"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="1843,479,2053,521"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="2101,246,2312,287"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af1a8a673b30cc996fc7251de037732fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.InvertDirectory </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>gameDirectory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00287">287</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00031">TGServerService.ServerInstance.GameDirA</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00032">TGServerService.ServerInstance.GameDirB</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00239">TGServerService.ServerInstance.GetStagingDir()</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">if</span> (gameDirectory == <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>)</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7a81324e1e1171c1d2d2adc35b105e62"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">TGServerService.ServerInstance.GameDirB</a></div><div class="ttdeci">const string GameDirB</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00032">Compiler.cs:32</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c6bafbaf5618ced251442f5e66fa89c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">TGServerService.ServerInstance.GameDirA</a></div><div class="ttdeci">const string GameDirA</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00031">Compiler.cs:31</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af1a8a673b30cc996fc7251de037732fc_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af1a8a673b30cc996fc7251de037732fc_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af1a8a673b30cc996fc7251de037732fc_icgraph" id="class_t_g_server_service_1_1_server_instance_af1a8a673b30cc996fc7251de037732fc_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af4f0d76eb19015bd076df3f3aa28e526" title="TGServerService.ServerInstance.\lGetStagingDir" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="523,39,733,80"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1557,5,1768,47"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1040,71,1251,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8445f34deceaaa76a7c2088f8c7f1991"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a> TGServerService.ServerInstance.IsInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00122">122</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00054">TGServerService.ServerInstance.InitCompiler()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a> + <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a280f8b421bd1d3a8a8cb4c5e455fdfc3">LibMySQLFile</a>))    <span class="comment">//its a good tell, jim</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Uninitialized;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div><div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6dc8ecb836197d4e0a889d8b8944237a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">TGServerService.ServerInstance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">Compiler.cs:33</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a280f8b421bd1d3a8a8cb4c5e455fdfc3"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a280f8b421bd1d3a8a8cb4c5e455fdfc3">TGServerService.ServerInstance.LibMySQLFile</a></div><div class="ttdeci">const string LibMySQLFile</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00028">Compiler.cs:28</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8445f34deceaaa76a7c2088f8c7f1991_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8445f34deceaaa76a7c2088f8c7f1991_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8445f34deceaaa76a7c2088f8c7f1991_icgraph" id="class_t_g_server_service_1_1_server_instance_a8445f34deceaaa76a7c2088f8c7f1991_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,12,475,53"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744" title="TGServerService.ServerInstance.\lInitCompiler" alt="" coords="264,129,475,171"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,39,1251,80"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,84,1509,125"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a46ed0d7dc832756ebf66a79ab2435f7f" title="TGServerService.ServerInstance.\lDisposeCompiler" alt="" coords="523,188,733,229"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="781,188,992,229"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="1040,188,1251,229"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8bdb55d2113035b09f1697072e14c873"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.KillMe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00248">248</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00265">TGServerService.ServerInstance.Restart()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">TGServerService.ServerInstance.Stop()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordtype">bool</span> DoRestart;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                DoRestart = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> == <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.None;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">if</span> (!DoRestart)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.Pinged;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="comment">//Do this is a seperate thread or we&#39;ll kill this thread in the middle of rebooting</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">if</span> (DoRestart)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                ThreadPool.QueueUserWorkItem(_ =&gt; { <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8">Restart</a>(); });</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                ThreadPool.QueueUserWorkItem(_ =&gt; { <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698">Stop</a>(); });</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac58aa725d4b3a81cf979ab657a02cdb8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8">TGServerService.ServerInstance.Restart</a></div><div class="ttdeci">string Restart()</div><div class="ttdoc">Immediately kills and restarts the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00265">DreamDaemon.cs:265</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0fcdc82f293c4cd7da11738f2c1e2656"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">TGServerService.ServerInstance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad1ddb778169e3f37504360e6850f3b10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">TGServerService.ServerInstance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad8b0bbbe0957e9d732666bec0ec06698"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698">TGServerService.ServerInstance.Stop</a></div><div class="ttdeci">string Stop()</div><div class="ttdoc">Immediately kills the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">DreamDaemon.cs:219</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_cgraph" id="class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="264,191,475,232"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698" title="Immediately kills the server &#160;" alt="" coords="523,257,760,283"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="536,191,747,232"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="536,125,747,167"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1325,136,1536,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677" title="Gets the current status of any BYOND updates &#160;" alt="" coords="808,125,1019,167"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="1067,136,1277,177"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="1067,71,1277,112"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="808,300,1019,341"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1343,71,1518,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="1325,5,1536,47"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1347,201,1514,243"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1347,267,1514,308"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1602,71,1777,112"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1606,227,1773,268"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="1067,267,1277,308"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="1067,397,1277,439"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="1067,463,1277,504"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="1067,201,1277,243"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="1067,332,1277,373"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="1325,501,1536,543"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="1584,475,1795,516"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="1325,384,1536,425"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1584,384,1795,425"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1843,384,2053,425"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_icgraph" id="class_t_g_server_service_1_1_server_instance_a8bdb55d2113035b09f1697072e14c873_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab6650942838ebe1dc0766dc47b3f5363"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IDictionary&lt;string, string&gt; TGServerService.ServerInstance.ListBackups </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists tags in the repository created by the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>on success, error message on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary of tag title -&gt; commit SHA on success,  on failure</dd></dl>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a1e4ef71b269722616e8fde455f7137f3">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00700">700</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    error = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                    <span class="keywordflow">if</span> (error != null)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                    var res = <span class="keyword">new</span> Dictionary&lt;string, string&gt;();</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                    <span class="keywordflow">foreach</span> (var T <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Tags)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                        <span class="keywordflow">if</span> (T.FriendlyName.Contains(<span class="stringliteral">&quot;TGS&quot;</span>))</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                            res.Add(T.FriendlyName, T.Target.Sha);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab6650942838ebe1dc0766dc47b3f5363_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab6650942838ebe1dc0766dc47b3f5363_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab6650942838ebe1dc0766dc47b3f5363_cgraph" id="class_t_g_server_service_1_1_server_instance_ab6650942838ebe1dc0766dc47b3f5363_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3559490653f3f50bfd2959b6c53809e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;string&gt; TGServerService.ServerInstance.ListStaticDirectory </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>subDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the file contents of the specified server directory Subdirectories will be prefixed with '/'  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_config.html#a153ca6f4076fa415232c74ee4999a8bd">TGServiceInterface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00216">216</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">TGServerService.ServerInstance.StaticDirs</a>.</p>
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <span class="keywordflow">if</span> (!Directory.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>))</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    error = null;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                DirectoryInfo dirToEnum = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> + <span class="charliteral">&#39;/&#39;</span> + subDir ?? <span class="stringliteral">&quot;&quot;</span>);   <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                var result = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> dirToEnum.GetFiles())</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    result.Add(I.Name);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> dirToEnum.GetDirectories())</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    result.Add(<span class="charliteral">&#39;/&#39;</span> + I.Name);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                error = null;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                error = e.Message;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa45764917d226888faaf4ba29a4963a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.LiveSha </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current staged or live commit SHA </p>
<dl class="section return"><dt>Returns</dt><dd>The current staged or live commit SHA</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01319">1319</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00056">TGServerService.ServerInstance.LiveTrackingBranch</a>.</p>
<div class="fragment"><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            var B = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches[<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">LiveTrackingBranch</a>];</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            <span class="keywordflow">return</span> B != null ? B.Tip.Sha : <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6940fb33b38a22d9b7b5d55d5e17dbfd"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">TGServerService.ServerInstance.LiveTrackingBranch</a></div><div class="ttdeci">const string LiveTrackingBranch</div><div class="ttdoc">The branch that points to the current commit that is live or staged to be live in DreamDaemon ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00056">Repository.cs:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac88dc1ac835d1b41b5a7c0310cf2bd30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.LoadRepo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e" title="The repository object ">Repo</a> </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">154</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00492">TGServerService.ServerInstance.Checkout()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01038">TGServerService.ServerInstance.Commit()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00661">TGServerService.ServerInstance.CreateBackup()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00450">TGServerService.ServerInstance.GetRemote()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00411">TGServerService.ServerInstance.GetShaOrBranch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00700">TGServerService.ServerInstance.ListBackups()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01014">TGServerService.ServerInstance.LocalIsRemote()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00902">TGServerService.ServerInstance.MergedPullRequests()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01071">TGServerService.ServerInstance.Push()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00111">TGServerService.ServerInstance.RepoConfigsMatch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00725">TGServerService.ServerInstance.Reset()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01305">TGServerService.ServerInstance.UpdateLiveSha()</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a> != null)</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">if</span> (!Repository.IsValid(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>))</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repository does not exist&quot;</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a> = <span class="keyword">new</span> Repository(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac88dc1ac835d1b41b5a7c0310cf2bd30_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac88dc1ac835d1b41b5a7c0310cf2bd30_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac88dc1ac835d1b41b5a7c0310cf2bd30_icgraph" id="class_t_g_server_service_1_1_server_instance_ac88dc1ac835d1b41b5a7c0310cf2bd30_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795" title="Create a commit based on a Config &#160;" alt="" coords="537,129,748,171"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ae69e75b4b1379d03852e6bef850dfcc4" title="Creates a date and timestamped tag of the current HEAD " alt="" coords="537,544,748,585"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1587,384,1797,425"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#aac376ed040ee3efc2ef5173339baf723" title="Gets the url of the current origin &#160;" alt="" coords="264,640,475,681"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a848b2e594808b20d91c9d9b273edd8f1" title="Gets the SHA or branch name of the Repo&#39;s HEAD " alt="" coords="264,407,475,448"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#ab6650942838ebe1dc0766dc47b3f5363" title="Lists tags in the repository created by the ServerInstance " alt="" coords="264,705,475,747"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0" title="Check if the current HEAD matches the tracked remote branch HEAD " alt="" coords="264,188,475,229"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="523,246,763,273"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a5eb674c9b1ad47e3965a23ee8bb1c226" title="Get the currently merged pull requests. Note that switching branches will delete this list and switch..." alt="" coords="264,771,475,812"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="264,836,475,877"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a3a0db5ea4f797662c4317686d629a7e8" title="Checks if the CachedTGS3SettingsPath and RepoTGS3SettingsPath json files match. " alt="" coords="537,348,748,389"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ad2ab144910505686ff9529a708751f8f" title="Runs git reset hard &#160;" alt="" coords="264,901,475,943"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="264,575,475,616"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#aeb0cb7b5664b4796ef9aa9082bbce424" title="Updates LiveTrackingBranch with the staged Compile(bool)&#39;s SHA " alt="" coords="537,609,748,651"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="537,64,748,105"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="811,188,1021,229"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="811,479,1021,520"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="1069,479,1280,520"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="1069,396,1280,437"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="1328,479,1539,520"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1845,384,2056,425"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="1328,396,1539,437"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a8e16ef6af8663fa75bb46109c44cc0be" title="Gets the name of the current branch &#160;" alt="" coords="537,413,748,455"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#abefd625f907f5e953509baa1c6da9a07" title="Gets the sha of the current HEAD &#160;" alt="" coords="537,479,748,520"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="537,675,748,716"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a991f102faacdca2faec4a3fd92d9a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.LoadServerChatCommands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00047">47</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00069">TGServerService.ServerInstance.ChatProvider_OnChatMessage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>() != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            var json = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aba8a60fc349ded697f44a0e46e184784">SCListCustomCommands</a>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordflow">if</span> (String.IsNullOrWhiteSpace(json))</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            List&lt;Command&gt; tmp = <span class="keyword">new</span> List&lt;Command&gt;();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keywordflow">foreach</span>(var I <span class="keywordflow">in</span> <span class="keyword">new</span> JavaScriptSerializer().Deserialize&lt;IDictionary&lt;string, IDictionary&lt;string, object&gt;&gt;&gt;(json))</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                    tmp.Add(<span class="keyword">new</span> <a class="code" href="class_t_g_server_service_1_1_chat_commands_1_1_server_chat_command.html">ServerChatCommand</a>(I.Key, (<span class="keywordtype">string</span>)I.Value[<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0d937d6309ff1105105779007109e6ce">CCPHelpText</a>], ((<span class="keywordtype">int</span>)I.Value[<a class="code" href="class_t_g_server_service_1_1_server_instance.html#acb628731687d30da37761dcae1389893">CCPAdminOnly</a>]) == 1, (<span class="keywordtype">int</span>)I.Value[<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3d33a80602850bbfcbc85ea2e1b4e42d">CCPRequiredParameters</a>]));</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">ServerChatCommands</a> = tmp;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">catch</span> { }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af07a5ca7e8aeb5612b5333d94275e762"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af07a5ca7e8aeb5612b5333d94275e762">TGServerService.ServerInstance.ServerChatCommands</a></div><div class="ttdeci">List&lt; Command &gt; ServerChatCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00045">Interop.cs:45</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3d33a80602850bbfcbc85ea2e1b4e42d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3d33a80602850bbfcbc85ea2e1b4e42d">TGServerService.ServerInstance.CCPRequiredParameters</a></div><div class="ttdeci">const string CCPRequiredParameters</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00043">Interop.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aba8a60fc349ded697f44a0e46e184784"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aba8a60fc349ded697f44a0e46e184784">TGServerService.ServerInstance.SCListCustomCommands</a></div><div class="ttdeci">const string SCListCustomCommands</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00031">Interop.cs:31</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_chat_commands_1_1_server_chat_command_html"><div class="ttname"><a href="class_t_g_server_service_1_1_chat_commands_1_1_server_chat_command.html">TGServerService.ChatCommands.ServerChatCommand</a></div><div class="ttdoc">ChatCommands generated by DreamDaemon via the API </div><div class="ttdef"><b>Definition:</b> <a href="_server_chat_command_8cs_source.html#l00009">ServerChatCommand.cs:9</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acb628731687d30da37761dcae1389893"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acb628731687d30da37761dcae1389893">TGServerService.ServerInstance.CCPAdminOnly</a></div><div class="ttdeci">const string CCPAdminOnly</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00042">Interop.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa392248d5913143b6537352190e75e6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">TGServerService.ServerInstance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">Interop.cs:131</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0d937d6309ff1105105779007109e6ce"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0d937d6309ff1105105779007109e6ce">TGServerService.ServerInstance.CCPHelpText</a></div><div class="ttdeci">const string CCPHelpText</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00041">Interop.cs:41</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_cgraph" id="class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_icgraph" id="class_t_g_server_service_1_1_server_instance_a3a991f102faacdca2faec4a3fd92d9a9_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abf36c04158aa4503aacabaf20d8106d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.LocalIsRemote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the current HEAD matches the tracked remote branch HEAD </p>
<dl class="section return"><dt>Returns</dt><dd>if the current HEAD matches the tracked remote branch HEAD,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01014">1014</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">TGServerService.ServerInstance.Fetch()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01071">TGServerService.ServerInstance.Push()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00966">TGServerService.ServerInstance.SynchronizePush()</a>.</p>
<div class="fragment"><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>() != null)</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e">Fetch</a>() != null)</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.IsTracking &amp;&amp; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.TrackedBranch.Tip.Sha == <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.Tip.Sha;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                {</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af8f4334b030e4cddf3f643aedc84f59e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e">TGServerService.ServerInstance.Fetch</a></div><div class="ttdeci">string Fetch()</div><div class="ttdoc">Fetches origin </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">Repository.cs:994</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_cgraph" id="class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="264,39,475,80"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,104,475,145"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="523,39,733,80"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_icgraph" id="class_t_g_server_service_1_1_server_instance_abf36c04158aa4503aacabaf20d8106d0_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="264,5,504,32"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="552,23,763,65"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abcde3c7acdaf49fcd170dde635747ab1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Signature TGServerService.ServerInstance.MakeSig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail </p>
<dl class="section return"><dt>Returns</dt><dd>The created LibGit2Sharp.Signature</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00747">747</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01038">TGServerService.ServerInstance.Commit()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">TGServerService.ServerInstance.MergeBranch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> Signature(<span class="keyword">new</span> Identity(Config.CommitterName, Config.CommitterEmail), DateTimeOffset.Now);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abcde3c7acdaf49fcd170dde635747ab1_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abcde3c7acdaf49fcd170dde635747ab1_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abcde3c7acdaf49fcd170dde635747ab1_icgraph" id="class_t_g_server_service_1_1_server_instance_abcde3c7acdaf49fcd170dde635747ab1_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795" title="Create a commit based on a Config &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="523,71,733,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="523,136,733,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="781,39,992,80"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,104,992,145"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,104,1251,145"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,104,1509,145"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac23c0fcef71fc61e9429f04482c5035b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.MemTrackTimer_Elapsed </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ElapsedEventArgs&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called every five seconds while DreamDaemon is running to log it's current state to the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc" title="Directory for storing DreamDaemon diagnostic files ">DiagnosticsDir</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>The event sender, an instance of System.Timers.Timer</td></tr>
    <tr><td class="paramname">e</td><td>The ElapsedEventArgs</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00452">452</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">TGServerService.ServerInstance.WriteCurrentDDLog()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            ulong megamem;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordtype">float</span> cputime;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                cputime = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">pcpu</a>.NextValue();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                <span class="keyword">using</span> (var pcm = <span class="keyword">new</span> PerformanceCounter(<span class="stringliteral">&quot;Process&quot;</span>, <span class="stringliteral">&quot;Working Set - Private&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.ProcessName, <span class="keyword">true</span>))</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    megamem = Convert.ToUInt64(pcm.NextValue()) / 1024;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            var PercentCpuTime = (int)Math.Round((Decimal)cputime);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">WriteCurrentDDLog</a>(String.Format(<span class="stringliteral">&quot;CPU: {1}% Memory: {0}MB&quot;</span>, megamem, PercentCpuTime.ToString(<span class="stringliteral">&quot;D3&quot;</span>)));</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac66b59d813dcc51bf26bd90f3b812e8d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">TGServerService.ServerInstance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">DreamDaemon.cs:290</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa550118aee5bf93064cb25b2171a969b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">TGServerService.ServerInstance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6fccb58474c98b606c222bf343f3a4dc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">TGServerService.ServerInstance.pcpu</a></div><div class="ttdeci">PerformanceCounter pcpu</div><div class="ttdoc">CPU performance information for Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00048">DreamDaemon.cs:48</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_cgraph" id="class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_icgraph" id="class_t_g_server_service_1_1_server_instance_ac23c0fcef71fc61e9429f04482c5035b_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="264,64,475,105"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="523,64,733,105"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="781,64,992,105"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1557,71,1768,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1816,71,2027,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a533ddcf0f8c4cd09d87b3e4eae916ccf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.MergeBranch </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>committish</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Merges given <em>committish</em>  into the current branch </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">committish</td><td>The sha/branch/tag to merge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">544</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00209">TGServerService.ServerInstance.HandleCheckoutProgress()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00747">TGServerService.ServerInstance.MakeSig()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00032">TGServerService.ServerInstance.RepoErrorUpToDate</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">TGServerService.ServerInstance.ResetNoLock()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            var mo = <span class="keyword">new</span> MergeOptions()</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                OnCheckoutProgress = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a">HandleCheckoutProgress</a></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            };</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            var Result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Merge(committish, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1">MakeSig</a>());</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a> = -1;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordflow">switch</span> (Result.Status)</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="keywordflow">case</span> MergeStatus.Conflicts:</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">ResetNoLock</a>(null);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: Merge conflicted, aborted.&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Merge conflict occurred.&quot;</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keywordflow">case</span> MergeStatus.UpToDate:</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a35821203dd193755681a98bb545cd1cb">RepoErrorUpToDate</a>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a35821203dd193755681a98bb545cd1cb"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a35821203dd193755681a98bb545cd1cb">TGServerService.ServerInstance.RepoErrorUpToDate</a></div><div class="ttdeci">const string RepoErrorUpToDate</div><div class="ttdoc">Error message for when a merge operation fails due to the target branch already having the source bra...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00032">Repository.cs:32</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab294e7b6c6025f2c4f15b8b0dc78ef9e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">TGServerService.ServerInstance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGServiceInterface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">Repository.cs:82</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a971b17056739405a3d2b598ebd1be27a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a">TGServerService.ServerInstance.HandleCheckoutProgress</a></div><div class="ttdeci">void HandleCheckoutProgress(string path, int completedSteps, int totalSteps)</div><div class="ttdoc">Updates currentProgress with the progess of the current Repo checkout operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00209">Repository.cs:209</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abcde3c7acdaf49fcd170dde635747ab1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1">TGServerService.ServerInstance.MakeSig</a></div><div class="ttdeci">Signature MakeSig()</div><div class="ttdoc">Creates a commit LibGit2Sharp.Signature based off of the configured name and e-mail ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00747">Repository.cs:747</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac5ddb16ab8332882d6bdf2be41d3e56"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">TGServerService.ServerInstance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">Repository.cs:475</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_cgraph" id="class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="264,201,475,243"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="523,201,689,243"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_icgraph" id="class_t_g_server_service_1_1_server_instance_a533ddcf0f8c4cd09d87b3e4eae916ccf_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="523,37,733,79"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="523,103,733,144"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="781,103,992,144"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,103,1251,144"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5eb674c9b1ad47e3965a23ee8bb1c226"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="class_t_g_service_interface_1_1_pull_request_info.html">PullRequestInfo</a>&gt; TGServerService.ServerInstance.MergedPullRequests </td>
          <td>(</td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the currently merged pull requests. Note that switching branches will delete this list and switching back won't restore it  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#aa15ff5c498d885f5f7b44273e83b0aef">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00902">902</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00773">TGServerService.ServerInstance.GetCurrentPRList()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                var result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    error = result;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                {</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                    var PRRawData = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c">GetCurrentPRList</a>();</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                    IList&lt;PullRequestInfo&gt; output = <span class="keyword">new</span> List&lt;PullRequestInfo&gt;();</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c">GetCurrentPRList</a>())</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                        output.Add(<span class="keyword">new</span> <a class="code" href="class_t_g_service_interface_1_1_pull_request_info.html">PullRequestInfo</a>(Convert.ToInt32(I.Key), I.Value[<span class="stringliteral">&quot;author&quot;</span>], I.Value[<span class="stringliteral">&quot;title&quot;</span>], I.Value[<span class="stringliteral">&quot;commit&quot;</span>]));</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                    error = null;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    <span class="keywordflow">return</span> output;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                    error = e.ToString();</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af5522e7ef7ad15e78eb098e185b59d0c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c">TGServerService.ServerInstance.GetCurrentPRList</a></div><div class="ttdeci">IDictionary&lt; string, IDictionary&lt; string, string &gt; &gt; GetCurrentPRList()</div><div class="ttdoc">Deserializes the PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00773">Repository.cs:773</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_pull_request_info_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_pull_request_info.html">TGServiceInterface.PullRequestInfo</a></div><div class="ttdoc">Information about a pull request </div><div class="ttdef"><b>Definition:</b> <a href="_pull_request_info_8cs_source.html#l00009">PullRequestInfo.cs:9</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a5eb674c9b1ad47e3965a23ee8bb1c226_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a5eb674c9b1ad47e3965a23ee8bb1c226_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a5eb674c9b1ad47e3965a23ee8bb1c226_cgraph" id="class_t_g_server_service_1_1_server_instance_a5eb674c9b1ad47e3965a23ee8bb1c226_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c" title="Deserializes the PRJobFile " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac69d8bdd66e3ba416de9412ca82a92ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.MergePullRequest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>PRNumber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merges the target pull request into the current branch if the remote is a github repository  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a763d4bab7df28454c63510f25bdb31ab">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">794</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00980">TGServerService.ServerInstance.GenerateFetchOptions()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00773">TGServerService.ServerInstance.GetCurrentPRList()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">TGServerService.ServerInstance.MergeBranch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">TGServerService.ServerInstance.ResetNoLock()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00786">TGServerService.ServerInstance.SetCurrentPRList()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">TGServerService.ServerInstance.UpdateSubmodules()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                var result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: Merging PR #{0}...&quot;</span>, PRNumber), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">ResetNoLock</a>(null);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                    <span class="comment">//only supported with github</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    var remoteUrl = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Network.Remotes[<span class="stringliteral">&quot;origin&quot;</span>].Url;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    <span class="keywordflow">if</span> (!remoteUrl.Contains(<span class="stringliteral">&quot;github.com&quot;</span>))</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Only supported with Github based repositories.&quot;</span>;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    var Refspec = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    var PRBranchName = String.Format(<span class="stringliteral">&quot;pr-{0}&quot;</span>, PRNumber);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                    var LocalBranchName = String.Format(<span class="stringliteral">&quot;pull/{0}/headrefs/heads/{1}&quot;</span>, PRNumber, PRBranchName);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                    Refspec.Add(String.Format(<span class="stringliteral">&quot;pull/{0}/head:{1}&quot;</span>, PRNumber, PRBranchName));</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    var logMessage = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    var branch = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches[LocalBranchName];</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    <span class="keywordflow">if</span> (branch != null)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                        <span class="comment">//Need to delete the branch first in case of rebase</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches.Remove(branch);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    Commands.Fetch(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>, <span class="stringliteral">&quot;origin&quot;</span>, Refspec, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3">GenerateFetchOptions</a>(), logMessage);  <span class="comment">//shitty api has no failure state for this</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">currentProgress</a> = -1;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                    var Config = Properties.Settings.Default;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    branch = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches[LocalBranchName];</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    <span class="keywordflow">if</span> (branch == null)</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: PR could not be fetched. Does it exist?&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;PR #{0} could not be fetched. Does it exist?&quot;</span>, PRNumber);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    <span class="comment">//so we&#39;ll know if this fails</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    var Result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf">MergeBranch</a>(LocalBranchName);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    <span class="keywordflow">if</span> (Result == null)</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                        {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">UpdateSubmodules</a>();</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                        }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                        <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                        {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                            Result = e.ToString();</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                        }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                    <span class="keywordflow">if</span> (Result == null)</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                    {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                        Service.WriteInfo(String.Format(<span class="stringliteral">&quot;Merged pull request #{0}&quot;</span>, PRNumber), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoPRMerge);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                        {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                            var CurrentPRs = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c">GetCurrentPRList</a>();</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                            var PRNumberString = PRNumber.ToString();</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                            CurrentPRs.Remove(PRNumberString);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                            var newPR = <span class="keyword">new</span> Dictionary&lt;string, string&gt;();</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                            <span class="comment">//do some excellent remote fuckery here to get the api page</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                            var prAPI = remoteUrl;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                            prAPI = prAPI.Replace(<span class="stringliteral">&quot;/.git&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                            prAPI = prAPI.Replace(<span class="stringliteral">&quot;.git&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                            prAPI = prAPI.Replace(<span class="stringliteral">&quot;github.com&quot;</span>, <span class="stringliteral">&quot;api.github.com/repos&quot;</span>);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                            prAPI += <span class="stringliteral">&quot;/pulls/&quot;</span> + PRNumberString + <span class="stringliteral">&quot;.json&quot;</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                            <span class="keywordtype">string</span> json;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                            <span class="keyword">using</span> (var wc = <span class="keyword">new</span> WebClient())</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                            {</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                                wc.Headers.Add(<span class="stringliteral">&quot;user-agent&quot;</span>, <span class="stringliteral">&quot;TGStationServerService&quot;</span>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                json = wc.DownloadString(prAPI);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                            }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                            var Deserializer = <span class="keyword">new</span> JavaScriptSerializer();</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                            var dick = Deserializer.DeserializeObject(json) as IDictionary&lt;string, object&gt;;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                            var user = dick[<span class="stringliteral">&quot;user&quot;</span>] as IDictionary&lt;string, object&gt;;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                            newPR.Add(<span class="stringliteral">&quot;commit&quot;</span>, branch.Tip.Sha);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                            newPR.Add(<span class="stringliteral">&quot;author&quot;</span>, (<span class="keywordtype">string</span>)user[<span class="stringliteral">&quot;login&quot;</span>]);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                            newPR.Add(<span class="stringliteral">&quot;title&quot;</span>, (<span class="keywordtype">string</span>)dick[<span class="stringliteral">&quot;title&quot;</span>]);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                            CurrentPRs.Add(PRNumberString, newPR);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3372c4e2b46b1ce3f1985684be2a6c3b">SetCurrentPRList</a>(CurrentPRs);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                        }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                        <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                        {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                            Service.WriteError(<span class="stringliteral">&quot;Failed to update PR list&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoPRListError);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PR Merged, JSON update failed: &quot;</span> + e.ToString();</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                        }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                    }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    <span class="keywordflow">return</span> Result;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                <span class="keywordflow">catch</span> (Exception E)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: PR merge failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Failed to merge pull request #{0}: {1}&quot;</span>, PRNumber, E.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoPRMergeFail);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                    <span class="keywordflow">return</span> E.ToString();</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab294e7b6c6025f2c4f15b8b0dc78ef9e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab294e7b6c6025f2c4f15b8b0dc78ef9e">TGServerService.ServerInstance.currentProgress</a></div><div class="ttdeci">int currentProgress</div><div class="ttdoc">Used for reporting operation progress to the TGServiceInterface </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">Repository.cs:82</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af5522e7ef7ad15e78eb098e185b59d0c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c">TGServerService.ServerInstance.GetCurrentPRList</a></div><div class="ttdeci">IDictionary&lt; string, IDictionary&lt; string, string &gt; &gt; GetCurrentPRList()</div><div class="ttdoc">Deserializes the PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00773">Repository.cs:773</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3372c4e2b46b1ce3f1985684be2a6c3b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3372c4e2b46b1ce3f1985684be2a6c3b">TGServerService.ServerInstance.SetCurrentPRList</a></div><div class="ttdeci">void SetCurrentPRList(IDictionary&lt; string, IDictionary&lt; string, string &gt;&gt; list)</div><div class="ttdoc">Serializes pull request info into PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00786">Repository.cs:786</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac5ddb16ab8332882d6bdf2be41d3e56"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">TGServerService.ServerInstance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">Repository.cs:475</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab56ecfc17b45a4658e0a676402b634e3"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3">TGServerService.ServerInstance.GenerateFetchOptions</a></div><div class="ttdeci">FetchOptions GenerateFetchOptions()</div><div class="ttdoc">Create FetchOptions that Prune and have the appropriate credentials and progress handler ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00980">Repository.cs:980</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a95d603da4a4dcd14255f39bbf59931ad"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">TGServerService.ServerInstance.UpdateSubmodules</a></div><div class="ttdeci">void UpdateSubmodules()</div><div class="ttdoc">Properly updates any git submodules in the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">Repository.cs:627</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a533ddcf0f8c4cd09d87b3e4eae916ccf"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf">TGServerService.ServerInstance.MergeBranch</a></div><div class="ttdeci">string MergeBranch(string committish)</div><div class="ttdoc">Merges given committish  into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">Repository.cs:544</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac69d8bdd66e3ba416de9412ca82a92ed_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac69d8bdd66e3ba416de9412ca82a92ed_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac69d8bdd66e3ba416de9412ca82a92ed_cgraph" id="class_t_g_server_service_1_1_server_instance_ac69d8bdd66e3ba416de9412ca82a92ed_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="264,45,475,87"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af5522e7ef7ad15e78eb098e185b59d0c" title="Deserializes the PRJobFile " alt="" coords="264,111,475,152"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,176,475,217"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="264,241,475,283"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="523,292,733,333"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="523,409,733,451"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="785,409,952,451"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a3372c4e2b46b1ce3f1985684be2a6c3b" title="Serializes pull request info into PRJobFile " alt="" coords="264,525,475,567"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="264,460,475,501"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="286,591,453,632"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,656,453,697"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="523,227,733,268"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="523,161,733,203"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="541,527,715,568"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="781,527,956,568"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa8a3c62ea83e029263e21654e184ab80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.MoveServer </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>new_location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves the entire server installation, requires no operations to be running  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html#a68ef388c6df73ee89b698a1644df2a06">TGServiceInterface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">157</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">TGServerService.ServerInstance.ByondLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00140">TGServerService.ServerInstance.CleanGameFolder()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">TGServerService.ServerInstance.compilerCurrentStatus</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">TGServerService.ServerInstance.CompilerLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">TGServerService.ServerInstance.configLock</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00089">TGServerService.Program.CopyDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">TGServerService.ServerInstance.currentStatus</a>, <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00174">TGServerService.ServerInstance.DisposeRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00030">TGServerService.ServerInstance.GameDir</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">TGServerService.ServerInstance.PrivateKeyPath</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">TGServerService.ServerInstance.RepoBusy</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">TGServerService.ServerInstance.RepoLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">TGServerService.ServerInstance.updateStat</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">TGServerService.ServerInstance.watchdogLock</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                var di1 = <span class="keyword">new</span> DirectoryInfo(Config.ServerDirectory);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                var di2 = <span class="keyword">new</span> DirectoryInfo(new_location);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                var copy = di1.Root.FullName != di2.Root.FullName;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">if</span> (copy &amp;&amp; File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">PrivateKeyPath</a>))</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Unable to perform a cross drive server move with the {0}. Copy aborted!&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">PrivateKeyPath</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                new_location = di2.FullName;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <span class="keywordflow">while</span> (di2.Parent != null)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <span class="keywordflow">if</span> (di2.Parent.FullName == di1.FullName)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot move to child of current directory!&quot;</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        di2 = di2.Parent;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>))</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo locked!&quot;</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a>)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo busy!&quot;</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa">DisposeRepo</a>();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>))</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;BYOND locked&quot;</span>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> != <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Idle)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                            <span class="keywordflow">return</span> <span class="stringliteral">&quot;BYOND busy!&quot;</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>))</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Compiler locked!&quot;</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                        {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Uninitialized &amp;&amp; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">compilerCurrentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a>.Initialized)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Compiler busy!&quot;</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                            <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>))</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Watchdog locked!&quot;</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                            <span class="keywordflow">try</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                            {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Watchdog running!&quot;</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a>)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215">CleanGameFolder</a>();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                    Program.DeleteDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                    <span class="keywordtype">string</span> error = null;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                    <span class="keywordflow">if</span> (copy)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                    {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                        Program.CopyDirectory(Config.ServerDirectory, new_location);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                        Directory.CreateDirectory(new_location);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                        Environment.CurrentDirectory = new_location;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                        <span class="keywordflow">try</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                        {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                            Program.DeleteDirectory(Config.ServerDirectory);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                        }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                        <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                        {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                            error = <span class="stringliteral">&quot;The move was successful, but the path &quot;</span> + Config.ServerDirectory + <span class="stringliteral">&quot; was unable to be deleted fully!&quot;</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                            Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Server move from {0} to {1} partial success: {2}&quot;</span>, Config.ServerDirectory, new_location, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ServerMovePartial);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                        }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                    <span class="keywordflow">else</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                    {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                        <span class="keywordflow">try</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                        {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                            Environment.CurrentDirectory = di2.Root.FullName;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                            Directory.Move(Config.ServerDirectory, new_location);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                            Environment.CurrentDirectory = new_location;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                        }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                        <span class="keywordflow">catch</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                        {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                            Environment.CurrentDirectory = Config.ServerDirectory;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                            <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                        }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                    Service.WriteInfo(String.Format(<span class="stringliteral">&quot;Server moved from {0} to {1}&quot;</span>, Config.ServerDirectory, new_location), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ServerMoveComplete);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                    Config.ServerDirectory = new_location;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                            }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                            <span class="keywordflow">finally</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                            {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                            }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        <span class="keywordflow">finally</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                            Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="keywordflow">finally</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                Service.WriteError(String.Format(<span class="stringliteral">&quot;Server move from {0} to {1} failed: {2}&quot;</span>, Config.ServerDirectory, new_location, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ServerMoveFailed);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d407c09b7a499c45266c916e4eaa947"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">TGServerService.ServerInstance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b46135f61615923db5e302d3553e1fa"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa">TGServerService.ServerInstance.DisposeRepo</a></div><div class="ttdeci">void DisposeRepo()</div><div class="ttdoc">Cleans up Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00174">Repository.cs:174</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9adc6c97daa5981c9b4c6128c4df1f11"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9adc6c97daa5981c9b4c6128c4df1f11">TGServerService.ServerInstance.compilerCurrentStatus</a></div><div class="ttdeci">CompilerStatus compilerCurrentStatus</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">Compiler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6a5f6fad2c5c52da78eb9d1968c02f9d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">TGServerService.ServerInstance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used in conjunction with RepoLock for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">Repository.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af08b470db051748bc99e830bd263d215"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215">TGServerService.ServerInstance.CleanGameFolder</a></div><div class="ttdeci">void CleanGameFolder()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00140">Compiler.cs:140</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2ab6a2c8f02431003a7b3eee7f453fff"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">TGServerService.ServerInstance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">Repository.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af50082a408f9ae6f37a053a7a2464ef3"><div class="ttname"><a href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">TGServiceInterface.CompilerStatus</a></div><div class="ttdeci">CompilerStatus</div><div class="ttdoc">The status of the compiler </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00091">Enumerations.cs:91</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af1c6e932aa16d25cbe05b86e896f3935"><div class="ttname"><a href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">TGServiceInterface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00006">Enumerations.cs:6</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aae521c4c39e87f29fc7cba98c0ff58d7"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">TGServerService.ServerInstance.GameDir</a></div><div class="ttdeci">const string GameDir</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00030">Compiler.cs:30</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773bda7930c58a1def918b077efcf2a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">TGServerService.ServerInstance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aa8a3c62ea83e029263e21654e184ab80_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aa8a3c62ea83e029263e21654e184ab80_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aa8a3c62ea83e029263e21654e184ab80_cgraph" id="class_t_g_server_service_1_1_server_instance_aa8a3c62ea83e029263e21654e184ab80_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af08b470db051748bc99e830bd263d215" title="TGServerService.ServerInstance.\lCleanGameFolder" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="282,71,457,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="282,136,457,177"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa" title="Cleans up Repo " alt="" coords="264,201,475,243"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="286,267,453,308"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,332,453,373"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,397,453,439"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="523,71,697,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="523,136,697,177"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a366db6a24e005771f49cca17a373c490"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.OperationInProgress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the repo is currently undergoing an operation  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a3a5a530b74f7bcaa10755d65ffde22c7">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00136">136</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">TGServerService.ServerInstance.RepoBusy</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a>;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6a5f6fad2c5c52da78eb9d1968c02f9d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">TGServerService.ServerInstance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used in conjunction with RepoLock for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">Repository.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4283de03ea6d7f96473c41aa91e5741"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TGServerService.ServerInstance.PlayerCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of connected players. Requires game to use API version &gt;= 3.1.0.1 </p>
<dl class="section return"><dt>Returns</dt><dd>The number of connected players or -1 on error</dd></dl>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a20756a76ba6fcbccf750d7a4254e6c87">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00141">141</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">return</span> Convert.ToInt32(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a860ffd00b1286a975841923fc97b96dc">SCPlayerCount</a>));</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">catch</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa392248d5913143b6537352190e75e6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">TGServerService.ServerInstance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">Interop.cs:131</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a860ffd00b1286a975841923fc97b96dc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a860ffd00b1286a975841923fc97b96dc">TGServerService.ServerInstance.SCPlayerCount</a></div><div class="ttdeci">const string SCPlayerCount</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00033">Interop.cs:33</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ad4283de03ea6d7f96473c41aa91e5741_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ad4283de03ea6d7f96473c41aa91e5741_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ad4283de03ea6d7f96473c41aa91e5741_cgraph" id="class_t_g_server_service_1_1_server_instance_ad4283de03ea6d7f96473c41aa91e5741_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a58391828790e7bb5f4f6bce1ee94ba8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ushort TGServerService.ServerInstance.Port </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the configured port. Not necessarily the running port if it has since changed  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#ae1543795d417bfca70d43059daf1b895">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00686">686</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.ServerPort;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74d6e8df896a4a8f6f1faa7d67a2bbde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.PostcompileHook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the "postcompile" event </p>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists and failed to run,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00097">97</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

<p>References <a class="el" href="_preaction_handler_8cs_source.html#l00048">TGServerService.ServerInstance.HandleEvent()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b">HandleEvent</a>(<span class="stringliteral">&quot;postcompile&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3ccef305da6b6b218054c1287ba7086b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b">TGServerService.ServerInstance.HandleEvent</a></div><div class="ttdeci">bool HandleEvent(string eventName)</div><div class="ttdoc">Runs an event named eventName  if it exists </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00048">PreactionHandler.cs:48</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_cgraph" id="class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="264,93,475,135"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="781,35,992,76"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="545,123,711,164"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="545,188,711,229"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_icgraph" id="class_t_g_server_service_1_1_server_instance_a74d6e8df896a4a8f6f1faa7d67a2bbde_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af19d01601edb8beb1e78ffdcaf572c47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.PrecompileHook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the "precompile" event </p>
<dl class="section return"><dt>Returns</dt><dd>if the event handler exists and failed to run,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00088">88</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

<p>References <a class="el" href="_preaction_handler_8cs_source.html#l00048">TGServerService.ServerInstance.HandleEvent()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b">HandleEvent</a>(<span class="stringliteral">&quot;precompile&quot;</span>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3ccef305da6b6b218054c1287ba7086b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b">TGServerService.ServerInstance.HandleEvent</a></div><div class="ttdeci">bool HandleEvent(string eventName)</div><div class="ttdoc">Runs an event named eventName  if it exists </div><div class="ttdef"><b>Definition:</b> <a href="_preaction_handler_8cs_source.html#l00048">PreactionHandler.cs:48</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_cgraph" id="class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a3ccef305da6b6b218054c1287ba7086b" title="Runs an event named eventName &#160;if it exists " alt="" coords="264,93,475,135"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae35924a25d2d0fcfb0124ad21ecb421f" title="Check if an event handler for eventName &#160;exists " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ab7c024a90c8ffdb678f9b0bfaafd8764" title="Gets the path of an event given an eventName &#160;" alt="" coords="781,35,992,76"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="545,123,711,164"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="545,188,711,229"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_icgraph" id="class_t_g_server_service_1_1_server_instance_af19d01601edb8beb1e78ffdcaf572c47_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af6f5ef18b0129ec5d24f76a13c044feb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.PrepareForUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Next stop of the service will not close DD and sets a flag for it to reattach once it restarts  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a88575a80e50322643d7b456239bde90d">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00054">54</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>

<p>References <a class="el" href="_server_instance_8cs_source.html#l00066">TGServerService.ServerInstance.disposedValue</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            Properties.Settings.Default.ReattachToDD = <span class="keyword">true</span>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;SERVICE: Update started...&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af6f5ef18b0129ec5d24f76a13c044feb_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af6f5ef18b0129ec5d24f76a13c044feb_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af6f5ef18b0129ec5d24f76a13c044feb_cgraph" id="class_t_g_server_service_1_1_server_instance_af6f5ef18b0129ec5d24f76a13c044feb_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="523,5,689,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a724c7681dbfd9bfc0128392e92f8cfae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.ProjectName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the relative path of the dme the compiler will look for without the .dme part  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a56ee6e048fa35ba0cac0414c824d658a">TGServiceInterface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00587">587</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <span class="keywordflow">return</span> Properties.Settings.Default.ProjectName;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a724c7681dbfd9bfc0128392e92f8cfae_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a724c7681dbfd9bfc0128392e92f8cfae_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a724c7681dbfd9bfc0128392e92f8cfae_icgraph" id="class_t_g_server_service_1_1_server_instance_a724c7681dbfd9bfc0128392e92f8cfae_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3d01f061e40035a3f26814544d4b127e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>&gt; TGServerService.ServerInstance.ProviderInfos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns <a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html" title="For setting up authentication no matter the chat provider ">ChatSetupInfo</a> for all <a class="el" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4" title="The type of chat provider ">ChatProvider</a>s  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_chat.html#aa875f5edaee37201ade100e943faf434">TGServiceInterface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00117">117</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            var infosList = <span class="keyword">new</span> List&lt;ChatSetupInfo&gt;();</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">foreach</span> (var chatProvider <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a>)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                infosList.Add(chatProvider.ProviderInfo());</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">return</span> infosList;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acadcf82abcaebb13517e3e169545f35c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">TGServerService.ServerInstance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">Chat.cs:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8c5c3b1d918969c67fda31e5a4c7ab3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Push </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01071">1071</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">TGServerService.ServerInstance.GenerateGitCredentials()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01014">TGServerService.ServerInstance.LocalIsRemote()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01105">TGServerService.ServerInstance.SSHAuth()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00966">TGServerService.ServerInstance.SynchronizePush()</a>.</p>
<div class="fragment"><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0">LocalIsRemote</a>())    <span class="comment">//nothing to push</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                var result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09">SSHAuth</a>())</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Either {0} or {1} is missing from the server directory. Unable to push!&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">PrivateKeyPath</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">PublicKeyPath</a>);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                    var options = <span class="keyword">new</span> PushOptions()</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                        CredentialsProvider = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039">GenerateGitCredentials</a>,</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    };</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Network.Push(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Network.Remotes[<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a626ed84e545c7f3021b98da532a9c1c4">SSHPushRemote</a>], <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.CanonicalName, options);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Repo pushed up to commit: &quot;</span> + <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.Tip.Sha, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoPush);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    Service.WriteWarning(<span class="stringliteral">&quot;Repo push failed: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoPushFail);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                    <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae7181bf579d6d909c916154bbe095d0b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">TGServerService.ServerInstance.PublicKeyPath</a></div><div class="ttdeci">const string PublicKeyPath</div><div class="ttdoc">The path to the public ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00048">Repository.cs:48</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2ab6a2c8f02431003a7b3eee7f453fff"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">TGServerService.ServerInstance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">Repository.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a626ed84e545c7f3021b98da532a9c1c4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a626ed84e545c7f3021b98da532a9c1c4">TGServerService.ServerInstance.SSHPushRemote</a></div><div class="ttdeci">const string SSHPushRemote</div><div class="ttdoc">Git remote for push operations </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00036">Repository.cs:36</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3fa2414f020ebecc7b1470e12a243d09"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09">TGServerService.ServerInstance.SSHAuth</a></div><div class="ttdeci">bool SSHAuth()</div><div class="ttdoc">Check if the ServerInstance is configured for SSH pushing </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01105">Repository.cs:1105</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abf36c04158aa4503aacabaf20d8106d0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0">TGServerService.ServerInstance.LocalIsRemote</a></div><div class="ttdeci">bool LocalIsRemote()</div><div class="ttdoc">Check if the current HEAD matches the tracked remote branch HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01014">Repository.cs:1014</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a895420e900c51183a28580f3a3ab3039"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039">TGServerService.ServerInstance.GenerateGitCredentials</a></div><div class="ttdeci">Credentials GenerateGitCredentials(string url, string usernameFromUrl, SupportedCredentialTypes types)</div><div class="ttdoc">SSH credentials callback. Properly sets up SSH keys for an authorization operation ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">Repository.cs:1117</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_cgraph" id="class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="1069,23,1280,64"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="552,52,763,93"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0" title="Check if the current HEAD matches the tracked remote branch HEAD " alt="" coords="293,107,504,148"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09" title="Check if the ServerInstance is configured for SSH pushing " alt="" coords="293,172,504,213"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="315,237,482,279"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="315,303,482,344"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="552,117,763,159"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="811,103,1021,144"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="1069,103,1280,144"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_icgraph" id="class_t_g_server_service_1_1_server_instance_af8c5c3b1d918969c67fda31e5a4c7ab3_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="293,5,504,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8ed0ab1ce09118acd892f4f3d709d11a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.PythonPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the path to the python 2.7 installation  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#ab2e007a17dae7eab77fd9b2054dcc076">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01296">1296</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.PythonPath;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b2fcd99212aba5406674cdf3175b9a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.ReadText </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>staticRelativePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read from a static file  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_config.html#afed40ddbf2b6b1e4ea84fc9f8e4f9264">TGServiceInterface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00024">24</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00030">TGServerService.Service.CancelImpersonation()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">TGServerService.ServerInstance.GetCachedRepoConfig()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">TGServerService.ServerInstance.RepoPath</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">TGServerService.ServerInstance.StaticDirs</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            <span class="keywordtype">string</span> path = null;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                var configDir = repo ? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a> : <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                path = configDir + <span class="charliteral">&#39;/&#39;</span> + staticRelativePath;   <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a>)</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                    var di1 = <span class="keyword">new</span> DirectoryInfo(configDir);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                    <span class="keywordflow">if</span> (repo)</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                    {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                        <span class="comment">//ensure we aren&#39;t trying to read anything outside the static dirs</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                        var Config = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                        <span class="keywordflow">if</span> (Config == null)</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                        {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                            error = <span class="stringliteral">&quot;Unable to load static directory configuration&quot;</span>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                            unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                        }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                        var Found = <span class="keyword">false</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                        <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> Config.StaticDirectoryPaths)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                        {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                            <span class="keywordflow">if</span> (di1.FullName == <span class="keyword">new</span> DirectoryInfo(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>, I)).FullName)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                            {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                Found = <span class="keyword">true</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                            }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                        }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                        <span class="keywordflow">if</span> (!Found)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                        {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                            error = <span class="stringliteral">&quot;File is not in a configured static directory!&quot;</span>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                            unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                        }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    var di2 = <span class="keyword">new</span> DirectoryInfo(<span class="keyword">new</span> FileInfo(path).Directory.FullName);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    var good = <span class="keyword">false</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    <span class="keywordflow">while</span> (di2 != null)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                    {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                        <span class="keywordflow">if</span> (di2.FullName == di1.FullName)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                            good = <span class="keyword">true</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                        }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                        <span class="keywordflow">else</span> di2 = di2.Parent;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                    }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                    <span class="keywordflow">if</span> (!good)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                    {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        error = <span class="stringliteral">&quot;Cannot read above static directories!&quot;</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                        unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                        <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                    var output = File.ReadAllText(path);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    Service.CancelImpersonation();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Read of &quot;</span> + path, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.StaticRead);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    error = null;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                    <span class="keywordflow">return</span> output;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                error = e.Message;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                error = e.ToString();</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                Service.CancelImpersonation();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Read of {0} failed! Error: {1}&quot;</span>, path, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.StaticRead);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d407c09b7a499c45266c916e4eaa947"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">TGServerService.ServerInstance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a460f7422c8ca2c016df6d18a6c64e287"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">TGServerService.ServerInstance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">Repository.cs:130</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a5b2fcd99212aba5406674cdf3175b9a1_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a5b2fcd99212aba5406674cdf3175b9a1_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a5b2fcd99212aba5406674cdf3175b9a1_cgraph" id="class_t_g_server_service_1_1_server_instance_a5b2fcd99212aba5406674cdf3175b9a1_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#ac3397831deffcbd077a20f4ceb86f7c7" title="Cancels WCF&#39;s user impersonation to allow clean access to writing log files " alt="" coords="286,5,453,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,136,453,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="286,201,453,243"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae7c04a7b9b01bd0a9bf1a329c9643eaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Reconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a>&#160;</td>
          <td class="paramname"><em>providerType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reconnect a specific <em>providerType</em>  to it's chat service  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_chat.html#aca84b87f62c0865946fcfc1872657da4">TGServiceInterface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00210">210</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00202">TGServerService.ServerInstance.ChatConnectivityCheck()</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a>)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <span class="keywordflow">if</span> (I.ProviderInfo().Provider == providerType)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    <span class="keywordflow">return</span> I.Reconnect();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Could not find specified provider!&quot;</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acadcf82abcaebb13517e3e169545f35c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">TGServerService.ServerInstance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">Chat.cs:16</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae7c04a7b9b01bd0a9bf1a329c9643eaa_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae7c04a7b9b01bd0a9bf1a329c9643eaa_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae7c04a7b9b01bd0a9bf1a329c9643eaa_icgraph" id="class_t_g_server_service_1_1_server_instance_ae7c04a7b9b01bd0a9bf1a329c9643eaa_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aff49184e8ceaf6099708b568f09fc4fa" title="Reconnect servers that are enabled and disconnected. Checked every time DreamDaemon reboots ..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeb8f7b25f00c15aed0b80f2e0cff6ef4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.RecreateStaticFolder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renames the current static folder to a backup name and recreates is from the current repo using TGS3.json  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html#ab51e5cdabbb1a137702fb99f741924af">TGServiceInterface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00271">271</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00293">TGServerService.ServerInstance.BackupAndDeleteStaticDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">TGServerService.ServerInstance.configLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">TGServerService.ServerInstance.currentStatus</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">TGServerService.ServerInstance.InitialConfigureRepository()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">TGServerService.ServerInstance.RepoLock</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">TGServerService.ServerInstance.watchdogLock</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>))</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo locked!&quot;</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>))</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Watchdog locked!&quot;</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <span class="keywordflow">if</span> (!Monitor.TryEnter(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a>))</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Static dir locked!&quot;</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Watchdog running!&quot;</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce">BackupAndDeleteStaticDirectory</a>();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde">InitialConfigureRepository</a>();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    <span class="keywordflow">finally</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                        Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">finally</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                Monitor.Exit(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d407c09b7a499c45266c916e4eaa947"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">TGServerService.ServerInstance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5ce4ab9dd00a38f8e434a54ef8978dde"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde">TGServerService.ServerInstance.InitialConfigureRepository</a></div><div class="ttdeci">void InitialConfigureRepository()</div><div class="ttdoc">Initial setup for the StaticDirs and CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">Repository.cs:336</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a15a3ebcbd0237e65264d9ca2533291ce"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce">TGServerService.ServerInstance.BackupAndDeleteStaticDirectory</a></div><div class="ttdeci">void BackupAndDeleteStaticDirectory()</div><div class="ttdoc">Copies the Static directory to the first available Static_BACKUP path in the ServerInstance then dele...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00293">Repository.cs:293</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aeb8f7b25f00c15aed0b80f2e0cff6ef4_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aeb8f7b25f00c15aed0b80f2e0cff6ef4_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aeb8f7b25f00c15aed0b80f2e0cff6ef4_cgraph" id="class_t_g_server_service_1_1_server_instance_aeb8f7b25f00c15aed0b80f2e0cff6ef4_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce" title="Copies the Static directory to the first available Static_BACKUP path in the ServerInstance then dele..." alt="" coords="264,71,476,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde" title="Initial setup for the StaticDirs and CachedTGS3SettingsPath " alt="" coords="265,235,475,276"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="542,71,717,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="542,5,717,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="783,71,957,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="783,5,957,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_program.html#aef2a6a2e44bad48a223197b153734b06" title="Copy a file from source &#160;to dest , but first ensure the destination directory exists ..." alt="" coords="542,267,717,308"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="524,332,735,373"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="524,397,735,439"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="787,456,953,497"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a3e791a0e714b6c1e94e6b27c13ce2b2a" title="Updates the CachedTGS3SettingsPath with the RepoTGS3SettingsPath " alt="" coords="524,136,735,177"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="546,201,713,243"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="787,391,953,432"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a61c8fb2f26cf9d46c59b7677fdbad233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ushort TGServerService.ServerInstance.RemoteAccessPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the port used for remote operation  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html#a2cdd84ded3c69149ca2da56d87aa97b9">TGServiceInterface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00140">140</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.RemoteAccessPort;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a0db5ea4f797662c4317686d629a7e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.RepoConfigsMatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> and <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a> json files match. </p>
<dl class="section return"><dt>Returns</dt><dd>if the jsons match,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00111">111</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">TGServerService.ServerInstance.GetCachedRepoConfig()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="comment">//this should never be called while the repo is busy</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            RepoConfig I = null;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a> &amp;&amp; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>() == null)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    I = <span class="keyword">new</span> RepoConfig(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591">RepoTGS3SettingsPath</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">if</span> (I == null)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Unable to load TGS3.json from repo!&quot;</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            var J = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">return</span> I == J;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a460f7422c8ca2c016df6d18a6c64e287"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">TGServerService.ServerInstance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">Repository.cs:130</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6a5f6fad2c5c52da78eb9d1968c02f9d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">TGServerService.ServerInstance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used in conjunction with RepoLock for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">Repository.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a05f336e85da73906127af49b1ec0e591"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591">TGServerService.ServerInstance.RepoTGS3SettingsPath</a></div><div class="ttdeci">const string RepoTGS3SettingsPath</div><div class="ttdoc">The path to the Repository&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00024">Repository.cs:24</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_cgraph" id="class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_icgraph" id="class_t_g_server_service_1_1_server_instance_a3a0db5ea4f797662c4317686d629a7e8_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,12,475,53"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2e6fa52a6bc2f17eedd4c5d62f13063f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.RequestRestart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restart the server after the currently running world reboots. Has no effect if the server isn't running  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">201</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00028">TGServerService.ServerInstance.SCHardReboot</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00238">TGServerService.ServerInstance.SetPort()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00623">TGServerService.ServerInstance.SetSecurityLevel()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00716">TGServerService.ServerInstance.SetWebclient()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">TGServerService.ServerInstance.UpdateToVersionImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a66f4c90ad2f16211acff4bffd38b63c7">SCHardReboot</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a66f4c90ad2f16211acff4bffd38b63c7"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a66f4c90ad2f16211acff4bffd38b63c7">TGServerService.ServerInstance.SCHardReboot</a></div><div class="ttdeci">const string SCHardReboot</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00028">Interop.cs:28</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa392248d5913143b6537352190e75e6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">TGServerService.ServerInstance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">Interop.cs:131</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_cgraph" id="class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_icgraph" id="class_t_g_server_service_1_1_server_instance_a2e6fa52a6bc2f17eedd4c5d62f13063f_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a62a876e7b45a0668c0a545d6c168ab54" title="Set the port to host DD on. Requires reboot to apply. Calls RequestRestart. &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a9922a66137753d8a21b965fff7469989" title="Sets the security level of the server. Requires server reboot to apply. Calls RequestRestart. Note that anything higher than Trusted will disable interop from DD &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ac71b088f4e5df4f6925e522759e4093d" title="Set the webclient config. Calls RequestRestart &#160;" alt="" coords="264,136,475,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="264,201,475,243"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="523,201,733,243"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14fda24298442826a3f5ec506f94c4b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.RequestStop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the server after the currently running world reboots. Has no effect if the server isn't running  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a22126d0f898e45e09c9ae6674de22e06">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00207">207</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00029">TGServerService.ServerInstance.SCGracefulShutdown</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online || <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> != <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.None)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.Pinged;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5d2da9246c06fca12ffb4cb7a6aef5d8">SCGracefulShutdown</a>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0fcdc82f293c4cd7da11738f2c1e2656"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">TGServerService.ServerInstance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad1ddb778169e3f37504360e6850f3b10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">TGServerService.ServerInstance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa392248d5913143b6537352190e75e6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">TGServerService.ServerInstance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">Interop.cs:131</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5d2da9246c06fca12ffb4cb7a6aef5d8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5d2da9246c06fca12ffb4cb7a6aef5d8">TGServerService.ServerInstance.SCGracefulShutdown</a></div><div class="ttdeci">const string SCGracefulShutdown</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00029">Interop.cs:29</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a14fda24298442826a3f5ec506f94c4b3_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a14fda24298442826a3f5ec506f94c4b3_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a14fda24298442826a3f5ec506f94c4b3_cgraph" id="class_t_g_server_service_1_1_server_instance_a14fda24298442826a3f5ec506f94c4b3_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad2ab144910505686ff9529a708751f8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Reset </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>trackedBranch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs git reset &ndash;hard  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#aac1806ff64278e53594ac6eef667f51b">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00725">725</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">TGServerService.ServerInstance.DeletePRList()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">TGServerService.ServerInstance.ResetNoLock()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>() ?? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">ResetNoLock</a>(trackedBranch ? (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.TrackedBranch ?? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head) : <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                <span class="keywordflow">if</span> (res == null)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: Hard reset to {0}branch&quot;</span>, trackedBranch ? <span class="stringliteral">&quot;tracked &quot;</span> : <span class="stringliteral">&quot;&quot;</span>), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                    <span class="keywordflow">if</span> (trackedBranch)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">DeletePRList</a>();</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                    Service.WriteInfo(String.Format(<span class="stringliteral">&quot;Repo branch reset{0}&quot;</span>, trackedBranch ? <span class="stringliteral">&quot; to tracked branch&quot;</span> : <span class="stringliteral">&quot;&quot;</span>), trackedBranch ? <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoResetTracked : <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoReset);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Failed to reset{0}: {1}&quot;</span>, trackedBranch ? <span class="stringliteral">&quot; to tracked branch&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, res), trackedBranch ? <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoResetTrackedFail : <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoResetFail);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a04c0e665fa5086f6ebf6d5ffe288ca89"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">TGServerService.ServerInstance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the ServerInstance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">Repository.cs:756</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac5ddb16ab8332882d6bdf2be41d3e56"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">TGServerService.ServerInstance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">Repository.cs:475</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ad2ab144910505686ff9529a708751f8f_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ad2ab144910505686ff9529a708751f8f_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ad2ab144910505686ff9529a708751f8f_cgraph" id="class_t_g_server_service_1_1_server_instance_ad2ab144910505686ff9529a708751f8f_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="264,201,475,243"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="523,231,689,272"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,319,453,360"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="523,5,689,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac5ddb16ab8332882d6bdf2be41d3e56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.ResetNoLock </td>
          <td>(</td>
          <td class="paramtype">Branch&#160;</td>
          <td class="paramname"><em>targetBranch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent of running <code>git reset --hard</code> on the repository. Requires <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetBranch</td><td>If not , reset to this branch instead of HEAD</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">475</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00492">TGServerService.ServerInstance.Checkout()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">TGServerService.ServerInstance.MergeBranch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00725">TGServerService.ServerInstance.Reset()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        {</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                <span class="keywordflow">if</span> (targetBranch != null)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Reset(ResetMode.Hard, targetBranch.Tip);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Reset(ResetMode.Hard);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aac5ddb16ab8332882d6bdf2be41d3e56_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aac5ddb16ab8332882d6bdf2be41d3e56_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aac5ddb16ab8332882d6bdf2be41d3e56_icgraph" id="class_t_g_server_service_1_1_server_instance_aac5ddb16ab8332882d6bdf2be41d3e56_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="264,123,475,164"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="523,77,733,119"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="523,156,733,197"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ad2ab144910505686ff9529a708751f8f" title="Runs git reset hard &#160;" alt="" coords="264,240,475,281"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="781,123,992,164"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,188,992,229"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,188,1251,229"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,188,1509,229"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac58aa725d4b3a81cf979ab657a02cdb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Restart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Immediately kills and restarts the server  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a331610182def652bad924bf4d71e09fe">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00265">265</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">TGServerService.ServerInstance.Start()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">TGServerService.ServerInstance.Stop()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00248">TGServerService.ServerInstance.KillMe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>() == <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3">Start</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            lock(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">restartLock</a>)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a>)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Restart already in progress&quot;</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DD: Hard restart triggered&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698">Stop</a>();</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3">Start</a>();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span>(res != null)</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                lock(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">restartLock</a>)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4380a85aaa8cdaf5d13a0d90435355d6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">TGServerService.ServerInstance.RestartInProgress</a></div><div class="ttdeci">bool RestartInProgress</div><div class="ttdoc">Used to indicate if an intentional restart is in progress on the watchdog. Requires restartLock to ac...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00078">DreamDaemon.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad8b0bbbe0957e9d732666bec0ec06698"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698">TGServerService.ServerInstance.Stop</a></div><div class="ttdeci">string Stop()</div><div class="ttdoc">Immediately kills the server  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">DreamDaemon.cs:219</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8f8c222dd4a2d21957b968b26eff08a3"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3">TGServerService.ServerInstance.Start</a></div><div class="ttdeci">string Start()</div><div class="ttdoc">Starts the server if it isn&amp;#39;t running  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">DreamDaemon.cs:478</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad5410eb07e2ceac73e7e024919ba3449"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">TGServerService.ServerInstance.restartLock</a></div><div class="ttdeci">object restartLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00074">DreamDaemon.cs:74</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_cgraph" id="class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="277,31,488,72"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="1067,240,1277,281"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="277,311,488,352"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698" title="Immediately kills the server &#160;" alt="" coords="264,377,501,403"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1347,215,1514,256"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677" title="Gets the current status of any BYOND updates &#160;" alt="" coords="549,344,760,385"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="808,475,1019,516"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="808,540,1019,581"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="549,279,760,320"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="1085,475,1259,516"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="1067,540,1277,581"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1089,305,1255,347"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1089,391,1255,432"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1343,475,1518,516"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="808,409,1019,451"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="808,344,1019,385"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="808,213,1019,255"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="808,279,1019,320"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="808,148,1019,189"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="1067,5,1277,47"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="1325,32,1536,73"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="1067,123,1277,164"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1325,123,1536,164"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1584,123,1795,164"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_icgraph" id="class_t_g_server_service_1_1_server_instance_ac58aa725d4b3a81cf979ab657a02cdb8_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aea7eda46fd144259303499dfa412f1ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.RunDisposals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleans up the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00035">35</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00096">TGServerService.ServerInstance.DisposeByond()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00098">TGServerService.ServerInstance.DisposeChat()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00082">TGServerService.ServerInstance.DisposeCompiler()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">TGServerService.ServerInstance.DisposeDreamDaemon()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00174">TGServerService.ServerInstance.DisposeRepo()</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00072">TGServerService.ServerInstance.Dispose()</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c">DisposeDreamDaemon</a>();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a46ed0d7dc832756ebf66a79ab2435f7f">DisposeCompiler</a>();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0ae469ca70e8869f5f5ed794d7fe4ce5">DisposeByond</a>();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa">DisposeRepo</a>();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a37ece8a590016ff653791e76d926b49f">DisposeChat</a>();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b46135f61615923db5e302d3553e1fa"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa">TGServerService.ServerInstance.DisposeRepo</a></div><div class="ttdeci">void DisposeRepo()</div><div class="ttdoc">Cleans up Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00174">Repository.cs:174</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0ae469ca70e8869f5f5ed794d7fe4ce5"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0ae469ca70e8869f5f5ed794d7fe4ce5">TGServerService.ServerInstance.DisposeByond</a></div><div class="ttdeci">void DisposeByond()</div><div class="ttdoc">Called when the ServerInstance is shutdown </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00096">Byond.cs:96</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a901e893be86572cf6a8d539e83de4b2c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c">TGServerService.ServerInstance.DisposeDreamDaemon</a></div><div class="ttdeci">void DisposeDreamDaemon()</div><div class="ttdoc">Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">DreamDaemon.cs:160</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a46ed0d7dc832756ebf66a79ab2435f7f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a46ed0d7dc832756ebf66a79ab2435f7f">TGServerService.ServerInstance.DisposeCompiler</a></div><div class="ttdeci">void DisposeCompiler()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00082">Compiler.cs:82</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a37ece8a590016ff653791e76d926b49f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a37ece8a590016ff653791e76d926b49f">TGServerService.ServerInstance.DisposeChat</a></div><div class="ttdeci">void DisposeChat()</div><div class="ttdoc">Properly shuts down all ChatProviders </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00098">Chat.cs:98</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_cgraph" id="class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a0ae469ca70e8869f5f5ed794d7fe4ce5" title="Called when the ServerInstance is shutdown " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a37ece8a590016ff653791e76d926b49f" title="Properly shuts down all ChatProviders " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a46ed0d7dc832756ebf66a79ab2435f7f" title="TGServerService.ServerInstance.\lDisposeCompiler" alt="" coords="264,136,475,177"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="264,267,475,308"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa" title="Cleans up Repo " alt="" coords="264,332,475,373"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6" title="Cleans the BYOND staging directory " alt="" coords="536,5,747,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="826,5,1001,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1085,5,1259,47"/>
<area shape="rect" id="node7" href="class_t_g_service_interface_1_1_helpers.html#a4f047ed34d25452f624f09d3c2037d96" title="Takes some cleartext &#160;and returns an encrypted version along with the entropy &#160;required to decrypt it..." alt="" coords="550,71,733,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ad6f61d0895428e85ec403dbfd0afe744" title="TGServerService.ServerInstance.\lInitCompiler" alt="" coords="536,136,747,177"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a8445f34deceaaa76a7c2088f8c7f1991" title="TGServerService.ServerInstance.\lIsInitialized" alt="" coords="808,136,1019,177"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="536,201,747,243"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="536,267,747,308"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ad8b0bbbe0957e9d732666bec0ec06698" title="Immediately kills the server &#160;" alt="" coords="523,333,760,359"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90" title="Sends a message to everyone on the server &#160;" alt="" coords="536,384,747,425"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="536,449,747,491"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="830,267,997,308"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="808,357,1019,399"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_program.html#a7c301d450202a1f0ef212beabb74de5b" title="Properly escapes characters for a BYOND Topic() packet. See http://www.byond.com/docs/ref/info.html#/proc/list2params " alt="" coords="826,423,1001,464"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1067,357,1277,399"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1325,357,1536,399"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_icgraph" id="class_t_g_server_service_1_1_server_instance_aea7eda46fd144259303499dfa412f1ac_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd87ce466519d0288fdf460eebb4c1d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a> TGServerService.ServerInstance.SecurityLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the configured (not necessarily running) security level  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a06f1d1c7426361967d8da1bd9a449604">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00614">614</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <span class="keywordflow">return</span> (<a class="code" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>)Properties.Settings.Default.ServerSecurity;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a82f76b01f699bef8336537255d268118"><div class="ttname"><a href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">TGServiceInterface.DreamDaemonSecurity</a></div><div class="ttdeci">DreamDaemonSecurity</div><div class="ttdoc">DreamDaemon&amp;#39;s security level </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00133">Enumerations.cs:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae430434d3ffdbdaba867da778283b28b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.SecurityWord </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>starting</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translate the configured DreamDaemonSecurity level into a byond command line param </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">starting</td><td>If  bases it's result on <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a76df7e1dbf0a616318dc38a5b74096d2" title="Current DreamDaemonSecurity level of DreamDaemon ">StartingSecurity</a>, uses Properties.Settings.ServerSecurity otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>"safe", "trusted", or "ultrasafe" depending on the DreamDaemonSecurity it checks</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00504">504</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00651">TGServerService.ServerInstance.StatusString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            var level = starting ? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a76df7e1dbf0a616318dc38a5b74096d2">StartingSecurity</a> : (<a class="code" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>)Properties.Settings.Default.ServerSecurity;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            switch (level)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>.Safe:</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;safe&quot;</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>.Trusted:</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;trusted&quot;</span>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>.Ultrasafe:</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;ultrasafe&quot;</span>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(String.Format(<span class="stringliteral">&quot;Bad DreamDaemon security level: {0}&quot;</span>, level));</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a76df7e1dbf0a616318dc38a5b74096d2"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a76df7e1dbf0a616318dc38a5b74096d2">TGServerService.ServerInstance.StartingSecurity</a></div><div class="ttdeci">DreamDaemonSecurity StartingSecurity</div><div class="ttdoc">Current DreamDaemonSecurity level of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00087">DreamDaemon.cs:87</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a82f76b01f699bef8336537255d268118"><div class="ttname"><a href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">TGServiceInterface.DreamDaemonSecurity</a></div><div class="ttdeci">DreamDaemonSecurity</div><div class="ttdoc">DreamDaemon&amp;#39;s security level </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00133">Enumerations.cs:133</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae430434d3ffdbdaba867da778283b28b_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae430434d3ffdbdaba867da778283b28b_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae430434d3ffdbdaba867da778283b28b_icgraph" id="class_t_g_server_service_1_1_server_instance_ae430434d3ffdbdaba867da778283b28b_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a819f1dd33b77bd47f3796ff462cf7c68" title="Returns a human readable string of the current server status &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1557,71,1768,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa392248d5913143b6537352190e75e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.SendCommand </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">131</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">TGServerService.ServerInstance.currentPort</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">TGServerService.ServerInstance.currentStatus</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00162">TGServerService.ServerInstance.SendTopic()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">TGServerService.ServerInstance.watchdogLock</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00047">TGServerService.ServerInstance.LoadServerChatCommands()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00141">TGServerService.ServerInstance.PlayerCount()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">TGServerService.ServerInstance.RequestRestart()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00207">TGServerService.ServerInstance.RequestStop()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00701">TGServerService.ServerInstance.WorldAnnounce()</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: Server Offline!&quot;</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760">SendTopic</a>(String.Format(<span class="stringliteral">&quot;serviceCommsKey={0};command={1}&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a>, cmd), <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4e943244934b9768a821aa6ec722ac18"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">TGServerService.ServerInstance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5bc2c5cf72086f7be5ab0360a8b97105"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">TGServerService.ServerInstance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">Interop.cs:21</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad13b3094596c77baca6116842d373760"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760">TGServerService.ServerInstance.SendTopic</a></div><div class="ttdeci">string SendTopic(string topicdata, ushort port)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00162">Interop.cs:162</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_cgraph" id="class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_icgraph" id="class_t_g_server_service_1_1_server_instance_aaa392248d5913143b6537352190e75e6_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1557,157,1768,198"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9" title="TGServerService.ServerInstance.\lLoadServerChatCommands" alt="" coords="264,74,475,116"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ad4283de03ea6d7f96473c41aa91e5741" title="Returns the number of connected players. Requires game to use API version &gt;= 3.1.0.1 " alt="" coords="264,156,475,197"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="264,221,475,262"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a14fda24298442826a3f5ec506f94c4b3" title="Stop the server after the currently running world reboots. Has no effect if the server isn&#39;t running ..." alt="" coords="264,286,475,328"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="264,365,475,406"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90" title="Sends a message to everyone on the server &#160;" alt="" coords="264,456,475,497"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1816,157,2027,198"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="781,49,992,90"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="1040,165,1251,206"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,212,1509,253"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a62a876e7b45a0668c0a545d6c168ab54" title="Set the port to host DD on. Requires reboot to apply. Calls RequestRestart. &#160;" alt="" coords="523,100,733,141"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a9922a66137753d8a21b965fff7469989" title="Sets the security level of the server. Requires server reboot to apply. Calls RequestRestart. Note that anything higher than Trusted will disable interop from DD &#160;" alt="" coords="523,165,733,206"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#ac71b088f4e5df4f6925e522759e4093d" title="Set the webclient config. Calls RequestRestart &#160;" alt="" coords="523,230,733,272"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="523,296,733,337"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="781,296,992,337"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="1040,348,1251,389"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="523,413,733,454"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="781,413,992,454"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="1040,413,1251,454"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1299,368,1509,409"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="523,478,733,520"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="781,478,992,520"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="1040,478,1251,520"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae6ea9140e5cf33703628ac25700bc556"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SendMessage </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>&#160;</td>
          <td class="paramname"><em>mt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcast a message to appropriate channels based on the message type </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to send</td></tr>
    <tr><td class="paramname">mt</td><td>The message type</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">223</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">TGServerService.ServerInstance.ApplyStagedUpdate()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00492">TGServerService.ServerInstance.Checkout()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">TGServerService.ServerInstance.DisposeDreamDaemon()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">TGServerService.ServerInstance.MergeBranch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>, <a class="el" href="_server_instance_8cs_source.html#l00054">TGServerService.ServerInstance.PrepareForUpdate()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00725">TGServerService.ServerInstance.Reset()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00265">TGServerService.ServerInstance.Restart()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">TGServerService.ServerInstance.UpdateSubmodules()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">TGServerService.ServerInstance.UpdateToVersionImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a03e6f43c86cd29032ae6acc003afe521">ChatLock</a>)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">foreach</span> (var <a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a> <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a>)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        ChatProvider.SendMessage(msg, mt);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Chat broadcast failed (Provider: {3}) (Flags: {0}) (Message: {1}): {2}&quot;</span>, mt, msg, e.ToString(), ChatProvider.ProviderInfo().Provider), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.ChatBroadcastFail);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acadcf82abcaebb13517e3e169545f35c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">TGServerService.ServerInstance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">Chat.cs:16</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a383af7e89a74270e05065b7f1bed06a4"><div class="ttname"><a href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">TGServiceInterface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00054">Enumerations.cs:54</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a03e6f43c86cd29032ae6acc003afe521"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a03e6f43c86cd29032ae6acc003afe521">TGServerService.ServerInstance.ChatLock</a></div><div class="ttdeci">object ChatLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00020">Chat.cs:20</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_cgraph" id="class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="264,5,431,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_icgraph" id="class_t_g_server_service_1_1_server_instance_ae6ea9140e5cf33703628ac25700bc556_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="264,119,475,160"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="1040,444,1251,485"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="1040,173,1251,215"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1557,63,1768,104"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="523,64,733,105"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="523,677,733,719"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,349,475,391"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,532,475,573"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,480,733,521"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="264,415,475,456"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="264,948,475,989"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="523,759,733,800"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="523,885,733,927"/>
<area shape="rect" id="node28" href="class_t_g_server_service_1_1_server_instance.html#af6f5ef18b0129ec5d24f76a13c044feb" title="Next stop of the service will not close DD and sets a flag for it to reattach once it restarts &#160;..." alt="" coords="264,817,475,859"/>
<area shape="rect" id="node29" href="class_t_g_server_service_1_1_server_instance.html#ad2ab144910505686ff9529a708751f8f" title="Runs git reset hard &#160;" alt="" coords="264,883,475,924"/>
<area shape="rect" id="node30" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="264,700,475,741"/>
<area shape="rect" id="node31" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="264,261,475,303"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="781,232,992,273"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,476,1509,517"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1299,119,1509,160"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1816,63,2027,104"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="781,64,992,105"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="523,349,733,391"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,545,733,587"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,663,992,704"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,585,1251,627"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,480,992,521"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="523,415,733,456"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="781,415,992,456"/>
<area shape="rect" id="node27" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="781,885,992,927"/>
<area shape="rect" id="node32" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="523,232,733,273"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad13b3094596c77baca6116842d373760"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.SendTopic </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>topicdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00162">162</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00154">TGServerService.ServerInstance.CheckAPIVersionConstraints()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="comment">//santize the escape characters in accordance with http://www.byond.com/docs/ref/info.html#/proc/params2list</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">topicLock</a>) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad">CheckAPIVersionConstraints</a>())</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Incompatible API!&quot;</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keyword">using</span> (var topicSender = <span class="keyword">new</span> Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp) { SendTimeout = 5000, ReceiveTimeout = 5000 })</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        topicSender.Connect(IPAddress.Loopback, port);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        StringBuilder stringPacket = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        stringPacket.Append((<span class="keywordtype">char</span>)<span class="stringliteral">&#39;\x00&#39;</span>, 8);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        stringPacket.Append(<span class="charliteral">&#39;?&#39;</span> + topicdata);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        stringPacket.Append((<span class="keywordtype">char</span>)<span class="stringliteral">&#39;\x00&#39;</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        <span class="keywordtype">string</span> fullString = stringPacket.ToString();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        var packet = Encoding.ASCII.GetBytes(fullString);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        packet[1] = 0x83;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        var FinalLength = packet.Length - 4;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                        <span class="keywordflow">if</span> (FinalLength &gt; UInt16.MaxValue)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: Topic too long&quot;</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        var lengthBytes = BitConverter.GetBytes((ushort)FinalLength);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        packet[2] = lengthBytes[1]; <span class="comment">//fucking endianess</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                        packet[3] = lengthBytes[0];</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        topicSender.Send(packet);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        <span class="keywordtype">string</span> returnedString = <span class="stringliteral">&quot;NULL&quot;</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        <span class="keywordflow">try</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                            var returnedData = <span class="keyword">new</span> byte[UInt16.MaxValue];</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                            topicSender.Receive(returnedData);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                            var raw_string = Encoding.ASCII.GetString(returnedData).TrimEnd(<span class="keyword">new</span> <span class="keywordtype">char</span>[] { (char)0 }).Trim();</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                            <span class="keywordflow">if</span> (raw_string.Length &gt; 6)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                returnedString = raw_string.Substring(5, raw_string.Length - 5).Trim();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="keywordflow">catch</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                        {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                            returnedString = <span class="stringliteral">&quot;Topic recieve error!&quot;</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                        }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        <span class="keywordflow">finally</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                        {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                            topicSender.Shutdown(SocketShutdown.Both);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                        </div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                        <span class="keywordflow">return</span> returnedString;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <span class="keywordflow">catch</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                    {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Topic delivery failed!&quot;</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a84e536f3c962184942e7a5b01bc9ffad"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad">TGServerService.ServerInstance.CheckAPIVersionConstraints</a></div><div class="ttdeci">bool CheckAPIVersionConstraints()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00154">Interop.cs:154</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8875aeb516888e8ed1007c14302076a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">TGServerService.ServerInstance.topicLock</a></div><div class="ttdeci">object topicLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00019">Interop.cs:19</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_cgraph" id="class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_icgraph" id="class_t_g_server_service_1_1_server_instance_ad13b3094596c77baca6116842d373760_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="264,221,475,262"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1816,157,2027,198"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a3a991f102faacdca2faec4a3fd92d9a9" title="TGServerService.ServerInstance.\lLoadServerChatCommands" alt="" coords="523,74,733,116"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ad4283de03ea6d7f96473c41aa91e5741" title="Returns the number of connected players. Requires game to use API version &gt;= 3.1.0.1 " alt="" coords="523,156,733,197"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="523,221,733,262"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a14fda24298442826a3f5ec506f94c4b3" title="Stop the server after the currently running world reboots. Has no effect if the server isn&#39;t running ..." alt="" coords="523,286,733,328"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,365,733,406"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#a989bcee76648cec9c7e52a5d33217e90" title="Sends a message to everyone on the server &#160;" alt="" coords="523,456,733,497"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="2075,157,2285,198"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a74914da816161c02d9833216fbcb0e25" title="Implementation of OnChatMessage that recieves messages from all channels of all connected ChatProvide..." alt="" coords="1040,49,1251,90"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a61c197535442dd090e429de96abe5466" title="Set up the ChatProviders for the ServerInstance " alt="" coords="1299,165,1509,206"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1557,212,1768,253"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a62a876e7b45a0668c0a545d6c168ab54" title="Set the port to host DD on. Requires reboot to apply. Calls RequestRestart. &#160;" alt="" coords="781,100,992,141"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a9922a66137753d8a21b965fff7469989" title="Sets the security level of the server. Requires server reboot to apply. Calls RequestRestart. Note that anything higher than Trusted will disable interop from DD &#160;" alt="" coords="781,165,992,206"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ac71b088f4e5df4f6925e522759e4093d" title="Set the webclient config. Calls RequestRestart &#160;" alt="" coords="781,230,992,272"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="781,296,992,337"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="1040,296,1251,337"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="1299,348,1509,389"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="781,413,992,454"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="1040,413,1251,454"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="1299,413,1509,454"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1557,368,1768,409"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="781,478,992,520"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="1040,478,1251,520"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="1299,478,1509,520"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1145d114b3be3a6b958913e344adc5fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.ServerDirectory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the directory of the server on the host machine  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_config.html#a516338ee995ac558ab63c47571785712">TGServiceInterface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00017">17</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html">Config.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            <span class="keywordflow">return</span> Environment.CurrentDirectory;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17fd1cd46cd9791a923b449460459dbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.SetAuthorizedGroup </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>groupName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches the windows machine for the group named <em>groupName</em> , sets it as the authorized group if it's found  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html#a93407a5676692590ab5d8c36edc2c068">TGServiceInterface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00052">52</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00070">TGServerService.ServerInstance.FindTheDroidsWereLookingFor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">if</span> (groupName == null)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TheDroidsWereLookingFor</a> = null;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                var config = Properties.Settings.Default;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                config.AuthorizedGroupSID = null;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                config.Save();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;ADMIN&quot;</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a217ecaa0e91ebecb8460f46b992dc09f">FindTheDroidsWereLookingFor</a>(groupName);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a217ecaa0e91ebecb8460f46b992dc09f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a217ecaa0e91ebecb8460f46b992dc09f">TGServerService.ServerInstance.FindTheDroidsWereLookingFor</a></div><div class="ttdeci">string FindTheDroidsWereLookingFor(string search=null)</div><div class="ttdoc">Set TheDroidsWereLookingFor based off either an search ed name or a string SecurityIdentifier from th...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00070">Administration.cs:70</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a099e2fa5d7fe81467538a56467c9906c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a099e2fa5d7fe81467538a56467c9906c">TGServerService.ServerInstance.TheDroidsWereLookingFor</a></div><div class="ttdeci">SecurityIdentifier TheDroidsWereLookingFor</div><div class="ttdoc">The SecurityIdentifier of the Windows group authorized to access the ServerInstance ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00019">Administration.cs:19</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a17fd1cd46cd9791a923b449460459dbe_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a17fd1cd46cd9791a923b449460459dbe_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a17fd1cd46cd9791a923b449460459dbe_cgraph" id="class_t_g_server_service_1_1_server_instance_a17fd1cd46cd9791a923b449460459dbe_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a217ecaa0e91ebecb8460f46b992dc09f" title="Set TheDroidsWereLookingFor based off either an search ed name or a string SecurityIdentifier from th..." alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae63ea891af8539587b0d5829a9cb4f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetAutostart </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the autostart config  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#ac45d7c37145bfd3bbebf931aba47a8fa">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00645">645</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            Properties.Settings.Default.DDAutoStart = on;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a627c8818fce3742ee646e0eb08457fce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetAutoUpdateInterval </td>
          <td>(</td>
          <td class="paramtype">ulong&#160;</td>
          <td class="paramname"><em>newInterval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>(De)Activate and set the interval for the automatic server updater  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a12e872136aed44799171eb2a4ab70039">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01254">1254</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00087">TGServerService.ServerInstance.autoUpdateTimer</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">autoUpdateTimer</a>)</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">autoUpdateTimer</a>.Stop();</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="keywordflow">if</span> (newInterval &gt; 0) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">autoUpdateTimer</a>.Interval = newInterval * 60 * 1000; <span class="comment">//convert from minutes to ms</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">autoUpdateTimer</a>.Start();</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            }</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            Properties.Settings.Default.AutoUpdateInterval = newInterval;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae88c3d75e0b20177d4d8ad653e8ea4d1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae88c3d75e0b20177d4d8ad653e8ea4d1">TGServerService.ServerInstance.autoUpdateTimer</a></div><div class="ttdeci">System.Timers.Timer autoUpdateTimer</div><div class="ttdoc">Used for automatically updating the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00087">Repository.cs:87</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a627c8818fce3742ee646e0eb08457fce_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a627c8818fce3742ee646e0eb08457fce_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a627c8818fce3742ee646e0eb08457fce_icgraph" id="class_t_g_server_service_1_1_server_instance_a627c8818fce3742ee646e0eb08457fce_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="523,5,733,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa51dc6c04c3fdfe635bf7efef5a60aab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetCommitterEmail </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newEmail</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the email of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a328a3ad1ecb1b52859c3768e1fcce6cc">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00957">957</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                Properties.Settings.Default.CommitterEmail = newEmail;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb1f17bd3a1564072ff5be104d3c265e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetCommitterName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the name of the configured git committer  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a4f5f681ccdacd1f2aeaa5e517f96cbe0">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00939">939</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                Properties.Settings.Default.CommitterName = newName;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3372c4e2b46b1ce3f1985684be2a6c3b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetCurrentPRList </td>
          <td>(</td>
          <td class="paramtype">IDictionary&lt; string, IDictionary&lt; string, string &gt;&gt;&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serializes pull request info into <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9" title="File name for monitoring which github pull requests are currently test merged ">PRJobFile</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">list</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00786">786</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            var Serializer = <span class="keyword">new</span> JavaScriptSerializer();</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            var rawdata = Serializer.Serialize(list);</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            File.WriteAllText(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">PRJobFile</a>, rawdata);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5a3e4575d902a3e8650d4734629bd9d9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5a3e4575d902a3e8650d4734629bd9d9">TGServerService.ServerInstance.PRJobFile</a></div><div class="ttdeci">const string PRJobFile</div><div class="ttdoc">File name for monitoring which github pull requests are currently test merged </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00052">Repository.cs:52</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3372c4e2b46b1ce3f1985684be2a6c3b_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3372c4e2b46b1ce3f1985684be2a6c3b_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3372c4e2b46b1ce3f1985684be2a6c3b_icgraph" id="class_t_g_server_service_1_1_server_instance_a3372c4e2b46b1ce3f1985684be2a6c3b_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a62a876e7b45a0668c0a545d6c168ab54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetPort </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>new_port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the port to host DD on. Requires reboot to apply. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>.  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#adad1e4ebb792d2bf4a6b7381c6757749">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00238">238</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">TGServerService.ServerInstance.RequestRestart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                Properties.Settings.Default.ServerPort = new_port;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">RequestRestart</a>();</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2e6fa52a6bc2f17eedd4c5d62f13063f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">TGServerService.ServerInstance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">DreamDaemon.cs:201</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a62a876e7b45a0668c0a545d6c168ab54_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a62a876e7b45a0668c0a545d6c168ab54_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a62a876e7b45a0668c0a545d6c168ab54_cgraph" id="class_t_g_server_service_1_1_server_instance_a62a876e7b45a0668c0a545d6c168ab54_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1040,5,1251,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13f5af1053cf88ca54c769cc339db419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetProjectName </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>projectName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the relative path of the dme the compiler will look for without the .dme part  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_compiler.html#a6fbaddb703b2f6c1f2f9ec1a072346a4">TGServiceInterface.Components.ITGCompiler</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00596">596</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                Properties.Settings.Default.ProjectName = projectName;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a361bf89dfd58611fa26d86fd81443cd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.SetProviderInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_g_service_interface_1_1_chat_setup_info.html">ChatSetupInfo</a>&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a chat provider <em>info</em>   </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_chat.html#a717806db0b16e799c08f4df2d4e8773b">TGServiceInterface.Components.ITGChat</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00172">172</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

<p>References <a class="el" href="_chat_setup_info_8cs_source.html#l00196">TGServiceInterface.ChatSetupInfo.Provider</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a03e6f43c86cd29032ae6acc003afe521">ChatLock</a>)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">foreach</span> (var <a class="code" href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">ChatProvider</a> <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">ChatProviders</a>)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <span class="keywordflow">if</span> (info.<a class="code" href="class_t_g_service_interface_1_1_chat_setup_info.html#a51c53174aec0de67d4aaf91144925913">Provider</a> == ChatProvider.ProviderInfo().Provider)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                            <span class="keywordflow">return</span> ChatProvider.SetProviderInfo(info);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: Invalid provider: &quot;</span> + info.<a class="code" href="class_t_g_service_interface_1_1_chat_setup_info.html#a51c53174aec0de67d4aaf91144925913">Provider</a>.ToString();</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_acadcf82abcaebb13517e3e169545f35c"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#acadcf82abcaebb13517e3e169545f35c">TGServerService.ServerInstance.ChatProviders</a></div><div class="ttdeci">IList&lt; IChatProvider &gt; ChatProviders</div><div class="ttdoc">List of IChatProviders for the ServerInstance </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">Chat.cs:16</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_chat_setup_info_html_a51c53174aec0de67d4aaf91144925913"><div class="ttname"><a href="class_t_g_service_interface_1_1_chat_setup_info.html#a51c53174aec0de67d4aaf91144925913">TGServiceInterface.ChatSetupInfo.Provider</a></div><div class="ttdeci">ChatProvider Provider</div><div class="ttdoc">The type of provider </div><div class="ttdef"><b>Definition:</b> <a href="_chat_setup_info_8cs_source.html#l00196">ChatSetupInfo.cs:196</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a383af7e89a74270e05065b7f1bed06a4"><div class="ttname"><a href="namespace_t_g_service_interface.html#a383af7e89a74270e05065b7f1bed06a4">TGServiceInterface.ChatProvider</a></div><div class="ttdeci">ChatProvider</div><div class="ttdoc">The type of chat provider </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00054">Enumerations.cs:54</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a03e6f43c86cd29032ae6acc003afe521"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a03e6f43c86cd29032ae6acc003afe521">TGServerService.ServerInstance.ChatLock</a></div><div class="ttdeci">object ChatLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00020">Chat.cs:20</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a400a996a1a8e3c8a1d430400e14896fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.SetPythonPath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the path to the python 2.7 installation  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a77327e69d2fca0cab7415edf570b3f94">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01287">1287</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        {</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <span class="keywordflow">if</span> (!Directory.Exists(path))</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            Properties.Settings.Default.PythonPath = Path.GetFullPath(path);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a248a8fbd9ed9e8c08db3dff6b7adba04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.SetRemoteAccessPort </td>
          <td>(</td>
          <td class="paramtype">ushort&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the port used for remote operation Requires a service restart to take effect  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_administration.html#a8ce1ad9323ff444c7bc31916084abd1c">TGServiceInterface.Components.ITGAdministration</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00146">146</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (port == 0)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot bind to port 0&quot;</span>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            Config.RemoteAccessPort = port;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            Config.Save();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9922a66137753d8a21b965fff7469989"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.SetSecurityLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the security level of the server. Requires server reboot to apply. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Note that anything higher than Trusted will disable interop from DD  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a44130850bf9096a84324f0e5f1ebc9c7">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00623">623</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">TGServerService.ServerInstance.RequestRestart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            var secInt = (int)level;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordtype">bool</span> needReboot;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                needReboot = Config.ServerSecurity != secInt;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                Config.ServerSecurity = secInt;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">if</span> (needReboot)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">RequestRestart</a>();</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>() != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2e6fa52a6bc2f17eedd4c5d62f13063f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">TGServerService.ServerInstance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">DreamDaemon.cs:201</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a9922a66137753d8a21b965fff7469989_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a9922a66137753d8a21b965fff7469989_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a9922a66137753d8a21b965fff7469989_cgraph" id="class_t_g_server_service_1_1_server_instance_a9922a66137753d8a21b965fff7469989_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1040,71,1251,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a8f527d1b8aef7962a482d8e66b370e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Setup </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>RepoURL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>BranchName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes whatever may be left over and clones the repo at <em>remote</em>  and checks out <em>branch</em> . Will move config and data dirs to a backup location if they exist. Runs asyncronously  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a1ba91e01239633db1ea8e7c20a954b9e">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00379">379</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00101">TGServerService.ServerInstance.CompilerIdleNoLock()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">TGServerService.ServerInstance.CompilerLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01105">TGServerService.ServerInstance.SSHAuth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a>)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Repo is busy!&quot;</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">CompilerLock</a>)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a7885cff0cd047f5485cbb9cba09407e8">CompilerIdleNoLock</a>())</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Compiler is running!&quot;</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>() != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;DreamDaemon is running!&quot;</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordflow">if</span> (RepoURL.Contains(<span class="stringliteral">&quot;ssh://&quot;</span>) &amp;&amp; !<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09">SSHAuth</a>())</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;SSH url specified but either {0} or {1} does not exist in the server directory!&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">PrivateKeyPath</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">PublicKeyPath</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">RepoBusy</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a96ac726e923f4016b5c65806e5b1fb17">Cloning</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="keyword">new</span> Thread(<span class="keyword">new</span> ParameterizedThreadStart(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b">Clone</a>))</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    IsBackground = <span class="keyword">true</span> <span class="comment">//make sure we don&#39;t hold up shutdown</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                }.Start(RepoURL + <span class="charliteral">&#39; &#39;</span> + BranchName);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a7885cff0cd047f5485cbb9cba09407e8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a7885cff0cd047f5485cbb9cba09407e8">TGServerService.ServerInstance.CompilerIdleNoLock</a></div><div class="ttdeci">bool CompilerIdleNoLock()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00101">Compiler.cs:101</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a14f34e7f968afb1ad7f77d8813d5799b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b">TGServerService.ServerInstance.Clone</a></div><div class="ttdeci">void Clone(object twostrings)</div><div class="ttdoc">Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">Repository.cs:218</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae7181bf579d6d909c916154bbe095d0b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">TGServerService.ServerInstance.PublicKeyPath</a></div><div class="ttdeci">const string PublicKeyPath</div><div class="ttdoc">The path to the public ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00048">Repository.cs:48</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6a5f6fad2c5c52da78eb9d1968c02f9d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d">TGServerService.ServerInstance.RepoBusy</a></div><div class="ttdeci">bool RepoBusy</div><div class="ttdoc">Used in conjunction with RepoLock for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">Repository.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2ab6a2c8f02431003a7b3eee7f453fff"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">TGServerService.ServerInstance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">Repository.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3fa2414f020ebecc7b1470e12a243d09"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09">TGServerService.ServerInstance.SSHAuth</a></div><div class="ttdeci">bool SSHAuth()</div><div class="ttdoc">Check if the ServerInstance is configured for SSH pushing </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01105">Repository.cs:1105</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a43598a044d75089e4c3a0b433bca455b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a43598a044d75089e4c3a0b433bca455b">TGServerService.ServerInstance.CompilerLock</a></div><div class="ttdeci">object CompilerLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">Compiler.cs:42</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a96ac726e923f4016b5c65806e5b1fb17"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a96ac726e923f4016b5c65806e5b1fb17">TGServerService.ServerInstance.Cloning</a></div><div class="ttdeci">bool Cloning</div><div class="ttdoc">Whether or not a git clone operation is in progress </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00073">Repository.cs:73</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3a8f527d1b8aef7962a482d8e66b370e_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3a8f527d1b8aef7962a482d8e66b370e_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3a8f527d1b8aef7962a482d8e66b370e_cgraph" id="class_t_g_server_service_1_1_server_instance_a3a8f527d1b8aef7962a482d8e66b370e_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="264,370,475,411"/>
<area shape="rect" id="node24" href="class_t_g_server_service_1_1_server_instance.html#a7885cff0cd047f5485cbb9cba09407e8" title="TGServerService.ServerInstance.\lCompilerIdleNoLock" alt="" coords="264,435,475,477"/>
<area shape="rect" id="node25" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="264,501,475,542"/>
<area shape="rect" id="node26" href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09" title="Check if the ServerInstance is configured for SSH pushing " alt="" coords="264,566,475,607"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a15a3ebcbd0237e65264d9ca2533291ce" title="Copies the Static directory to the first available Static_BACKUP path in the ServerInstance then dele..." alt="" coords="524,57,736,98"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="803,27,978,69"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="785,218,996,259"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a2797d54ddfe3bd78e2c726b11136fba8" title="Turns off the gc.auto git config setting " alt="" coords="523,174,737,215"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a9b46135f61615923db5e302d3553e1fa" title="Cleans up Repo " alt="" coords="525,239,735,281"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="525,305,735,346"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="525,370,735,411"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="525,435,735,477"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde" title="Initial setup for the StaticDirs and CachedTGS3SettingsPath " alt="" coords="525,501,735,542"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="1048,618,1215,659"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="807,629,974,670"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="525,683,735,725"/>
<area shape="rect" id="node23" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="525,566,735,607"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#ae1290ddee2583742124827bad8d68f23" title="Recusively copy a directory " alt="" coords="803,109,978,150"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#a7c18e20067d3cacdea766f96e140456c" title="Recusively copy a directory " alt="" coords="1044,109,1219,150"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1044,27,1219,69"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="1048,309,1215,350"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_program.html#aef2a6a2e44bad48a223197b153734b06" title="Copy a file from source &#160;to dest , but first ensure the destination directory exists ..." alt="" coords="803,367,978,409"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="785,433,996,474"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="785,498,996,539"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#a3e791a0e714b6c1e94e6b27c13ce2b2a" title="Updates the CachedTGS3SettingsPath with the RepoTGS3SettingsPath " alt="" coords="785,563,996,605"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac71b088f4e5df4f6925e522759e4093d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.SetWebclient </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the webclient config. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#aa6ea639e69962d6f3d95e0fa218c6903">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00716">716</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">TGServerService.ServerInstance.RequestRestart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            var Config = Properties.Settings.Default;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>) {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                var diff = on != Config.Webclient;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <span class="keywordflow">if</span> (diff)</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    Config.Webclient = on;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">RequestRestart</a>();</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2e6fa52a6bc2f17eedd4c5d62f13063f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">TGServerService.ServerInstance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">DreamDaemon.cs:201</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac71b088f4e5df4f6925e522759e4093d_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac71b088f4e5df4f6925e522759e4093d_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac71b088f4e5df4f6925e522759e4093d_cgraph" id="class_t_g_server_service_1_1_server_instance_ac71b088f4e5df4f6925e522759e4093d_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1040,5,1251,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a63f7a4713145730f329e375b30213862"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.ShutdownInProgress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a server stop has been requested  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a881422edb74cc3e75fe7a01727b41b83">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00692">692</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> != <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.None;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0fcdc82f293c4cd7da11738f2c1e2656"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">TGServerService.ServerInstance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad1ddb778169e3f37504360e6850f3b10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">TGServerService.ServerInstance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3fa2414f020ebecc7b1470e12a243d09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.SSHAuth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> is configured for SSH pushing </p>
<dl class="section return"><dt>Returns</dt><dd>if the see cref="ServerInstance"/&gt; is configured for SSH pushing,  otherwise</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01105">1105</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01071">TGServerService.ServerInstance.Push()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00379">TGServerService.ServerInstance.Setup()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00966">TGServerService.ServerInstance.SynchronizePush()</a>.</p>
<div class="fragment"><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="keywordflow">return</span> File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">PrivateKeyPath</a>) &amp;&amp; File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">PublicKeyPath</a>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae7181bf579d6d909c916154bbe095d0b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae7181bf579d6d909c916154bbe095d0b">TGServerService.ServerInstance.PublicKeyPath</a></div><div class="ttdeci">const string PublicKeyPath</div><div class="ttdoc">The path to the public ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00048">Repository.cs:48</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2ab6a2c8f02431003a7b3eee7f453fff"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2ab6a2c8f02431003a7b3eee7f453fff">TGServerService.ServerInstance.PrivateKeyPath</a></div><div class="ttdeci">const string PrivateKeyPath</div><div class="ttdoc">The path to the private ssh-rsa key file </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">Repository.cs:44</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3fa2414f020ebecc7b1470e12a243d09_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3fa2414f020ebecc7b1470e12a243d09_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3fa2414f020ebecc7b1470e12a243d09_icgraph" id="class_t_g_server_service_1_1_server_instance_a3fa2414f020ebecc7b1470e12a243d09_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="264,5,504,32"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a7e077da7a7def0afaa4ac78d4d0a25ce" title="Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exis..." alt="" coords="552,23,763,65"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="279,107,489,149"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8f8c222dd4a2d21957b968b26eff08a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the server if it isn't running  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a39b8c7109599ec81b54524dbda335776">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">478</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">TGServerService.ServerInstance.ApplyStagedUpdate()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00467">TGServerService.ServerInstance.CanStart()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00128">TGServerService.ServerInstance.CurrentStatus()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00265">TGServerService.ServerInstance.Restart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677">CurrentStatus</a>() == <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Staged)</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="comment">//IMPORTANT: SLEEP FOR A MOMENT OR WONDOWS WON&#39;T RELEASE THE FUCKING BYOND DLL HANDLES!!!! REEEEEEE</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                Thread.Sleep(3000);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860">ApplyStagedUpdate</a>();</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Server already running&quot;</span>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6">CanStart</a>();</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a> = 0;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.HardRebooting;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339">StartImpl</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af1472fb1f361d0c3bece7d4632edc339"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339">TGServerService.ServerInstance.StartImpl</a></div><div class="ttdeci">string StartImpl(bool watchdog)</div><div class="ttdoc">Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a  parameter, and attempts to start the DreamDaemon Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">DreamDaemon.cs:564</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4e943244934b9768a821aa6ec722ac18"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">TGServerService.ServerInstance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a28e22392a22a56807a3c3a6a3a366860"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860">TGServerService.ServerInstance.ApplyStagedUpdate</a></div><div class="ttdeci">bool ApplyStagedUpdate()</div><div class="ttdoc">Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">Byond.cs:312</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8873c339ff5b486413e175ac87310be6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6">TGServerService.ServerInstance.CanStart</a></div><div class="ttdeci">string CanStart()</div><div class="ttdoc">Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces  ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00467">DreamDaemon.cs:467</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a31b1bd6a8c38575bffb5442fbd75a677"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677">TGServerService.ServerInstance.CurrentStatus</a></div><div class="ttdeci">ByondStatus CurrentStatus()</div><div class="ttdoc">Gets the current status of any BYOND updates  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00128">Byond.cs:128</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af1c6e932aa16d25cbe05b86e896f3935"><div class="ttname"><a href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">TGServiceInterface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00006">Enumerations.cs:6</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_cgraph" id="class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a31b1bd6a8c38575bffb5442fbd75a677" title="Gets the current status of any BYOND updates &#160;" alt="" coords="264,267,475,308"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,201,475,243"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="799,71,974,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="781,5,992,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="781,201,992,243"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="803,136,970,177"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="803,267,970,308"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1058,71,1233,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1062,311,1229,352"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="523,201,733,243"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="523,267,733,308"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="523,332,733,373"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="523,136,733,177"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,397,733,439"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="781,384,992,425"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="1040,399,1251,440"/>
<area shape="rect" id="node20" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="781,501,992,543"/>
<area shape="rect" id="node21" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1040,501,1251,543"/>
<area shape="rect" id="node22" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1299,501,1509,543"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_icgraph" id="class_t_g_server_service_1_1_server_instance_a8f8c222dd4a2d21957b968b26eff08a3_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1040,71,1251,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af1472fb1f361d0c3bece7d4632edc339"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.StartImpl </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>watchdog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the current <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a>, calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ...">UpdateInterfaceDll(bool)</a> with a  parameter, and attempts to start the DreamDaemon <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">watchdog</td><td>If , sets <a class="el" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422" title="The thread that monitors the status of DreamDaemon ">DDWatchdog</a> to a new Thread pointing to <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping ">Watchdog</a> and starts it</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">564</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00467">TGServerService.ServerInstance.CanStart()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00025">TGServerService.ServerInstance.GameAPIVersion</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">TGServerService.ServerInstance.GameDirLive</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00222">TGServerService.ServerInstance.GenCommsKey()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00504">TGServerService.ServerInstance.SecurityWord()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">TGServerService.ServerInstance.serviceCommsKey</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00019">TGServerService.ServerInstance.topicLock</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">TGServerService.ServerInstance.UpdateInterfaceDll()</a>, <a class="el" href="_server_instance_8cs_source.html#l00045">TGServerService.ServerInstance.Version()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00478">TGServerService.ServerInstance.Start()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>
<div class="fragment"><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6">CanStart</a>();</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    var Config = Properties.Settings.Default;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    var DMB = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a> + <span class="stringliteral">&quot;/&quot;</span> + Config.ProjectName + <span class="stringliteral">&quot;.dmb&quot;</span>;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550">GenCommsKey</a>();</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a76df7e1dbf0a616318dc38a5b74096d2">StartingSecurity</a> = (<a class="code" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a>)Config.ServerSecurity;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.StartInfo.Arguments = String.Format(<span class="stringliteral">&quot;{0} -port {1} {5}-close -verbose -params \&quot;server_service={3}&amp;server_service_version={4}\&quot; -{2} -public&quot;</span>, DMB, Config.ServerPort, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b">SecurityWord</a>(), <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">Version</a>(), Config.Webclient ? <span class="stringliteral">&quot;-webclient &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da">UpdateInterfaceDll</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">topicLock</a>)</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">GameAPIVersion</a> = null;  <span class="comment">//needs updating</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Start();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.WaitForInputIdle(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b032a659fbd00069d0c86e069d2b305">DDHangStartTime</a> * 1000))</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Kill();</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.WaitForExit();</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Close();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a> = 0;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        <span class="keywordflow">return</span> String.Format(<span class="stringliteral">&quot;Server start is taking more than {0}s! Aborting!&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b032a659fbd00069d0c86e069d2b305">DDHangStartTime</a>);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a> = Config.ServerPort;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    <span class="keywordflow">if</span> (!watchdog)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">DDWatchdog</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9">Watchdog</a>));</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">DDWatchdog</a>.Start();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    }</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4b4771257ed71f5145b495f85a0553da"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da">TGServerService.ServerInstance.UpdateInterfaceDll</a></div><div class="ttdeci">void UpdateInterfaceDll(bool overwrite)</div><div class="ttdoc">Copies InterfaceDLLName from the program directory to the the ServerInstance directory ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">DreamDaemon.cs:524</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4e943244934b9768a821aa6ec722ac18"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">TGServerService.ServerInstance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2e13a465e1c065c58defc0d891822ee5"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">TGServerService.ServerInstance.Version</a></div><div class="ttdeci">string Version()</div><div class="ttdoc">Retrieve&amp;#39;s the service&amp;#39;s version  </div><div class="ttdef"><b>Definition:</b> <a href="_server_instance_8cs_source.html#l00045">ServerInstance.cs:45</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a235f24c0d390a379749a478dc5993550"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550">TGServerService.ServerInstance.GenCommsKey</a></div><div class="ttdeci">void GenCommsKey()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00222">Interop.cs:222</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8873c339ff5b486413e175ac87310be6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6">TGServerService.ServerInstance.CanStart</a></div><div class="ttdeci">string CanStart()</div><div class="ttdoc">Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces  ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00467">DreamDaemon.cs:467</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa550118aee5bf93064cb25b2171a969b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">TGServerService.ServerInstance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5bc2c5cf72086f7be5ab0360a8b97105"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">TGServerService.ServerInstance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">Interop.cs:21</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a76df7e1dbf0a616318dc38a5b74096d2"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a76df7e1dbf0a616318dc38a5b74096d2">TGServerService.ServerInstance.StartingSecurity</a></div><div class="ttdeci">DreamDaemonSecurity StartingSecurity</div><div class="ttdoc">Current DreamDaemonSecurity level of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00087">DreamDaemon.cs:87</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab76e4c626e2b38e75781aaad0b7809a9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9">TGServerService.ServerInstance.Watchdog</a></div><div class="ttdeci">void Watchdog()</div><div class="ttdoc">Threaded loop that keeps DreamDaemon from unintentionally stopping </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">DreamDaemon.cs:303</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6dc8ecb836197d4e0a889d8b8944237a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">TGServerService.ServerInstance.GameDirLive</a></div><div class="ttdeci">const string GameDirLive</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">Compiler.cs:33</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b032a659fbd00069d0c86e069d2b305"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b032a659fbd00069d0c86e069d2b305">TGServerService.ServerInstance.DDHangStartTime</a></div><div class="ttdeci">const int DDHangStartTime</div><div class="ttdoc">Time until DD is considered DOA on startup </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00035">DreamDaemon.cs:35</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a070d3f5a7292c22e7cd0a807a8f73e4a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a070d3f5a7292c22e7cd0a807a8f73e4a">TGServerService.ServerInstance.GameAPIVersion</a></div><div class="ttdeci">Version GameAPIVersion</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00025">Interop.cs:25</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af349ace5ef95d437564deefa68138422"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">TGServerService.ServerInstance.DDWatchdog</a></div><div class="ttdeci">Thread DDWatchdog</div><div class="ttdoc">The thread that monitors the status of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00057">DreamDaemon.cs:57</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a82f76b01f699bef8336537255d268118"><div class="ttname"><a href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">TGServiceInterface.DreamDaemonSecurity</a></div><div class="ttdeci">DreamDaemonSecurity</div><div class="ttdoc">DreamDaemon&amp;#39;s security level </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00133">Enumerations.cs:133</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8875aeb516888e8ed1007c14302076a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8875aeb516888e8ed1007c14302076a1">TGServerService.ServerInstance.topicLock</a></div><div class="ttdeci">object topicLock</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00019">Interop.cs:19</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae430434d3ffdbdaba867da778283b28b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b">TGServerService.ServerInstance.SecurityWord</a></div><div class="ttdeci">string SecurityWord(bool starting=false)</div><div class="ttdoc">Translate the configured DreamDaemonSecurity level into a byond command line param ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00504">DreamDaemon.cs:504</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_cgraph" id="class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="264,267,475,308"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="264,136,475,177"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="264,332,475,373"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="264,201,475,243"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="545,71,711,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="545,136,711,177"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="523,319,733,360"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="803,332,970,373"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="523,253,733,295"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="781,241,992,283"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="523,436,733,477"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="781,436,992,477"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1040,436,1251,477"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_icgraph" id="class_t_g_server_service_1_1_server_instance_af1472fb1f361d0c3bece7d4632edc339_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="781,5,992,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1299,71,1509,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a819f1dd33b77bd47f3796ff462cf7c68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.StatusString </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeMetaInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a human readable string of the current server status  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a9412c3e87c66b46711c4e7f7b6cbdd0e">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00651">651</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00504">TGServerService.ServerInstance.SecurityWord()</a>.</p>
<div class="fragment"><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">string</span> visSecStr = <span class="stringliteral">&quot; (Sec: {0})&quot;</span>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordtype">string</span> res;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            var ds = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">switch</span> (ds)</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline:</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    res = <span class="stringliteral">&quot;OFFLINE&quot;</span>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.HardRebooting:</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    res = <span class="stringliteral">&quot;REBOOTING&quot;</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online:</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    res = <span class="stringliteral">&quot;ONLINE&quot;</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    <span class="keywordflow">if</span> (includeMetaInfo)</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        <span class="keywordtype">string</span> secandvis;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                        {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                            secandvis = String.Format(visSecStr, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b">SecurityWord</a>(<span class="keyword">true</span>));</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                        }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        res += secandvis;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    res = <span class="stringliteral">&quot;NULL AND ERRORS&quot;</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <span class="keywordflow">if</span> (includeMetaInfo &amp;&amp; ds != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online)</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                res += String.Format(visSecStr, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b">SecurityWord</a>());</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae430434d3ffdbdaba867da778283b28b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b">TGServerService.ServerInstance.SecurityWord</a></div><div class="ttdeci">string SecurityWord(bool starting=false)</div><div class="ttdoc">Translate the configured DreamDaemonSecurity level into a byond command line param ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00504">DreamDaemon.cs:504</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a819f1dd33b77bd47f3796ff462cf7c68_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a819f1dd33b77bd47f3796ff462cf7c68_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a819f1dd33b77bd47f3796ff462cf7c68_cgraph" id="class_t_g_server_service_1_1_server_instance_a819f1dd33b77bd47f3796ff462cf7c68_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="264,71,475,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad8b0bbbe0957e9d732666bec0ec06698"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Immediately kills the server  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a3770a5abea27382caff0d80cd9ad8403">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">219</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00057">TGServerService.ServerInstance.DDWatchdog</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">TGServerService.ServerInstance.DisposeDreamDaemon()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00248">TGServerService.ServerInstance.KillMe()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00265">TGServerService.ServerInstance.Restart()</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            Thread t;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                t = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">DDWatchdog</a>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">DDWatchdog</a> = null;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">if</span> (t != null &amp;&amp; t.IsAlive)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                t.Abort();</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                t.Join();</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Server not running&quot;</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af349ace5ef95d437564deefa68138422"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af349ace5ef95d437564deefa68138422">TGServerService.ServerInstance.DDWatchdog</a></div><div class="ttdeci">Thread DDWatchdog</div><div class="ttdoc">The thread that monitors the status of DreamDaemon </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00057">DreamDaemon.cs:57</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ad8b0bbbe0957e9d732666bec0ec06698_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ad8b0bbbe0957e9d732666bec0ec06698_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ad8b0bbbe0957e9d732666bec0ec06698_icgraph" id="class_t_g_server_service_1_1_server_instance_ad8b0bbbe0957e9d732666bec0ec06698_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="291,5,501,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="549,96,760,137"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="291,123,501,164"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="549,5,760,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="808,5,1019,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="808,96,1019,137"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1067,96,1277,137"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7e077da7a7def0afaa4ac78d4d0a25ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.SynchronizePush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pushes the paths listed in TGS3.json to the currentl git remote. No other commit differences may exist for this function to succeed  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#aa127f81a5d684d153757a3a9601d3992">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00966">966</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01038">TGServerService.ServerInstance.Commit()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">TGServerService.ServerInstance.GetCachedRepoConfig()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01014">TGServerService.ServerInstance.LocalIsRemote()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01071">TGServerService.ServerInstance.Push()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01105">TGServerService.ServerInstance.SSHAuth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            var Config = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">GetCachedRepoConfig</a>();</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="keywordflow">if</span> (Config == null)</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error reading changelog configuration&quot;</span>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            <span class="keywordflow">if</span>(!Config.ChangelogSupport || !<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09">SSHAuth</a>())</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0">LocalIsRemote</a>() ? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795">Commit</a>(Config) ?? <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3">Push</a>() : <span class="stringliteral">&quot;Can&#39;t push changelog: HEAD does not match tracked remote branch&quot;</span>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a460f7422c8ca2c016df6d18a6c64e287"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287">TGServerService.ServerInstance.GetCachedRepoConfig</a></div><div class="ttdeci">RepoConfig GetCachedRepoConfig()</div><div class="ttdoc">Gets the RepoConfig for CachedTGS3SettingsPath </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00130">Repository.cs:130</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af8c5c3b1d918969c67fda31e5a4c7ab3"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3">TGServerService.ServerInstance.Push</a></div><div class="ttdeci">string Push()</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01071">Repository.cs:1071</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3fa2414f020ebecc7b1470e12a243d09"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09">TGServerService.ServerInstance.SSHAuth</a></div><div class="ttdeci">bool SSHAuth()</div><div class="ttdoc">Check if the ServerInstance is configured for SSH pushing </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01105">Repository.cs:1105</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_abf36c04158aa4503aacabaf20d8106d0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0">TGServerService.ServerInstance.LocalIsRemote</a></div><div class="ttdeci">bool LocalIsRemote()</div><div class="ttdoc">Check if the current HEAD matches the tracked remote branch HEAD </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01014">Repository.cs:1014</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a3b36d7847cac9b98816d757747c2b795"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795">TGServerService.ServerInstance.Commit</a></div><div class="ttdeci">string Commit(RepoConfig Config)</div><div class="ttdoc">Create a commit based on a Config  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01038">Repository.cs:1038</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a7e077da7a7def0afaa4ac78d4d0a25ce_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a7e077da7a7def0afaa4ac78d4d0a25ce_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a7e077da7a7def0afaa4ac78d4d0a25ce_cgraph" id="class_t_g_server_service_1_1_server_instance_a7e077da7a7def0afaa4ac78d4d0a25ce_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a3b36d7847cac9b98816d757747c2b795" title="Create a commit based on a Config &#160;" alt="" coords="279,159,489,200"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a460f7422c8ca2c016df6d18a6c64e287" title="Gets the RepoConfig for CachedTGS3SettingsPath " alt="" coords="279,527,489,568"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#abf36c04158aa4503aacabaf20d8106d0" title="Check if the current HEAD matches the tracked remote branch HEAD " alt="" coords="552,421,763,463"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#af8c5c3b1d918969c67fda31e5a4c7ab3" title="TGServerService.ServerInstance.Push" alt="" coords="264,370,504,397"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#a3fa2414f020ebecc7b1470e12a243d09" title="Check if the ServerInstance is configured for SSH pushing " alt="" coords="552,487,763,528"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="552,71,763,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="811,304,1021,345"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="552,5,763,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="574,253,741,295"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="574,188,741,229"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="833,71,999,112"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="811,421,1021,463"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="1069,421,1280,463"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="1328,363,1539,404"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="1328,428,1539,469"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a68bcfbe8d302b30339c00ab664112037"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Update </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches the origin and merges it into the current branch  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#a7797519d602c97c02ec9b2145b277867">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00565">565</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a">UpdateImpl</a>(reset, <span class="keyword">true</span>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa1258b6c6ba7f13a930e4f1c892e5b2a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a">TGServerService.ServerInstance.UpdateImpl</a></div><div class="ttdeci">string UpdateImpl(bool reset, bool successOnUpToDate)</div><div class="ttdoc">Fetches the origin and merges it into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">Repository.cs:576</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a68bcfbe8d302b30339c00ab664112037_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a68bcfbe8d302b30339c00ab664112037_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a68bcfbe8d302b30339c00ab664112037_cgraph" id="class_t_g_server_service_1_1_server_instance_a68bcfbe8d302b30339c00ab664112037_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="264,312,475,353"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="523,72,733,113"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="523,137,733,179"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="781,253,992,295"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1062,253,1229,295"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="781,371,992,412"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="523,203,733,244"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="523,487,733,528"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="545,552,711,593"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="523,421,733,463"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="781,71,992,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="799,136,974,177"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1058,136,1233,177"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="803,567,970,608"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="781,501,992,543"/>
<area shape="rect" id="node19" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="781,436,992,477"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1258b6c6ba7f13a930e4f1c892e5b2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.UpdateImpl </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>successOnUpToDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the origin and merges it into the current branch </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reset</td><td>If , the operation will perform a hard reset instead of a merge</td></tr>
    <tr><td class="paramname">successOnUpToDate</td><td>If , a return value of <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a35821203dd193755681a98bb545cd1cb" title="Error message for when a merge operation fails due to the target branch already having the source bra...">RepoErrorUpToDate</a> will be changed to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">576</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">TGServerService.ServerInstance.DeletePRList()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">TGServerService.ServerInstance.Fetch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">TGServerService.ServerInstance.MergeBranch()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00032">TGServerService.ServerInstance.RepoErrorUpToDate</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">TGServerService.ServerInstance.ResetNoLock()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">TGServerService.ServerInstance.UpdateSubmodules()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01278">TGServerService.ServerInstance.AutoUpdateTimer_Elapsed()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00565">TGServerService.ServerInstance.Update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">RepoLock</a>)</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                var result = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>();</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <span class="keywordflow">if</span> (result != null)</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head == null || !<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.IsTracking)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot update while not on a tracked branch&quot;</span>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e">Fetch</a>();</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    var originBranch = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.TrackedBranch;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    <span class="keywordflow">if</span> (!successOnUpToDate &amp;&amp; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.Tip.Sha == originBranch.Tip.Sha)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a35821203dd193755681a98bb545cd1cb">RepoErrorUpToDate</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: Updating origin branch...({0})&quot;</span>, reset ? <span class="stringliteral">&quot;Hard Reset&quot;</span> : <span class="stringliteral">&quot;Merge&quot;</span>), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    <span class="keywordflow">if</span> (reset)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                        var error = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">ResetNoLock</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Head.TrackedBranch);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">UpdateSubmodules</a>();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                        <span class="keywordflow">if</span> (error != null)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                            <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(error);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">DeletePRList</a>();</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                        Service.WriteInfo(<span class="stringliteral">&quot;Repo hard updated to &quot;</span> + originBranch.Tip.Sha, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoHardUpdate);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        <span class="keywordflow">return</span> error;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf">MergeBranch</a>(originBranch.FriendlyName);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(res);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">UpdateSubmodules</a>();</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Repo merge updated to &quot;</span> + originBranch.Tip.Sha, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoMergeUpdate);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">catch</span> (Exception E)</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;REPO: Update failed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Repo{0} update failed&quot;</span>, reset ? <span class="stringliteral">&quot; hard&quot;</span> : <span class="stringliteral">&quot;&quot;</span>), reset ? <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoHardUpdateFail : <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.RepoMergeUpdateFail);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    <span class="keywordflow">return</span> E.ToString();</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a35821203dd193755681a98bb545cd1cb"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a35821203dd193755681a98bb545cd1cb">TGServerService.ServerInstance.RepoErrorUpToDate</a></div><div class="ttdeci">const string RepoErrorUpToDate</div><div class="ttdoc">Error message for when a merge operation fails due to the target branch already having the source bra...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00032">Repository.cs:32</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a04c0e665fa5086f6ebf6d5ffe288ca89"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89">TGServerService.ServerInstance.DeletePRList</a></div><div class="ttdeci">void DeletePRList()</div><div class="ttdoc">Deletes the ServerInstance&amp;#39;s PRJobFile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00756">Repository.cs:756</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a9b7cd7bdfe31916e6818245e2354d0cc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc">TGServerService.ServerInstance.RepoLock</a></div><div class="ttdeci">object RepoLock</div><div class="ttdoc">Used in conjunction with RepoBusy for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">Repository.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac5ddb16ab8332882d6bdf2be41d3e56"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56">TGServerService.ServerInstance.ResetNoLock</a></div><div class="ttdeci">string ResetNoLock(Branch targetBranch)</div><div class="ttdoc">Equivalent of running git reset --hard on the repository. Requires RepoLock </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00475">Repository.cs:475</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af8f4334b030e4cddf3f643aedc84f59e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e">TGServerService.ServerInstance.Fetch</a></div><div class="ttdeci">string Fetch()</div><div class="ttdoc">Fetches origin </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00994">Repository.cs:994</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a95d603da4a4dcd14255f39bbf59931ad"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad">TGServerService.ServerInstance.UpdateSubmodules</a></div><div class="ttdeci">void UpdateSubmodules()</div><div class="ttdoc">Properly updates any git submodules in the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">Repository.cs:627</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a533ddcf0f8c4cd09d87b3e4eae916ccf"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf">TGServerService.ServerInstance.MergeBranch</a></div><div class="ttdeci">string MergeBranch(string committish)</div><div class="ttdoc">Merges given committish  into the current branch </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">Repository.cs:544</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_cgraph" id="class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a04c0e665fa5086f6ebf6d5ffe288ca89" title="Deletes the ServerInstance&#39;s PRJobFile " alt="" coords="264,9,475,51"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af8f4334b030e4cddf3f643aedc84f59e" title="Fetches origin " alt="" coords="264,79,475,120"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,151,475,192"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a533ddcf0f8c4cd09d87b3e4eae916ccf" title="Merges given committish &#160;into the current branch " alt="" coords="264,216,475,257"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#aac5ddb16ab8332882d6bdf2be41d3e56" title="Equivalent of running git reset &#45;&#45;hard on the repository. Requires RepoLock " alt="" coords="523,267,733,308"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="523,384,733,425"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="803,384,970,425"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a95d603da4a4dcd14255f39bbf59931ad" title="Properly updates any git submodules in the repository " alt="" coords="264,435,475,476"/>
<area shape="rect" id="node18" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="286,500,453,541"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="545,5,711,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ab56ecfc17b45a4658e0a676402b634e3" title="Create FetchOptions that Prune and have the appropriate credentials and progress handler ..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a895420e900c51183a28580f3a3ab3039" title="SSH credentials callback. Properly sets up SSH keys for an authorization operation ..." alt="" coords="781,39,992,80"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a445215ce9af4a260d0ec5cf1a88210df" title="Updates currentProgress with the progess of the current Repo transfer operation " alt="" coords="781,104,992,145"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a971b17056739405a3d2b598ebd1be27a" title="Updates currentProgress with the progess of the current Repo checkout operation " alt="" coords="523,201,733,243"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#abcde3c7acdaf49fcd170dde635747ab1" title="Creates a commit LibGit2Sharp.Signature based off of the configured name and e&#45;mail ..." alt="" coords="523,136,733,177"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="541,501,715,543"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="799,501,974,543"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_icgraph" id="class_t_g_server_service_1_1_server_instance_aa1258b6c6ba7f13a930e4f1c892e5b2a_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="264,5,475,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4b4771257ed71f5145b495f85a0553da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.UpdateInterfaceDll </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a> from the program directory to the the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> directory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">overwrite</td><td>If , overwrites the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>'s current interface .dll if it exists</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">524</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">TGServerService.ServerInstance.InterfaceDLLName</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">TGServerService.ServerInstance.InitialConfigureRepository()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            var FileExists = File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">if</span> (FileExists &amp;&amp; !overwrite)</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="comment">//Copy the interface dll to the static dir</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            var InterfacePath = Assembly.GetAssembly(typeof(<a class="code" href="class_t_g_service_interface_1_1_dream_daemon_bridge.html">DreamDaemonBridge</a>)).Location;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="keywordflow">if</span> (FileExists)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    var Old = File.ReadAllBytes(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    var New = File.ReadAllBytes(InterfacePath);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    <span class="keywordflow">if</span> (Old.SequenceEqual(New))</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                        <span class="keywordflow">return</span>; <span class="comment">//no need</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                File.Copy(InterfacePath, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>, overwrite);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                Service.WriteInfo(<span class="stringliteral">&quot;Updated interface DLL&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InterfaceDLLUpdated);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">catch</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    <span class="comment">//ok the things being stupid and hasn&#39;t released the dll yet, try ONCE more</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    Thread.Sleep(1000);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    File.Copy(InterfacePath, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">InterfaceDLLName</a>, overwrite);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="comment">//intentionally using the fi</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    Service.WriteError(<span class="stringliteral">&quot;Failed to update interface DLL! Error: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.InterfaceDLLUpdateFail);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1ab16aa5c7a41006e221acf710131efe"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1ab16aa5c7a41006e221acf710131efe">TGServerService.ServerInstance.InterfaceDLLName</a></div><div class="ttdeci">const string InterfaceDLLName</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">Compiler.cs:40</a></div></div>
<div class="ttc" id="class_t_g_service_interface_1_1_dream_daemon_bridge_html"><div class="ttname"><a href="class_t_g_service_interface_1_1_dream_daemon_bridge.html">TGServiceInterface.DreamDaemonBridge</a></div><div class="ttdoc">Holds the proc that DD calls to access ITGInterop </div><div class="ttdef"><b>Definition:</b> <a href="_dream_daemon_bridge_8cs_source.html#l00011">DreamDaemonBridge.cs:11</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_cgraph" id="class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="264,5,431,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="264,71,431,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_icgraph" id="class_t_g_server_service_1_1_server_instance_a4b4771257ed71f5145b495f85a0553da_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde" title="Initial setup for the StaticDirs and CachedTGS3SettingsPath " alt="" coords="264,64,475,105"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="264,129,475,171"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,195,475,236"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aeb8f7b25f00c15aed0b80f2e0cff6ef4" title="Renames the current static folder to a backup name and recreates is from the current repo using TGS3..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,161,1251,203"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="523,256,733,297"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,191,733,232"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="781,191,992,232"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="781,256,992,297"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1040,256,1251,297"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1299,256,1509,297"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1557,256,1768,297"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeb0cb7b5664b4796ef9aa9082bbce424"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.UpdateLiveSha </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newSha</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd" title="The branch that points to the current commit that is live or staged to be live in DreamDaemon ...">LiveTrackingBranch</a> with the staged <a class="el" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ...">Compile(bool)</a>'s SHA </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newSha</td><td>The commit SHA that was staged</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01305">1305</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00056">TGServerService.ServerInstance.LiveTrackingBranch</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">TGServerService.ServerInstance.LoadRepo()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">LoadRepo</a>() != null)</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            var B = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches[<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">LiveTrackingBranch</a>];</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            <span class="keywordflow">if</span> (B != null)</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Branches.Remove(B);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.CreateBranch(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">LiveTrackingBranch</a>, newSha);      </div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6940fb33b38a22d9b7b5d55d5e17dbfd"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6940fb33b38a22d9b7b5d55d5e17dbfd">TGServerService.ServerInstance.LiveTrackingBranch</a></div><div class="ttdeci">const string LiveTrackingBranch</div><div class="ttdoc">The branch that points to the current commit that is live or staged to be live in DreamDaemon ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00056">Repository.cs:56</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac88dc1ac835d1b41b5a7c0310cf2bd30"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30">TGServerService.ServerInstance.LoadRepo</a></div><div class="ttdeci">string LoadRepo()</div><div class="ttdoc">Initializes Repo </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00154">Repository.cs:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_cgraph" id="class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac88dc1ac835d1b41b5a7c0310cf2bd30" title="Initializes Repo " alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_icgraph" id="class_t_g_server_service_1_1_server_instance_aeb0cb7b5664b4796ef9aa9082bbce424_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a591be0739a0ebf1c70fa2d0615262324" title="TGServerService.ServerInstance.\lCompileImpl" alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#afdd737c980b2c078c2de10a57dc4ad40" title="Does all the necessary actions to take the revision currently in the repository and compile it to be ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#aabf31525de01a260b7a83ce8ac928d62" title="TGServerService.ServerInstance.\lInitializeImpl" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1299,5,1509,47"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a427984d1cb5c60f217967795c9695998" title="Sets up the symlinks for hotswapping game code. This will reset everything in the Game folder..." alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95d603da4a4dcd14255f39bbf59931ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.UpdateSubmodules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Properly updates any git submodules in the repository </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00627">627</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00037">TGServerService.Program.DeleteDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00492">TGServerService.ServerInstance.Checkout()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00794">TGServerService.ServerInstance.MergePullRequest()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            var suo = <span class="keyword">new</span> SubmoduleUpdateOptions</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                Init = <span class="keyword">true</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            };</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Submodules)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Submodules.Update(I.Name, suo);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    <span class="comment">//workaround for https://github.com/libgit2/libgit2/issues/3820</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                    <span class="comment">//kill off the modules/ folder in .git and try again</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                        Program.DeleteDirectory(String.Format(<span class="stringliteral">&quot;{0}/.git/modules/{1}&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a>, I.Path));</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                    }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                    <span class="keywordflow">catch</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                        <span class="keywordflow">throw</span> e;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                    }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">Repo</a>.Submodules.Update(I.Name, suo);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    var msg = String.Format(<span class="stringliteral">&quot;I had to reclone submodule {0}. If this is happening a lot find a better hack or fix https://github.com/libgit2/libgit2/issues/3820!&quot;</span>, I.Name);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;REPO: {0}&quot;</span>, msg), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    Service.WriteWarning(msg, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.SubmoduleReclone);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6088bf51e04fc17da371cc85d1d5df6e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6088bf51e04fc17da371cc85d1d5df6e">TGServerService.ServerInstance.Repo</a></div><div class="ttdeci">Repository Repo</div><div class="ttdoc">The repository object </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">Repository.cs:78</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8d4c21888ad433c4c7acf2dd2b8d42a0"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">TGServerService.ServerInstance.RepoPath</a></div><div class="ttdeci">const string RepoPath</div><div class="ttdoc">The ServerInstance directory for the repository </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">Repository.cs:20</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_cgraph" id="class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="282,5,457,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="264,71,475,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="527,100,693,141"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="523,5,697,47"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_icgraph" id="class_t_g_server_service_1_1_server_instance_a95d603da4a4dcd14255f39bbf59931ad_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#abb15a58ceeba5348ec583a2df907350f" title="Hard checks out the passed object name &#160;" alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac69d8bdd66e3ba416de9412ca82a92ed" title="Merges the target pull request into the current branch if the remote is a github repository &#160;..." alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aa1258b6c6ba7f13a930e4f1c892e5b2a" title="Fetches the origin and merges it into the current branch " alt="" coords="264,136,475,177"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#af0d1ea78a382258b4ddcf815cb23f7ba" title="Runs on the configured Properties.Settings.AutoUpdateInterval and tries to Update(bool) and Compile(b..." alt="" coords="523,103,733,144"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#a68bcfbe8d302b30339c00ab664112037" title="Fetches the origin and merges it into the current branch &#160;" alt="" coords="523,168,733,209"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac4444f5e9e540e4d8222da5d9ff42940" title="Initializes the repository " alt="" coords="781,103,992,144"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,103,1251,144"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e791a0e714b6c1e94e6b27c13ce2b2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.UpdateTGS3Json </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178" title="Path to the ServerInstance&#39;s RepoConfig json ">CachedTGS3SettingsPath</a> with the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591" title="The path to the Repository&#39;s RepoConfig json ">RepoTGS3SettingsPath</a> </p>
<dl class="section return"><dt>Returns</dt><dd>on success, error message on failure</dd></dl>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_repository.html#aaaeafb6b096afbb025c949a5d30d209b">TGServiceInterface.Components.ITGRepository</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00317">317</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">TGServerService.ServerInstance.InitialConfigureRepository()</a>.</p>
<div class="fragment"><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591">RepoTGS3SettingsPath</a>))</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    File.Copy(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591">RepoTGS3SettingsPath</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178">CachedTGS3SettingsPath</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (File.Exists(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178">CachedTGS3SettingsPath</a>))</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    File.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178">CachedTGS3SettingsPath</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">catch</span>(Exception e)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a05f336e85da73906127af49b1ec0e591"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a05f336e85da73906127af49b1ec0e591">TGServerService.ServerInstance.RepoTGS3SettingsPath</a></div><div class="ttdeci">const string RepoTGS3SettingsPath</div><div class="ttdoc">The path to the Repository&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00024">Repository.cs:24</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a62d400cfc5403947bc54bc8cdcb5a178"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a62d400cfc5403947bc54bc8cdcb5a178">TGServerService.ServerInstance.CachedTGS3SettingsPath</a></div><div class="ttdeci">const string CachedTGS3SettingsPath</div><div class="ttdoc">Path to the ServerInstance&amp;#39;s RepoConfig json </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00028">Repository.cs:28</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a3e791a0e714b6c1e94e6b27c13ce2b2a_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a3e791a0e714b6c1e94e6b27c13ce2b2a_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a3e791a0e714b6c1e94e6b27c13ce2b2a_icgraph" id="class_t_g_server_service_1_1_server_instance_a3e791a0e714b6c1e94e6b27c13ce2b2a_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a5ce4ab9dd00a38f8e434a54ef8978dde" title="Initial setup for the StaticDirs and CachedTGS3SettingsPath " alt="" coords="264,39,475,80"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a14f34e7f968afb1ad7f77d8813d5799b" title="Backups up the StaticDirs and deletes the current RepoPath if they exist. Clones the given branch of ..." alt="" coords="523,5,733,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aeb8f7b25f00c15aed0b80f2e0cff6ef4" title="Renames the current static folder to a backup name and recreates is from the current repo using TGS3..." alt="" coords="523,71,733,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a3a8f527d1b8aef7962a482d8e66b370e" title="Deletes whatever may be left over and clones the repo at remote &#160;and checks out branch ..." alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6136aa0574aa874d5532cb528e764d78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.UpdateToVersion </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>updates the used byond version to that of version <em>major</em> .<em>minor</em> . The change won't take place until DD reboots. Calls <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a741dd084e486048429bd613120f0dcf1" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">ITGDreamDaemon.RequestRestart</a> if blocked by a running DD instance. Runs asyncronously, use <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html#a5b9bfa607e7a77cd83ce07bcc91b4afd" title="Gets the current status of any BYOND updates ">CurrentStatus</a> to check progress  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_byond.html#a3c734e0bb0667d4ecf2e2fc829cc44f8">TGServiceInterface.Components.ITGByond</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00290">290</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00110">TGServerService.ServerInstance.BusyCheck()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">TGServerService.ServerInstance.UpdateToVersionImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a05bc0ce5b4867dfd63385a30bf713f9e">BusyCheck</a>())</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Starting;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">RevisionStaging</a> = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ParameterizedThreadStart(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f">UpdateToVersionImpl</a>))</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        IsBackground = <span class="keyword">true</span> <span class="comment">//don&#39;t slow me down</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    };</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">RevisionStaging</a>.Start(String.Format(<span class="stringliteral">&quot;{0}.{1}&quot;</span>, major, minor));</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>; </div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a05bc0ce5b4867dfd63385a30bf713f9e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a05bc0ce5b4867dfd63385a30bf713f9e">TGServerService.ServerInstance.BusyCheck</a></div><div class="ttdeci">bool BusyCheck()</div><div class="ttdoc">Checks if the updater is considered busy </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00110">Byond.cs:110</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_afcb683e8f7cd91c6e64ce98e007899f4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">TGServerService.ServerInstance.RevisionStaging</a></div><div class="ttdeci">Thread RevisionStaging</div><div class="ttdoc">Thread used for staging BYOND revisions </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00072">Byond.cs:72</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af1c6e932aa16d25cbe05b86e896f3935"><div class="ttname"><a href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">TGServiceInterface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00006">Enumerations.cs:6</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4a2dc7c3b649bf0e7f81362c851a2c8f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f">TGServerService.ServerInstance.UpdateToVersionImpl</a></div><div class="ttdeci">void UpdateToVersionImpl(object param)</div><div class="ttdoc">Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&amp;#39;t...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">Byond.cs:199</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773bda7930c58a1def918b077efcf2a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">TGServerService.ServerInstance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a6136aa0574aa874d5532cb528e764d78_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a6136aa0574aa874d5532cb528e764d78_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a6136aa0574aa874d5532cb528e764d78_cgraph" id="class_t_g_server_service_1_1_server_instance_a6136aa0574aa874d5532cb528e764d78_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a05bc0ce5b4867dfd63385a30bf713f9e" title="Checks if the updater is considered busy " alt="" coords="264,167,475,208"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a4a2dc7c3b649bf0e7f81362c851a2c8f" title="Downloads and unzips a BYOND revision. Calls ApplyStagedUpdate afterwards if the ServerInstance isn&#39;t..." alt="" coords="264,232,475,274"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6" title="Cleans the BYOND staging directory " alt="" coords="523,134,733,175"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="781,83,992,124"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="1062,54,1229,95"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="523,199,733,240"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="523,264,733,306"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="803,306,970,347"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="803,371,970,412"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="523,434,733,475"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="799,164,974,206"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="1058,164,1233,206"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="781,240,992,282"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="781,436,992,478"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="1040,436,1251,478"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1299,436,1509,478"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a2dc7c3b649bf0e7f81362c851a2c8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.UpdateToVersionImpl </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Downloads and unzips a BYOND revision. Calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...">ApplyStagedUpdate</a> afterwards if the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> isn't running, otherwise, calls <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a>. Sets <a class="el" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a" title="The last error the BYOND updater encountered ">lastError</a> on failure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>Stringified BYOND revision</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">199</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">TGServerService.ServerInstance.ApplyStagedUpdate()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00085">TGServerService.ServerInstance.CleanByondStaging()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">TGServerService.ServerInstance.RequestRestart()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00030">TGServerService.ServerInstance.RevisionDownloadPath</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00290">TGServerService.ServerInstance.UpdateToVersion()</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>) { </div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> != <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Starting)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Downloading;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6">CleanByondStaging</a>();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                var vi = ((string)param).Split(<span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                var major = Convert.ToInt32(vi[0]);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                var minor = Convert.ToInt32(vi[1]);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keyword">using</span> (var client = <span class="keyword">new</span> WebClient())</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;BYOND: Updating to version {0}.{1}...&quot;</span>, major, minor), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    <span class="comment">//DOWNLOADING</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        client.DownloadFile(String.Format(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8602c86bbeaa9a0efaf0dec7f54a5ecb">ByondRevisionsURL</a>, major, minor), <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">RevisionDownloadPath</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="keywordflow">catch</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;BYOND: Update download failed. Does the specified version exist?&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = String.Format(<span class="stringliteral">&quot;Download of BYOND version {0}.{1} failed! Does it exist?&quot;</span>, major, minor);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Failed to update BYOND to version {0}.{1}!&quot;</span>, major, minor), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.BYONDUpdateFail);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Idle;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Staging;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="comment">//STAGING</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                </div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                ZipFile.ExtractToDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">RevisionDownloadPath</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    File.WriteAllText(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a74331465cc7db01bbb583a5430e6d506">StagingDirectoryInner</a> + <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a012f09818116b92edf15f9d4aff96dff">VersionFile</a>, String.Format(<span class="stringliteral">&quot;{0}.{1}&quot;</span>, major, minor));</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <span class="comment">//IMPORTANT: SET THE BYOND CONFIG TO NOT PROMPT FOR TRUSTED MODE REEE</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    Directory.CreateDirectory(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8534ec556abce2125376c3df9fd644c1">ByondConfigDir</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    File.WriteAllText(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae375b158f3e4eb869a967674ed9f3b74">ByondDDConfig</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#afb3e8619b26aae0b35238283f6377c76">ByondNoPromptTrustedMode</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                File.Delete(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">RevisionDownloadPath</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Staged;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">DaemonStatus</a>())</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline:</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860">ApplyStagedUpdate</a>())</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = null;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = <span class="stringliteral">&quot;Failed to apply update!&quot;</span>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">RequestRestart</a>();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = <span class="stringliteral">&quot;Update staged. Awaiting server restart...&quot;</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;BYOND: Staging complete. Awaiting server restart...&quot;</span>, major, minor), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.DeveloperInfo);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                        Service.WriteInfo(String.Format(<span class="stringliteral">&quot;BYOND update {0}.{1} staged&quot;</span>, major, minor), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.BYONDUpdateStaged);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                Service.WriteError(<span class="stringliteral">&quot;Revision staging errror: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.BYONDUpdateFail);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">ByondLock</a>)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">updateStat</a> = <a class="code" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a>.Idle;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">lastError</a> = e.ToString();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">RevisionStaging</a> = null;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ab39a3abd504c56e0d217a7ad475506e4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4">TGServerService.ServerInstance.DaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus DaemonStatus()</div><div class="ttdoc">Gets the status of DreamDaemon  </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">DreamDaemon.cs:192</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a1540f43c11b3123d35007af7d56567b6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6">TGServerService.ServerInstance.CleanByondStaging</a></div><div class="ttdeci">void CleanByondStaging()</div><div class="ttdoc">Cleans the BYOND staging directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00085">Byond.cs:85</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a012f09818116b92edf15f9d4aff96dff"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a012f09818116b92edf15f9d4aff96dff">TGServerService.ServerInstance.VersionFile</a></div><div class="ttdeci">const string VersionFile</div><div class="ttdoc">The location of the BYOND version data of an installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00034">Byond.cs:34</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae375b158f3e4eb869a967674ed9f3b74"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae375b158f3e4eb869a967674ed9f3b74">TGServerService.ServerInstance.ByondDDConfig</a></div><div class="ttdeci">const string ByondDDConfig</div><div class="ttdoc">BYOND&amp;#39;s DreamDaemon config file in the cfg modification directory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00050">Byond.cs:50</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a28e22392a22a56807a3c3a6a3a366860"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860">TGServerService.ServerInstance.ApplyStagedUpdate</a></div><div class="ttdeci">bool ApplyStagedUpdate()</div><div class="ttdoc">Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">Byond.cs:312</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a2e6fa52a6bc2f17eedd4c5d62f13063f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f">TGServerService.ServerInstance.RequestRestart</a></div><div class="ttdeci">void RequestRestart()</div><div class="ttdoc">Restart the server after the currently running world reboots. Has no effect if the server isn&amp;#39;t runni...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">DreamDaemon.cs:201</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_adcc40d967672331fc5578d052f20743a"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#adcc40d967672331fc5578d052f20743a">TGServerService.ServerInstance.lastError</a></div><div class="ttdeci">string lastError</div><div class="ttdoc">The last error the BYOND updater encountered </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00068">Byond.cs:68</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_afb3e8619b26aae0b35238283f6377c76"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#afb3e8619b26aae0b35238283f6377c76">TGServerService.ServerInstance.ByondNoPromptTrustedMode</a></div><div class="ttdeci">const string ByondNoPromptTrustedMode</div><div class="ttdoc">Setting to add to ByondDDConfig to suppress an invisible user prompt for running a trusted mode ...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00054">Byond.cs:54</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_afcb683e8f7cd91c6e64ce98e007899f4"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#afcb683e8f7cd91c6e64ce98e007899f4">TGServerService.ServerInstance.RevisionStaging</a></div><div class="ttdeci">Thread RevisionStaging</div><div class="ttdoc">Thread used for staging BYOND revisions </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00072">Byond.cs:72</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaf67da3d367607fac5b98d52feed5efe"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">TGServerService.ServerInstance.StagingDirectory</a></div><div class="ttdeci">const string StagingDirectory</div><div class="ttdoc">The instance directory to use when updating the BYOND installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00022">Byond.cs:22</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_af1c6e932aa16d25cbe05b86e896f3935"><div class="ttname"><a href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">TGServiceInterface.ByondStatus</a></div><div class="ttdeci">ByondStatus</div><div class="ttdoc">The status of a BYOND update job </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00006">Enumerations.cs:6</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aae957ffd2966d65e145b02b490d3710e"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aae957ffd2966d65e145b02b490d3710e">TGServerService.ServerInstance.RevisionDownloadPath</a></div><div class="ttdeci">const string RevisionDownloadPath</div><div class="ttdoc">The path in the instance directory to store the downloaded BYOND revision </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00030">Byond.cs:30</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a773bda7930c58a1def918b077efcf2a1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a773bda7930c58a1def918b077efcf2a1">TGServerService.ServerInstance.updateStat</a></div><div class="ttdeci">ByondStatus updateStat</div><div class="ttdoc">The status of the BYOND updater </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">Byond.cs:59</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0c663631406c567c006171c5b6bf361f"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0c663631406c567c006171c5b6bf361f">TGServerService.ServerInstance.ByondLock</a></div><div class="ttdeci">object ByondLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">Byond.cs:64</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a74331465cc7db01bbb583a5430e6d506"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a74331465cc7db01bbb583a5430e6d506">TGServerService.ServerInstance.StagingDirectoryInner</a></div><div class="ttdeci">const string StagingDirectoryInner</div><div class="ttdoc">Path to the actual BYOND installation within the StagingDirectory </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00026">Byond.cs:26</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8534ec556abce2125376c3df9fd644c1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8534ec556abce2125376c3df9fd644c1">TGServerService.ServerInstance.ByondConfigDir</a></div><div class="ttdeci">const string ByondConfigDir</div><div class="ttdoc">The instance directory to modify the BYOND cfg before installation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00046">Byond.cs:46</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8602c86bbeaa9a0efaf0dec7f54a5ecb"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8602c86bbeaa9a0efaf0dec7f54a5ecb">TGServerService.ServerInstance.ByondRevisionsURL</a></div><div class="ttdeci">const string ByondRevisionsURL</div><div class="ttdoc">The URL format string for getting BYOND version {0}.{1} zipfile </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00038">Byond.cs:38</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_cgraph" id="class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a28e22392a22a56807a3c3a6a3a366860" title="Attempts to move the staged update from StagingDirectory to ByondDirectory. Sets lastError on failure..." alt="" coords="264,183,475,225"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="523,53,733,94"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="803,23,970,65"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="545,249,711,290"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="545,314,711,355"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a1540f43c11b3123d35007af7d56567b6" title="Cleans the BYOND staging directory " alt="" coords="264,118,475,159"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ab39a3abd504c56e0d217a7ad475506e4" title="Gets the status of DreamDaemon &#160;" alt="" coords="264,351,475,393"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni..." alt="" coords="264,417,475,458"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_program.html#af23c01e40193036d8b54ca95efb5b229" title="Recursive directory deleter " alt="" coords="541,118,715,159"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="523,183,733,225"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_program.html#a5c4a7dc8a00f19a4a085a0bffd8d89d7" title="Recursively empty a directory " alt="" coords="799,118,974,159"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="523,417,733,458"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="781,417,992,458"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="1040,417,1251,458"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_icgraph" id="class_t_g_server_service_1_1_server_instance_a4a2dc7c3b649bf0e7f81362c851a2c8f_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a6136aa0574aa874d5532cb528e764d78" title="updates the used byond version to that of version major .minor . The change won&#39;t take place until DD..." alt="" coords="264,5,475,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac3a7754248f66c21d86e748e691b6044"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.VerifyConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does nothing on the server end, but if the call completes, you can be sure you are connected. WCF won't throw until you try until you actually use the API  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_connectivity.html#a83e5f825ad615fb7d4f1fc9ed89bf4d3">TGServiceInterface.Components.ITGConnectivity</a>.</p>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00051">51</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{ }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2e13a465e1c065c58defc0d891822ee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.Version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve's the service's version  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_s_service.html#a66cf3ff7b46dcc8248468fec224e8f3f">TGServiceInterface.Components.ITGSService</a>.</p>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00045">45</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00020">TGServerService.Service.Version</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keywordflow">return</span> Service.Version;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        }</div></div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a2e13a465e1c065c58defc0d891822ee5_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a2e13a465e1c065c58defc0d891822ee5_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a2e13a465e1c065c58defc0d891822ee5_icgraph" id="class_t_g_server_service_1_1_server_instance_a2e13a465e1c065c58defc0d891822ee5_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1299,73,1509,114"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="781,94,992,135"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,94,475,135"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1557,73,1768,114"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,94,1251,135"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="523,159,733,201"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,94,733,135"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="781,159,992,201"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1040,159,1251,201"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab76e4c626e2b38e75781aaad0b7809a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.Watchdog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Threaded loop that keeps DreamDaemon from unintentionally stopping </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">303</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">TGServerService.ServerInstance.currentPort</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00452">TGServerService.ServerInstance.MemTrackTimer_Elapsed()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00029">TGServerService.ServerInstance.SCGracefulShutdown</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">TGServerService.ServerInstance.SendMessage()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">TGServerService.ServerInstance.serviceCommsKey</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">TGServerService.ServerInstance.WriteCurrentDDLog()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00049">TGServerService.Service.WriteError()</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">restartLock</a>)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a>)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DD: Server started, watchdog active...&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        Service.WriteInfo(<span class="stringliteral">&quot;Watchdog started&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDWatchdogStarted);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8b0e420f5bfb3ddaaae675c4c05dc1c1">ReattachInsteadOfRestart</a>)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                            Service.WriteInfo(<span class="stringliteral">&quot;Watchdog restarted&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDWatchdogRestarted);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a8b0e420f5bfb3ddaaae675c4c05dc1c1">ReattachInsteadOfRestart</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                var retries = 0;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                var MemTrackTimer = <span class="keyword">new</span> <a class="code" href="namespace_system.html">System</a>.Timers.Timer</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    AutoReset = <span class="keyword">true</span>,</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    Interval = 5000 <span class="comment">//every 5 seconds</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                };</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                MemTrackTimer.Elapsed += <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b">MemTrackTimer_Elapsed</a>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    var starttime = DateTime.Now;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> == <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.Requested)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5d2da9246c06fca12ffb4cb7a6aef5d8">SCGracefulShutdown</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    <span class="comment">//all good to go, let&#39;s start monitoring</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    var Now = DateTime.Now;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">CurrentDDLog</a> = String.Format(<span class="stringliteral">&quot;{0} {1} Diagnostics.txt&quot;</span>, Now.ToLongDateString(), Now.ToLongTimeString()).Replace(<span class="charliteral">&#39;:&#39;</span>, <span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;Starting monitoring...&quot;</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">pcpu</a> = <span class="keyword">new</span> PerformanceCounter(<span class="stringliteral">&quot;Process&quot;</span>, <span class="stringliteral">&quot;% Processor Time&quot;</span>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.ProcessName, <span class="keyword">true</span>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    MemTrackTimer.Start();</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.WaitForExit();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    <span class="keywordflow">finally</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                    {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>) <span class="comment">//synchronize</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                            MemTrackTimer.Stop();</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">pcpu</a>.Dispose();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">WriteCurrentDDLog</a>(<span class="stringliteral">&quot;Crash detected!&quot;</span>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.HardRebooting;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a> = 0;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Close();</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> == <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.Pinged)</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        var BadStart = (DateTime.Now - starttime).TotalSeconds &lt; <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a157c619b15cfc7da0d7578a84888b803">DDBadStartTime</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        <span class="keywordflow">if</span> (BadStart)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                            ++retries;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                            var sleep_time = (int)Math.Min(Math.Pow(2, retries), 3600); <span class="comment">//max of one hour</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(String.Format(<span class="stringliteral">&quot;DD: Watchdog server startup failed! Retrying in {0} seconds...&quot;</span>, sleep_time), <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                            Thread.Sleep(sleep_time * 1000);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                            retries = 0;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                            var msg = <span class="stringliteral">&quot;DD: DreamDaemon crashed! Watchdog rebooting DD...&quot;</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(msg, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                            Service.WriteWarning(msg, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDWatchdogRebootingServer);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                        }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339">StartImpl</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">if</span> (res != null)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Hard restart failed: &quot;</span> + res);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">catch</span> (ThreadAbortException)</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="comment">//No Mr bond, I expect you to die</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    <span class="keywordflow">if</span> (!Properties.Settings.Default.ReattachToDD)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Kill();</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.WaitForExit();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        Properties.Settings.Default.ReattachPID = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Id;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        Properties.Settings.Default.ReattachPort = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        Properties.Settings.Default.ReattachCommsKey = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">serviceCommsKey</a>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">restartLock</a>)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                            <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">Proc</a>.Close();</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <span class="keywordflow">catch</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                { }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DD: Watchdog thread crashed!&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                Service.WriteError(<span class="stringliteral">&quot;Watch dog thread crashed: &quot;</span> + e.ToString(), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDWatchdogCrash);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">finally</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> = <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Offline;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">currentPort</a> = 0;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">AwaitingShutdown</a> = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a>.None;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">restartLock</a>)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">RestartInProgress</a>)</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                            <span class="keywordflow">if</span> (!Properties.Settings.Default.ReattachToDD)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                <a class="code" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">SendMessage</a>(<span class="stringliteral">&quot;DD: Server stopped, watchdog exiting...&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">MessageType</a>.WatchdogInfo);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                            Service.WriteInfo(<span class="stringliteral">&quot;Watch dog exited&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDWatchdogExit);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                            Service.WriteInfo(<span class="stringliteral">&quot;Watch dog restarting...&quot;</span>, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.DDWatchdogRestart);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        }</div><div class="ttc" id="namespace_t_g_server_service_html_a77ffb8da5e77d0173c9a1a3b8ba0b110"><div class="ttname"><a href="namespace_t_g_server_service.html#a77ffb8da5e77d0173c9a1a3b8ba0b110">TGServerService.MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">Type of chat message, these may be OR&amp;#39;d together </div><div class="ttdef"><b>Definition:</b> <a href="_message_type_8cs_source.html#l00008">MessageType.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_af1472fb1f361d0c3bece7d4632edc339"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339">TGServerService.ServerInstance.StartImpl</a></div><div class="ttdeci">string StartImpl(bool watchdog)</div><div class="ttdoc">Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a  parameter, and attempts to start the DreamDaemon Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">DreamDaemon.cs:564</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a0fcdc82f293c4cd7da11738f2c1e2656"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a0fcdc82f293c4cd7da11738f2c1e2656">TGServerService.ServerInstance.AwaitingShutdown</a></div><div class="ttdeci">ShutdownRequestPhase AwaitingShutdown</div><div class="ttdoc">Indicator of progress on a RequestRestart or RequestStop operation </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00092">DreamDaemon.cs:92</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a157c619b15cfc7da0d7578a84888b803"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a157c619b15cfc7da0d7578a84888b803">TGServerService.ServerInstance.DDBadStartTime</a></div><div class="ttdeci">const int DDBadStartTime</div><div class="ttdoc">If DreamDaemon crashes before this time it is considered a bad startup </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00039">DreamDaemon.cs:39</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4380a85aaa8cdaf5d13a0d90435355d6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4380a85aaa8cdaf5d13a0d90435355d6">TGServerService.ServerInstance.RestartInProgress</a></div><div class="ttdeci">bool RestartInProgress</div><div class="ttdoc">Used to indicate if an intentional restart is in progress on the watchdog. Requires restartLock to ac...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00078">DreamDaemon.cs:78</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4e943244934b9768a821aa6ec722ac18"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4e943244934b9768a821aa6ec722ac18">TGServerService.ServerInstance.currentPort</a></div><div class="ttdeci">ushort currentPort</div><div class="ttdoc">Current port DreamDaemon is running on </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">DreamDaemon.cs:69</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac66b59d813dcc51bf26bd90f3b812e8d"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d">TGServerService.ServerInstance.WriteCurrentDDLog</a></div><div class="ttdeci">void WriteCurrentDDLog(string message)</div><div class="ttdoc">Write a message  to the CurrentDDLog. A timestamp will be prepended to it </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">DreamDaemon.cs:290</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a20d86baac5dc500fc0fda143655e83e8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">TGServerService.ServerInstance.CurrentDDLog</a></div><div class="ttdeci">string CurrentDDLog</div><div class="ttdoc">Current logfile in use in ResourceDiagnosticsDir </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00065">DreamDaemon.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aa550118aee5bf93064cb25b2171a969b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b">TGServerService.ServerInstance.Proc</a></div><div class="ttdeci">Process Proc</div><div class="ttdoc">The DreamDaemon process </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00044">DreamDaemon.cs:44</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a6fccb58474c98b606c222bf343f3a4dc"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a6fccb58474c98b606c222bf343f3a4dc">TGServerService.ServerInstance.pcpu</a></div><div class="ttdeci">PerformanceCounter pcpu</div><div class="ttdoc">CPU performance information for Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00048">DreamDaemon.cs:48</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac23c0fcef71fc61e9429f04482c5035b"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b">TGServerService.ServerInstance.MemTrackTimer_Elapsed</a></div><div class="ttdeci">void MemTrackTimer_Elapsed(object sender, ElapsedEventArgs e)</div><div class="ttdoc">Called every five seconds while DreamDaemon is running to log it&amp;#39;s current state to the DiagnosticsDi...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00452">DreamDaemon.cs:452</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5bc2c5cf72086f7be5ab0360a8b97105"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5bc2c5cf72086f7be5ab0360a8b97105">TGServerService.ServerInstance.serviceCommsKey</a></div><div class="ttdeci">string serviceCommsKey</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">Interop.cs:21</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a8b0e420f5bfb3ddaaae675c4c05dc1c1"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a8b0e420f5bfb3ddaaae675c4c05dc1c1">TGServerService.ServerInstance.ReattachInsteadOfRestart</a></div><div class="ttdeci">bool ReattachInsteadOfRestart</div><div class="ttdoc">Used to indicate if an service restart is in progress on the watchdog. Requires restartLock to access...</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00082">DreamDaemon.cs:82</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad1ddb778169e3f37504360e6850f3b10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">TGServerService.ServerInstance.ShutdownRequestPhase</a></div><div class="ttdeci">ShutdownRequestPhase</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00017">DreamDaemon.cs:17</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ae6ea9140e5cf33703628ac25700bc556"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556">TGServerService.ServerInstance.SendMessage</a></div><div class="ttdeci">void SendMessage(string msg, MessageType mt)</div><div class="ttdoc">Broadcast a message to appropriate channels based on the message type </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00223">Chat.cs:223</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa392248d5913143b6537352190e75e6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">TGServerService.ServerInstance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">Interop.cs:131</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad5410eb07e2ceac73e7e024919ba3449"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449">TGServerService.ServerInstance.restartLock</a></div><div class="ttdeci">object restartLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00074">DreamDaemon.cs:74</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a5d2da9246c06fca12ffb4cb7a6aef5d8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a5d2da9246c06fca12ffb4cb7a6aef5d8">TGServerService.ServerInstance.SCGracefulShutdown</a></div><div class="ttdeci">const string SCGracefulShutdown</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00029">Interop.cs:29</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_cgraph" id="class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="264,50,475,92"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#ac66b59d813dcc51bf26bd90f3b812e8d" title="Write a message &#160;to the CurrentDDLog. A timestamp will be prepended to it " alt="" coords="523,21,733,62"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="264,116,475,157"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ae6ea9140e5cf33703628ac25700bc556" title="Broadcast a message to appropriate channels based on the message type " alt="" coords="264,233,475,274"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="545,206,711,248"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,416,475,457"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="803,416,970,457"/>
<area shape="rect" id="node16" href="class_t_g_server_service_1_1_service.html#a103b806b056a42886318a9f0422a865c" title="Writes an error to the Windows event log " alt="" coords="803,670,970,712"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="523,116,733,157"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="781,116,992,157"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a8873c339ff5b486413e175ac87310be6" title="Check if a call to Start will fail. Of course, be aware of race conditions with other interfaces &#160;..." alt="" coords="523,612,733,653"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a235f24c0d390a379749a478dc5993550" title="TGServerService.ServerInstance.\lGenCommsKey" alt="" coords="523,416,733,457"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#ae430434d3ffdbdaba867da778283b28b" title="Translate the configured DreamDaemonSecurity level into a byond command line param ..." alt="" coords="523,546,733,588"/>
<area shape="rect" id="node15" href="class_t_g_server_service_1_1_server_instance.html#a4b4771257ed71f5145b495f85a0553da" title="Copies InterfaceDLLName from the program directory to the the ServerInstance directory ..." alt="" coords="523,481,733,522"/>
<area shape="rect" id="node17" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5" title="Retrieve&#39;s the service&#39;s version &#160;" alt="" coords="523,350,733,392"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#ae64d03735cb348d0d162e493bf9b3f68" title="Get the currently installed version as a string formatted as Major.Minor &#160;" alt="" coords="781,605,992,646"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_icgraph" id="class_t_g_server_service_1_1_server_instance_ab76e4c626e2b38e75781aaad0b7809a9_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="781,5,992,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="264,64,475,105"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1040,5,1251,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="523,64,733,105"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="781,71,992,112"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1040,71,1251,112"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1299,71,1509,112"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="1557,71,1768,112"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a57165f218c76860f040311e44a9f48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.Webclient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the BYOND webclient is currently enabled for the server  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a71d84549d242fbae9467bab8d8ad8eb6">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00710">710</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordflow">return</span> Properties.Settings.Default.Webclient;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a989bcee76648cec9c7e52a5d33217e90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.WorldAnnounce </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message to everyone on the server  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_dream_daemon.html#a632f5682a16fefcd665e20bfc371a09c">TGServiceInterface.Components.ITGDreamDaemon</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00701">701</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_program_8cs_source.html#l00155">TGServerService.Program.SanitizeTopicString()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00030">TGServerService.ServerInstance.SCWorldAnnounce</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">TGServerService.ServerInstance.DisposeDreamDaemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            var res = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">SendCommand</a>(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a14ef61af60718ccb273ad10c9639d2aa">SCWorldAnnounce</a> + <span class="stringliteral">&quot;;message=&quot;</span> + Program.SanitizeTopicString(message));</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <span class="keywordflow">if</span> (res == <span class="stringliteral">&quot;SUCCESS&quot;</span>)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa392248d5913143b6537352190e75e6"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6">TGServerService.ServerInstance.SendCommand</a></div><div class="ttdeci">string SendCommand(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">Interop.cs:131</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a14ef61af60718ccb273ad10c9639d2aa"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a14ef61af60718ccb273ad10c9639d2aa">TGServerService.ServerInstance.SCWorldAnnounce</a></div><div class="ttdeci">const string SCWorldAnnounce</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00030">Interop.cs:30</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_cgraph" id="class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_program.html#a7c301d450202a1f0ef212beabb74de5b" title="Properly escapes characters for a BYOND Topic() packet. See http://www.byond.com/docs/ref/info.html#/proc/list2params " alt="" coords="282,5,457,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aaa392248d5913143b6537352190e75e6" title="TGServerService.ServerInstance.\lSendCommand" alt="" coords="264,71,475,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#ad13b3094596c77baca6116842d373760" title="TGServerService.ServerInstance.\lSendTopic" alt="" coords="523,71,733,112"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#a84e536f3c962184942e7a5b01bc9ffad" title="TGServerService.ServerInstance.\lCheckAPIVersionConstraints" alt="" coords="781,71,992,112"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_icgraph" id="class_t_g_server_service_1_1_server_instance_a989bcee76648cec9c7e52a5d33217e90_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="781,5,992,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac66b59d813dcc51bf26bd90f3b812e8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TGServerService.ServerInstance.WriteCurrentDDLog </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a <em>message</em>  to the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8" title="Current logfile in use in ResourceDiagnosticsDir ">CurrentDDLog</a>. A timestamp will be prepended to it </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to log</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00290">290</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00160">TGServerService.ServerInstance.DisposeDreamDaemon()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00452">TGServerService.ServerInstance.MemTrackTimer_Elapsed()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">watchdogLock</a>)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">currentStatus</a> != <a class="code" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a>.Online || <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">CurrentDDLog</a> == null)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                File.AppendAllText(Path.Combine(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">ResourceDiagnosticsDir</a>, <a class="code" href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">CurrentDDLog</a>), String.Format(<span class="stringliteral">&quot;[{0}]: {1}\n&quot;</span>, DateTime.Now.ToLongTimeString(), message));</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aac9358eb96d27250fb77c78695e90128"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aac9358eb96d27250fb77c78695e90128">TGServerService.ServerInstance.watchdogLock</a></div><div class="ttdeci">object watchdogLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">DreamDaemon.cs:53</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ac30b2fd293b49f890f3a1e32646c6d64"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ac30b2fd293b49f890f3a1e32646c6d64">TGServerService.ServerInstance.currentStatus</a></div><div class="ttdeci">DreamDaemonStatus currentStatus</div><div class="ttdoc">The DreamDaemonStatus of Proc </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">DreamDaemon.cs:61</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a20d86baac5dc500fc0fda143655e83e8"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a20d86baac5dc500fc0fda143655e83e8">TGServerService.ServerInstance.CurrentDDLog</a></div><div class="ttdeci">string CurrentDDLog</div><div class="ttdoc">Current logfile in use in ResourceDiagnosticsDir </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00065">DreamDaemon.cs:65</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_ad3a9a0f4ee4133a41f3db02bbd87a3a9"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9">TGServerService.ServerInstance.ResourceDiagnosticsDir</a></div><div class="ttdeci">const string ResourceDiagnosticsDir</div><div class="ttdoc">Directory for storing DreamDaemon ResourceUsage files </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00031">DreamDaemon.cs:31</a></div></div>
<div class="ttc" id="namespace_t_g_service_interface_html_a8d0a8727304bcbf3c0b9967701e533e9"><div class="ttname"><a href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">TGServiceInterface.DreamDaemonStatus</a></div><div class="ttdeci">DreamDaemonStatus</div><div class="ttdoc">The status of the DD instance </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00114">Enumerations.cs:114</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_ac66b59d813dcc51bf26bd90f3b812e8d_icgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_ac66b59d813dcc51bf26bd90f3b812e8d_icgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_ac66b59d813dcc51bf26bd90f3b812e8d_icgraph" id="class_t_g_server_service_1_1_server_instance_ac66b59d813dcc51bf26bd90f3b812e8d_icgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_server_instance.html#a901e893be86572cf6a8d539e83de4b2c" title="Either let go of Proc for reattachment or terminate it, depending on Properties.Settings.ReattachToDD " alt="" coords="264,5,475,47"/>
<area shape="rect" id="node5" href="class_t_g_server_service_1_1_server_instance.html#aa2d4ae32c582b1d03b22402dab486e80" title="TGServerService.ServerInstance.\lHandleCommand" alt="" coords="1816,127,2027,168"/>
<area shape="rect" id="node7" href="class_t_g_server_service_1_1_server_instance.html#ac23c0fcef71fc61e9429f04482c5035b" title="Called every five seconds while DreamDaemon is running to log it&#39;s current state to the DiagnosticsDi..." alt="" coords="264,123,475,164"/>
<area shape="rect" id="node8" href="class_t_g_server_service_1_1_server_instance.html#ab76e4c626e2b38e75781aaad0b7809a9" title="Threaded loop that keeps DreamDaemon from unintentionally stopping " alt="" coords="523,181,733,223"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_server_instance.html#aea7eda46fd144259303499dfa412f1ac" title="Cleans up the ServerInstance " alt="" coords="523,5,733,47"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_server_instance.html#a775202498bd013e4e6baba11dc7a72a4" title="Implements the IDisposable pattern. Calls RunDisposals " alt="" coords="781,5,992,47"/>
<area shape="rect" id="node6" href="class_t_g_server_service_1_1_server_instance.html#a31cb383e125fcb094259185112c3ea40" title="Called from /world/ExportService(command) &#160;" alt="" coords="2075,127,2285,168"/>
<area shape="rect" id="node9" href="class_t_g_server_service_1_1_server_instance.html#a8fa16abc1470f3a09b8c5da998ad03a9" title="Setup or reattach the watchdog, depending on Properties.Settings.ReattachToDD, and create the Diagnos..." alt="" coords="1299,123,1509,164"/>
<area shape="rect" id="node11" href="class_t_g_server_service_1_1_server_instance.html#af1472fb1f361d0c3bece7d4632edc339" title="Clears the current GameAPIVersion, calls UpdateInterfaceDll(bool) with a &#160;parameter, and attempts to start the DreamDaemon Proc " alt="" coords="781,181,992,223"/>
<area shape="rect" id="node10" href="class_t_g_server_service_1_1_server_instance.html#a805c3433c1fd7347b862ba4a3b0ea5f8" title="Constructs and a ServerInstance " alt="" coords="1557,123,1768,164"/>
<area shape="rect" id="node12" href="class_t_g_server_service_1_1_server_instance.html#a8f8c222dd4a2d21957b968b26eff08a3" title="Starts the server if it isn&#39;t running &#160;" alt="" coords="1040,181,1251,223"/>
<area shape="rect" id="node13" href="class_t_g_server_service_1_1_server_instance.html#ac58aa725d4b3a81cf979ab657a02cdb8" title="Immediately kills and restarts the server &#160;" alt="" coords="1299,188,1509,229"/>
<area shape="rect" id="node14" href="class_t_g_server_service_1_1_server_instance.html#a8bdb55d2113035b09f1697072e14c873" title="TGServerService.ServerInstance.\lKillMe" alt="" coords="1557,188,1768,229"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abdf26641e717823f8958ac46db3c0cc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.WriteText </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>staticRelativePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>unauthorized</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write to a static file  </p>

<p>Implements <a class="el" href="interface_t_g_service_interface_1_1_components_1_1_i_t_g_config.html#a24f599bf111d66d9a4e27e92131d1165">TGServiceInterface.Components.ITGConfig</a>.</p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00109">109</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>References <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00030">TGServerService.Service.CancelImpersonation()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">TGServerService.ServerInstance.StaticDirs</a>, <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00040">TGServerService.Service.WriteInfo()</a>, and <a class="el" href="_t_g_server_service_2_service_8cs_source.html#l00058">TGServerService.Service.WriteWarning()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            var path = <a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a> + <span class="charliteral">&#39;/&#39;</span> + staticRelativePath;   <span class="comment">//do not use path.combine or it will try and take the root</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                lock (<a class="code" href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">configLock</a>)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    var di1 = <span class="keyword">new</span> DirectoryInfo(<a class="code" href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">StaticDirs</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    var destdir = <span class="keyword">new</span> FileInfo(path).Directory.FullName;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    var di2 = <span class="keyword">new</span> DirectoryInfo(destdir);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    var good = <span class="keyword">false</span>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    <span class="keywordflow">while</span> (di2 != null)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        <span class="keywordflow">if</span> (di2.FullName == di1.FullName)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                        {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                            good = <span class="keyword">true</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                        }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                        <span class="keywordflow">else</span> di2 = di2.Parent;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    <span class="keywordflow">if</span> (!good)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                        unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cannot write above static directories!&quot;</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    Directory.CreateDirectory(destdir);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    File.WriteAllText(path, data);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    Service.CancelImpersonation();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    Service.WriteInfo(<span class="stringliteral">&quot;Write to &quot;</span> + path, <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.StaticWrite);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">catch</span> (UnauthorizedAccessException e)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="comment">//no need for the full stacktrace</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                unauthorized = <span class="keyword">true</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">return</span> e.Message;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                unauthorized = <span class="keyword">false</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                Service.CancelImpersonation();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                Service.WriteWarning(String.Format(<span class="stringliteral">&quot;Write of {0} failed! Error: {1}&quot;</span>, path, e.ToString()), <a class="code" href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">EventID</a>.StaticRead);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordflow">return</span> e.ToString();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        }</div><div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_a4d407c09b7a499c45266c916e4eaa947"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#a4d407c09b7a499c45266c916e4eaa947">TGServerService.ServerInstance.configLock</a></div><div class="ttdeci">object configLock</div><div class="ttdoc">Used for multithreading safety </div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">Config.cs:15</a></div></div>
<div class="ttc" id="namespace_t_g_server_service_html_a98d8f6303b894422167c743e15185398"><div class="ttname"><a href="namespace_t_g_server_service.html#a98d8f6303b894422167c743e15185398">TGServerService.EventID</a></div><div class="ttdeci">EventID</div><div class="ttdoc">Various events and their IDs in no particular order. Found in the Windows event log. These incremented by 100 and are guaranteed to never be reused in the future. Each event ID may be information, a warning, or error and will be documented accordingly. Warnings will occur due to user, data, or network errors. Errors will occur due to filesystem errors or hard faults </div><div class="ttdef"><b>Definition:</b> <a href="_event_i_d_8cs_source.html#l00008">EventID.cs:8</a></div></div>
<div class="ttc" id="class_t_g_server_service_1_1_server_instance_html_aaa64ece7176410ce074603fd735e3f10"><div class="ttname"><a href="class_t_g_server_service_1_1_server_instance.html#aaa64ece7176410ce074603fd735e3f10">TGServerService.ServerInstance.StaticDirs</a></div><div class="ttdeci">const string StaticDirs</div><div class="ttdef"><b>Definition:</b> <a href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">Compiler.cs:25</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_t_g_server_service_1_1_server_instance_abdf26641e717823f8958ac46db3c0cc8_cgraph.png" border="0" usemap="#class_t_g_server_service_1_1_server_instance_abdf26641e717823f8958ac46db3c0cc8_cgraph" alt=""/></div>
<map name="class_t_g_server_service_1_1_server_instance_abdf26641e717823f8958ac46db3c0cc8_cgraph" id="class_t_g_server_service_1_1_server_instance_abdf26641e717823f8958ac46db3c0cc8_cgraph">
<area shape="rect" id="node2" href="class_t_g_server_service_1_1_service.html#ac3397831deffcbd077a20f4ceb86f7c7" title="Cancels WCF&#39;s user impersonation to allow clean access to writing log files " alt="" coords="264,5,431,47"/>
<area shape="rect" id="node3" href="class_t_g_server_service_1_1_service.html#ac90d464e7982312e0a43f1d710bd83a9" title="Writes information to Windows the event log " alt="" coords="264,71,431,112"/>
<area shape="rect" id="node4" href="class_t_g_server_service_1_1_service.html#ae3c4dfb35fce33f3462633036bc5af14" title="Writes a warning to the Windows event log " alt="" coords="264,136,431,177"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5cea7fb477daccffb693b933e8a0b231"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ADirTest = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a0c6bafbaf5618ced251442f5e66fa89c">GameDirA</a> + <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a857c11bb60033e231f050145493ca3b8">LiveFile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00036">36</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a178ed6d4540e6d79c2d6a3df12640c4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGServerService.ServerInstance.AllowedMajorAPIVersion = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00024">24</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00154">TGServerService.ServerInstance.CheckAPIVersionConstraints()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d9e7ee0d819cee495bd78f9a54c46fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.authLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00023">23</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae88c3d75e0b20177d4d8ad653e8ea4d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">System.Timers.Timer TGServerService.ServerInstance.autoUpdateTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> <a class="code" href="namespace_system.html">System</a>.Timers.Timer()</div><div class="line">        {</div><div class="line">            AutoReset = <span class="keyword">true</span></div><div class="line">        }</div></div><!-- fragment -->
<p>Used for automatically updating the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00087">87</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00095">TGServerService.ServerInstance.InitRepo()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01254">TGServerService.ServerInstance.SetAutoUpdateInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fcdc82f293c4cd7da11738f2c1e2656"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad1ddb778169e3f37504360e6850f3b10">ShutdownRequestPhase</a> TGServerService.ServerInstance.AwaitingShutdown</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicator of progress on a <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e6fa52a6bc2f17eedd4c5d62f13063f" title="Restart the server after the currently running world reboots. Has no effect if the server isn&#39;t runni...">RequestRestart</a> or <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a14fda24298442826a3f5ec506f94c4b3" title="Stop the server after the currently running world reboots. Has no effect if the server isn&#39;t running ...">RequestStop</a> operation </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00092">92</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a3584843b75b22e9caaf4706fe6d9a26f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.BDirTest = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a7a81324e1e1171c1d2d2adc35b105e62">GameDirB</a> + <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a857c11bb60033e231f050145493ca3b8">LiveFile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00037">37</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a8534ec556abce2125376c3df9fd644c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ByondConfigDir = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a> + &quot;/BYOND/cfg&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory to modify the BYOND cfg before installation </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00046">46</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae375b158f3e4eb869a967674ed9f3b74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ByondDDConfig = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8534ec556abce2125376c3df9fd644c1">ByondConfigDir</a> + &quot;/daemon.txt&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>BYOND's DreamDaemon config file in the cfg modification directory </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00050">50</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a63d04056dea64487e7eaed6b26b57e3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ByondDirectory = &quot;BYOND&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory to store the BYOND installation </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00018">18</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">TGServerService.ServerInstance.GetVersion()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a19bd19fedfdb8cd0e5701215b483ce3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ByondLatestURL = &quot;https://secure.byond.com/download/build/LATEST/&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The URL for getting the latest BYOND version zipfile </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00042">42</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a0c663631406c567c006171c5b6bf361f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.ByondLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00064">64</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>.</p>

</div>
</div>
<a class="anchor" id="afb3e8619b26aae0b35238283f6377c76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ByondNoPromptTrustedMode = &quot;trusted-check 0&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setting to add to <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ae375b158f3e4eb869a967674ed9f3b74" title="BYOND&#39;s DreamDaemon config file in the cfg modification directory ">ByondDDConfig</a> to suppress an invisible user prompt for running a trusted mode .dmb </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00054">54</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a8602c86bbeaa9a0efaf0dec7f54a5ecb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ByondRevisionsURL = &quot;https://secure.byond.com/download/build/{0}/{0}.{1}_byond.zip&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The URL format string for getting BYOND version {0}.{1} zipfile </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00038">38</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a62d400cfc5403947bc54bc8cdcb5a178"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.CachedTGS3SettingsPath = &quot;TGS3.json&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Path to the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a>'s <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> json </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00028">28</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a4d44f07976a3c02b441bbc108ee0473a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.canCancelCompilation = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00048">48</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="acb628731687d30da37761dcae1389893"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.CCPAdminOnly = &quot;admin_only&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00042">42</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a0d937d6309ff1105105779007109e6ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.CCPHelpText = &quot;help_text&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00041">41</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a3d33a80602850bbfcbc85ea2e1b4e42d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.CCPRequiredParameters = &quot;required_parameters&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00043">43</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a03e6f43c86cd29032ae6acc003afe521"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.ChatLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00020">20</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

</div>
</div>
<a class="anchor" id="acadcf82abcaebb13517e3e169545f35c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IList&lt;<a class="el" href="interface_t_g_server_service_1_1_chat_providers_1_1_i_chat_provider.html">IChatProvider</a>&gt; TGServerService.ServerInstance.ChatProviders</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of IChatProviders for the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00016">16</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a96ac726e923f4016b5c65806e5b1fb17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.Cloning = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether or not a git clone operation is in progress </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00073">73</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad277ad8989796cede1a8160d41805a8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.CommitMessage = &quot;Automatic changelog compile, [ci skip]&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commit message for <a class="el" href="class_t_g_server_service_1_1_repo_config.html#a651c0720180fbb2fe57296fb37b4617b" title="Paths to commit and push to the remote repository ">RepoConfig.PathsToStage</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00060">60</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a86ec90e265d2179399e7e260d8b99b94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGServerService.ServerInstance.CommsKeyLen = 64</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00020">20</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a65f620ffb3b9d255d551adc32cf2015e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.compilationCancellationRequestation = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00047">47</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9adc6c97daa5981c9b4c6128c4df1f11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#af50082a408f9ae6f37a053a7a2464ef3">CompilerStatus</a> TGServerService.ServerInstance.compilerCurrentStatus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00043">43</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">TGServerService.ServerInstance.ApplyStagedUpdate()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00062">TGServerService.ServerInstance.GetStatus()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>.</p>

</div>
</div>
<a class="anchor" id="a43598a044d75089e4c3a0b433bca455b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.CompilerLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00042">42</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00312">TGServerService.ServerInstance.ApplyStagedUpdate()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00379">TGServerService.ServerInstance.Setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a7276f1afc5e4e29a3dd7ecbc324b1661"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Thread TGServerService.ServerInstance.CompilerThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00046">46</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a4d407c09b7a499c45266c916e4eaa947"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.configLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00015">15</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html">Config.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00218">TGServerService.ServerInstance.Clone()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00271">TGServerService.ServerInstance.RecreateStaticFolder()</a>.</p>

</div>
</div>
<a class="anchor" id="a20d86baac5dc500fc0fda143655e83e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.CurrentDDLog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current logfile in use in <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad3a9a0f4ee4133a41f3db02bbd87a3a9" title="Directory for storing DreamDaemon ResourceUsage files ">ResourceDiagnosticsDir</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00065">65</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a4e943244934b9768a821aa6ec722ac18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ushort TGServerService.ServerInstance.currentPort = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current port DreamDaemon is running on </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00069">69</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>

</div>
</div>
<a class="anchor" id="ab294e7b6c6025f2c4f15b8b0dc78ef9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TGServerService.ServerInstance.currentProgress = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for reporting operation progress to the <a class="el" href="namespace_t_g_service_interface.html">TGServiceInterface</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00082">82</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00145">TGServerService.ServerInstance.CheckoutProgress()</a>.</p>

</div>
</div>
<a class="anchor" id="ac30b2fd293b49f890f3a1e32646c6d64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#a8d0a8727304bcbf3c0b9967701e533e9">DreamDaemonStatus</a> TGServerService.ServerInstance.currentStatus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The DreamDaemonStatus of <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00061">61</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00192">TGServerService.ServerInstance.DaemonStatus()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00271">TGServerService.ServerInstance.RecreateStaticFolder()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>

</div>
</div>
<a class="anchor" id="a157c619b15cfc7da0d7578a84888b803"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGServerService.ServerInstance.DDBadStartTime = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If DreamDaemon crashes before this time it is considered a bad startup </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00039">39</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9b032a659fbd00069d0c86e069d2b305"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int TGServerService.ServerInstance.DDHangStartTime = 60</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time until DD is considered DOA on startup </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00035">35</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af349ace5ef95d437564deefa68138422"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Thread TGServerService.ServerInstance.DDWatchdog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The thread that monitors the status of DreamDaemon </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00057">57</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00219">TGServerService.ServerInstance.Stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a9fc559e696e31c09e9d88ca4c1571fbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.DiagnosticsDir = &quot;Diagnostics&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Directory for storing DreamDaemon diagnostic files </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00027">27</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a0d2fcb5a16e12d1bbaa5bb36ea24afbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.disposedValue = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To detect redundant <a class="el" href="class_t_g_server_service_1_1_server_instance.html#af6a2dc31f6dff99061c8cddc5c35b99e" title="Implements the IDisposable pattern ">Dispose()</a> calls </p>

<p>Definition at line <a class="el" href="_server_instance_8cs_source.html#l00066">66</a> of file <a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a>.</p>

<p>Referenced by <a class="el" href="_server_instance_8cs_source.html#l00054">TGServerService.ServerInstance.PrepareForUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b7519bc4b8c9476fcd9699385535533"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.EventFolder = &quot;EventHandlers/&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory for Preaction handlers </p>

<p>Definition at line <a class="el" href="_preaction_handler_8cs_source.html#l00013">13</a> of file <a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a070d3f5a7292c22e7cd0a807a8f73e4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_g_server_service_1_1_server_instance.html#a2e13a465e1c065c58defc0d891822ee5">Version</a> TGServerService.ServerInstance.GameAPIVersion</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00025">25</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="aae521c4c39e87f29fc7cba98c0ff58d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.GameDir = &quot;Game&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00030">30</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c6bafbaf5618ced251442f5e66fa89c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.GameDirA = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a> + &quot;/A&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00287">TGServerService.ServerInstance.InvertDirectory()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a81324e1e1171c1d2d2adc35b105e62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.GameDirB = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a> + &quot;/B&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00287">TGServerService.ServerInstance.InvertDirectory()</a>.</p>

</div>
</div>
<a class="anchor" id="a6dc8ecb836197d4e0a889d8b8944237a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.GameDirLive = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aae521c4c39e87f29fc7cba98c0ff58d7">GameDir</a> + &quot;/Live&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00033">33</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00467">TGServerService.ServerInstance.CanStart()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ab16aa5c7a41006e221acf710131efe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.InterfaceDLLName = &quot;TGServiceInterface.dll&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00040">40</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00153">TGServerService.ServerInstance.InitializeImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00524">TGServerService.ServerInstance.UpdateInterfaceDll()</a>.</p>

</div>
</div>
<a class="anchor" id="a66a6d4cf18b436ad79fd5eb9e3546881"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.lastCompilerError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00044">44</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00071">TGServerService.ServerInstance.CompileError()</a>.</p>

</div>
</div>
<a class="anchor" id="adcc40d967672331fc5578d052f20743a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.lastError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The last error the BYOND updater encountered </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00068">68</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00137">TGServerService.ServerInstance.GetError()</a>.</p>

</div>
</div>
<a class="anchor" id="a1859affa82dede4f2ed907a7d6958529"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.LastSeenUser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The WindowsIdentity.Name of the last WindowsIdentity to attempt to access the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00027">27</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a280f8b421bd1d3a8a8cb4c5e455fdfc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.LibMySQLFile = &quot;/libmysql.dll&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00028">28</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a6399ca237782f1286ad7379153a51298"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.LiveDirTest = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6dc8ecb836197d4e0a889d8b8944237a">GameDirLive</a> + <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a857c11bb60033e231f050145493ca3b8">LiveFile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00038">38</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a857c11bb60033e231f050145493ca3b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.LiveFile = &quot;/TestLive.lk&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00035">35</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a6940fb33b38a22d9b7b5d55d5e17dbfd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.LiveTrackingBranch = &quot;___TGSLiveCommitTrackingBranch&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The branch that points to the current commit that is live or staged to be live in DreamDaemon </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00056">56</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01319">TGServerService.ServerInstance.LiveSha()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01305">TGServerService.ServerInstance.UpdateLiveSha()</a>.</p>

</div>
</div>
<a class="anchor" id="a6fccb58474c98b606c222bf343f3a4dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PerformanceCounter TGServerService.ServerInstance.pcpu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CPU performance information for <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aa550118aee5bf93064cb25b2171a969b" title="The DreamDaemon process ">Proc</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00048">48</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2ab6a2c8f02431003a7b3eee7f453fff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.PrivateKeyPath = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a322d0960aa917af28f836c5d9035d2e7">RepoKeyDir</a> + &quot;private_key.txt&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path to the private ssh-rsa key file </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00044">44</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">TGServerService.ServerInstance.GenerateGitCredentials()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a3e4575d902a3e8650d4734629bd9d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.PRJobFile = &quot;prtestjob.json&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File name for monitoring which github pull requests are currently test merged </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00052">52</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="aa550118aee5bf93064cb25b2171a969b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Process TGServerService.ServerInstance.Proc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The DreamDaemon process </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00044">44</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7181bf579d6d909c916154bbe095d0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.PublicKeyPath = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a322d0960aa917af28f836c5d9035d2e7">RepoKeyDir</a> + &quot;public_key.txt&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path to the public ssh-rsa key file </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00048">48</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l01117">TGServerService.ServerInstance.GenerateGitCredentials()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b0e420f5bfb3ddaaae675c4c05dc1c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.ReattachInsteadOfRestart = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to indicate if an service restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449" title="Used for multithreading safety ">restartLock</a> to access </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00082">82</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a6088bf51e04fc17da371cc85d1d5df6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Repository TGServerService.ServerInstance.Repo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The repository object </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00078">78</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a6a5f6fad2c5c52da78eb9d1968c02f9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.RepoBusy = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used in conjunction with <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9b7cd7bdfe31916e6818245e2354d0cc" title="Used in conjunction with RepoBusy for multithreading safety ">RepoLock</a> for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00069">69</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00136">TGServerService.ServerInstance.OperationInProgress()</a>.</p>

</div>
</div>
<a class="anchor" id="a35821203dd193755681a98bb545cd1cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.RepoErrorUpToDate = &quot;Already up to date!&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Error message for when a merge operation fails due to the target branch already having the source branch's commits </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00544">TGServerService.ServerInstance.MergeBranch()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00576">TGServerService.ServerInstance.UpdateImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a322d0960aa917af28f836c5d9035d2e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.RepoKeyDir = &quot;RepoKey/&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> directory for the repository SSH keys </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00040">40</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9b7cd7bdfe31916e6818245e2354d0cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.RepoLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used in conjunction with <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a6a5f6fad2c5c52da78eb9d1968c02f9d" title="Used in conjunction with RepoLock for multithreading safety ">RepoBusy</a> for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00065">65</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00271">TGServerService.ServerInstance.RecreateStaticFolder()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d4c21888ad433c4c7acf2dd2b8d42a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.RepoPath = &quot;Repository&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> directory for the repository </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00020">20</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00024">TGServerService.ServerInstance.ReadText()</a>.</p>

</div>
</div>
<a class="anchor" id="a05f336e85da73906127af49b1ec0e591"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.RepoTGS3SettingsPath = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a8d4c21888ad433c4c7acf2dd2b8d42a0">RepoPath</a> + &quot;/TGS3.json&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path to the Repository's <a class="el" href="class_t_g_server_service_1_1_repo_config.html" title="Repository specific information for a ServerInstance ">RepoConfig</a> json </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00024">24</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad3a9a0f4ee4133a41f3db02bbd87a3a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.ResourceDiagnosticsDir = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#a9fc559e696e31c09e9d88ca4c1571fbc">DiagnosticsDir</a> + &quot;/Resources&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Directory for storing DreamDaemon ResourceUsage files </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a4380a85aaa8cdaf5d13a0d90435355d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.RestartInProgress = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to indicate if an intentional restart is in progress on the watchdog. Requires <a class="el" href="class_t_g_server_service_1_1_server_instance.html#ad5410eb07e2ceac73e7e024919ba3449" title="Used for multithreading safety ">restartLock</a> to access </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00078">78</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ad5410eb07e2ceac73e7e024919ba3449"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.restartLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00074">74</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aae957ffd2966d65e145b02b490d3710e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.RevisionDownloadPath = &quot;BYONDRevision.zip&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path in the instance directory to store the downloaded BYOND revision </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00030">30</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00199">TGServerService.ServerInstance.UpdateToVersionImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="afcb683e8f7cd91c6e64ce98e007899f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Thread TGServerService.ServerInstance.RevisionStaging</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread used for staging BYOND revisions </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00072">72</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aa56e6ffd2d00621ac72048ff36dbbe89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SCAPICompat = &quot;api_compat&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a5d2da9246c06fca12ffb4cb7a6aef5d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SCGracefulShutdown = &quot;graceful_shutdown&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00029">29</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00207">TGServerService.ServerInstance.RequestStop()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>

</div>
</div>
<a class="anchor" id="a66f4c90ad2f16211acff4bffd38b63c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SCHardReboot = &quot;hard_reboot&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00028">28</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00201">TGServerService.ServerInstance.RequestRestart()</a>.</p>

</div>
</div>
<a class="anchor" id="aba8a60fc349ded697f44a0e46e184784"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SCListCustomCommands = &quot;list_custom_commands&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00031">31</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a860ffd00b1286a975841923fc97b96dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SCPlayerCount = &quot;client_count&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00033">33</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a14ef61af60718ccb273ad10c9639d2aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SCWorldAnnounce = &quot;world_announce&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00030">30</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00701">TGServerService.ServerInstance.WorldAnnounce()</a>.</p>

</div>
</div>
<a class="anchor" id="af07a5ca7e8aeb5612b5333d94275e762"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="class_t_g_service_interface_1_1_command.html">Command</a>&gt; TGServerService.ServerInstance.ServerChatCommands</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00045">45</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html#l00069">TGServerService.ServerInstance.ChatProvider_OnChatMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a5bc2c5cf72086f7be5ab0360a8b97105"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string TGServerService.ServerInstance.serviceCommsKey</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00021">21</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00097">TGServerService.ServerInstance.InitDreamDaemon()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00303">TGServerService.ServerInstance.Watchdog()</a>.</p>

</div>
</div>
<a class="anchor" id="a27f51f5fdaedcb7b20c19cb507ae0940"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly SecurityIdentifier TGServerService.ServerInstance.ServiceSID = WindowsIdentity.GetCurrent().User</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SecurityIdentifier of the account the <a class="el" href="class_t_g_server_service_1_1_service.html" title="The windows service the application runs as ">Service</a> is running as </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00032">32</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00101">TGServerService.ServerInstance.CheckAccessCore()</a>.</p>

</div>
</div>
<a class="anchor" id="a8011e4943a3fbb07f419d91ea5585132"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.silentCompile = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00049">49</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a1881164dde61f3600adee7d595f84d4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SRAPIVersion = &quot;api_ver&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00039">39</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a3e3edae60a9304c55a48e8bd50fa0bcf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SRIRCAdminChannelMessage = &quot;send2irc&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00037">37</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a6e6867184406c444e08d9d9c1516e91d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SRIRCBroadcast = &quot;irc&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00036">36</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9800fe98bc4ad092f716ffcaf466ec50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SRKillProcess = &quot;killme&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00035">35</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aeddee6363c31797b1e8a8d9cbc652fad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SRWorldReboot = &quot;worldreboot&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00038">38</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a626ed84e545c7f3021b98da532a9c1c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.SSHPushRemote = &quot;ssh_push_target&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Git remote for push operations </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00036">36</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aaf67da3d367607fac5b98d52feed5efe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.StagingDirectory = &quot;BYOND_staged&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The instance directory to use when updating the BYOND installation </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00022">22</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a74331465cc7db01bbb583a5430e6d506"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.StagingDirectoryInner = <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe">StagingDirectory</a> + &quot;/byond&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Path to the actual BYOND installation within the <a class="el" href="class_t_g_server_service_1_1_server_instance.html#aaf67da3d367607fac5b98d52feed5efe" title="The instance directory to use when updating the BYOND installation ">StagingDirectory</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00026">26</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a76df7e1dbf0a616318dc38a5b74096d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#a82f76b01f699bef8336537255d268118">DreamDaemonSecurity</a> TGServerService.ServerInstance.StartingSecurity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current DreamDaemonSecurity level of DreamDaemon </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00087">87</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae65be76d9379b4c23864048a54032e76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.StaticBackupDir = &quot;Static_BACKUP&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00026">26</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00293">TGServerService.ServerInstance.BackupAndDeleteStaticDirectory()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa64ece7176410ce074603fd735e3f10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.StaticDirs = &quot;Static&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00025">25</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00293">TGServerService.ServerInstance.BackupAndDeleteStaticDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00161">TGServerService.ServerInstance.DeleteFile()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html#l00336">TGServerService.ServerInstance.InitialConfigureRepository()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00216">TGServerService.ServerInstance.ListStaticDirectory()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00024">TGServerService.ServerInstance.ReadText()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html#l00109">TGServerService.ServerInstance.WriteText()</a>.</p>

</div>
</div>
<a class="anchor" id="a099e2fa5d7fe81467538a56467c9906c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SecurityIdentifier TGServerService.ServerInstance.TheDroidsWereLookingFor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SecurityIdentifier of the Windows group authorized to access the <a class="el" href="class_t_g_server_service_1_1_server_instance.html" title="The class which holds all interface components. There are no safeguards for call race conditions so t...">ServerInstance</a> </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00019">19</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a8875aeb516888e8ed1007c14302076a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.topicLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00019">19</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00564">TGServerService.ServerInstance.StartImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="aaff75bb9874194c398f76a60c494bbdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TGServerService.ServerInstance.UpdateStaged = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00051">51</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00065">TGServerService.ServerInstance.HandleCommand()</a>.</p>

</div>
</div>
<a class="anchor" id="a773bda7930c58a1def918b077efcf2a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_t_g_service_interface.html#af1c6e932aa16d25cbe05b86e896f3935">ByondStatus</a> TGServerService.ServerInstance.updateStat = ByondStatus.Idle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The status of the BYOND updater </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00059">59</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00128">TGServerService.ServerInstance.CurrentStatus()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>.</p>

</div>
</div>
<a class="anchor" id="a012f09818116b92edf15f9d4aff96dff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string TGServerService.ServerInstance.VersionFile = &quot;/byond_version.dat&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The location of the BYOND version data of an installation </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00034">34</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html#l00148">TGServerService.ServerInstance.GetVersion()</a>.</p>

</div>
</div>
<a class="anchor" id="aac9358eb96d27250fb77c78695e90128"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">object TGServerService.ServerInstance.watchdogLock = new object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for multithreading safety </p>

<p>Definition at line <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html#l00053">53</a> of file <a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a>.</p>

<p>Referenced by <a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html#l00296">TGServerService.ServerInstance.CompileImpl()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00157">TGServerService.ServerInstance.MoveServer()</a>, <a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html#l00271">TGServerService.ServerInstance.RecreateStaticFolder()</a>, and <a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html#l00131">TGServerService.ServerInstance.SendCommand()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_administration_8cs_source.html">Administration.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_byond_8cs_source.html">Byond.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_chat_8cs_source.html">Chat.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_compiler_8cs_source.html">Compiler.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_config_8cs_source.html">Config.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_dream_daemon_8cs_source.html">DreamDaemon.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_interop_8cs_source.html">Interop.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_preaction_handler_8cs_source.html">PreactionHandler.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_t_g_server_service_2_server_instance_2_repository_8cs_source.html">Repository.cs</a></li>
<li>TGServerService/ServerInstance/<a class="el" href="_server_instance_8cs_source.html">ServerInstance.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
