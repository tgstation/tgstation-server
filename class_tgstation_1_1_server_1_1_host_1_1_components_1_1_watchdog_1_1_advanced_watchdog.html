<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tgstation-server: Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tgstation-server<span id="projectnumber">&#160;6.9.0</span>
   </div>
   <div id="projectbrief">The /tg/station 13 server suite</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_tgstation.html">Tgstation</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server.html">Server</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host.html">Host</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components.html">Components</a></li><li class="navelem"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html">Watchdog</a></li><li class="navelem"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html">AdvancedWatchdog</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html" title="Runs and monitors the twin server controllers.">IWatchdog</a> that, instead of killing servers for updates, uses the wonders of filesystem links to swap out changes without killing the server process.   
 <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog__inherit__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_components_8_watchdog_8_advanced_watchdog_inherit__map" alt="Inheritance graph"/></div>
<map name="a_tgstation_8_server_8_host_8_components_8_watchdog_8_advanced_watchdog_inherit__map" id="a_tgstation_8_server_8_host_8_components_8_watchdog_8_advanced_watchdog_inherit__map">
<area shape="rect" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa..." alt="" coords="892,121,1119,161"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_posix_watchdog.html" title="A variant of the AdvancedWatchdog that works on POSIX systems." alt="" coords="1167,89,1393,129"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_windows_watchdog.html" title="A variant of the AdvancedWatchdog that works on Windows systems." alt="" coords="1167,153,1393,193"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html" title="A IWatchdog that manages one server." alt="" coords="731,128,844,153"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs." alt="" coords="572,128,683,153"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html" title="Runs and monitors the twin server controllers." alt="" coords="395,79,479,104"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_component_service.html" title="Represents a component meant to be started and stopped by its parent component." alt="" coords="165,5,301,31"/>
<area shape="rect" href="class_i_hosted_service.html" title=" " alt="" coords="5,5,117,31"/>
<area shape="rect" href="class_i_async_disposable.html" title=" " alt="" coords="170,55,297,80"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html" title="Consumes EventTypes and takes the appropriate actions." alt="" coords="174,104,293,129"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_rename_notifyee.html" title="Handler for an instance being renamed." alt="" coords="172,153,295,179"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_custom_command_handler.html" title="Handles Commands.ICommands that map to those defined in a IChatTrackingContext." alt="" coords="349,128,524,153"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_restart_handler.html" title="Handler for server restarts." alt="" coords="380,177,493,203"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog__coll__graph.png" border="0" usemap="#a_tgstation_8_server_8_host_8_components_8_watchdog_8_advanced_watchdog_coll__map" alt="Collaboration graph"/></div>
<map name="a_tgstation_8_server_8_host_8_components_8_watchdog_8_advanced_watchdog_coll__map" id="a_tgstation_8_server_8_host_8_components_8_watchdog_8_advanced_watchdog_coll__map">
<area shape="rect" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa..." alt="" coords="1637,948,1864,988"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html" title="A IWatchdog that manages one server." alt="" coords="1306,851,1419,877"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs." alt="" coords="925,509,1035,534"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html" title="Runs and monitors the twin server controllers." alt="" coords="439,217,523,242"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_component_service.html" title="Represents a component meant to be started and stopped by its parent component." alt="" coords="167,287,303,313"/>
<area shape="rect" href="class_i_hosted_service.html" title=" " alt="" coords="5,287,117,313"/>
<area shape="rect" href="class_i_async_disposable.html" title=" " alt="" coords="171,337,298,362"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html" title="Provides absolute paths to the latest compiled .dmbs." alt="" coords="431,1017,532,1042"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html" title="Consumes EventTypes and takes the appropriate actions." alt="" coords="175,189,294,214"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_rename_notifyee.html" title="Handler for an instance being renamed." alt="" coords="173,238,296,263"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_custom_command_handler.html" title="Handles Commands.ICommands that map to those defined in a IChatTrackingContext." alt="" coords="394,607,569,633"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_restart_handler.html" title="Handler for server restarts." alt="" coords="425,657,538,682"/>
<area shape="rect" title=" " alt="" coords="461,706,502,731"/>
<area shape="rect" title=" " alt="" coords="399,755,564,781"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html" title="Consumes EventTypes and takes the appropriate actions." alt="" coords="368,24,595,64"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html" title="Manages the runtime of Jobs." alt="" coords="390,88,573,128"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_restart_registration.html" title="Represents the lifetime of a IRestartHandler registration." alt="" coords="391,152,572,192"/>
<area shape="rect" href="class_i_disposable.html" title=" " alt="" coords="189,139,280,165"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html" title="Interface for using filesystems." alt="" coords="397,267,565,307"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html" title="Factory for creating IRemoteDeploymentManagers." alt="" coords="352,331,611,386"/>
<area shape="rect" title=" " alt="" coords="458,822,505,847"/>
<area shape="rect" title=" " alt="" coords="403,902,560,927"/>
<area shape="rect" title=" " alt="" coords="393,410,570,435"/>
<area shape="rect" title=" " alt="" coords="456,459,507,485"/>
<area shape="rect" title=" " alt="" coords="422,509,541,534"/>
<area shape="rect" title=" " alt="" coords="462,558,501,583"/>
<area shape="rect" title=" " alt="" coords="1289,981,1436,1006"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html" title="A IDmbProvider that uses filesystem links to change directory structure underneath the server process..." alt="" coords="864,1023,1096,1063"/>
<area shape="rect" title=" " alt="" coords="437,967,526,993"/>
<area shape="rect" title=" " alt="" coords="441,1066,521,1091"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb48f966670f07a01c89a708fc82411a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#acb48f966670f07a01c89a708fc82411a">AdvancedWatchdog</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html">IChatManager</a> chat, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller_factory.html">ISessionControllerFactory</a> sessionControllerFactory, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_factory.html">IDmbFactory</a> dmbFactory, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_persistor.html">ISessionPersistor</a> sessionPersistor, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a1688863ddcd7d0bbfa3ec13b7b015319">jobManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_control.html">IServerControl</a> serverControl, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_async_delayer.html">IAsyncDelayer</a> asyncDelayer, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8becb1115fe1c09c84534c798466e03f">diagnosticsIOManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html">IEventConsumer</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5768c37124d54e80c66dc63d28d0dea4">eventConsumer</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html">IRemoteDeploymentManagerFactory</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a72637a3ebe8925b7c3753416370ad83c">remoteDeploymentManagerFactory</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> gameIOManager, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory.html">IFilesystemLinkFactory</a> linkFactory, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html">AdvancedWatchdog</a> &gt; logger, <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a> initialLaunchParameters, <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Api.Models.Instance</a> instance, bool <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a410f168d84f80c138450fb42f222ba01">autoStart</a>)</td></tr>
<tr class="memdesc:acb48f966670f07a01c89a708fc82411a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa...">AdvancedWatchdog</a> class.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#acb48f966670f07a01c89a708fc82411a">More...</a><br /></td></tr>
<tr class="separator:acb48f966670f07a01c89a708fc82411a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog</a></td></tr>
<tr class="memitem:a5ce6bc44740e1f565963d19eea74fb4b inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a5ce6bc44740e1f565963d19eea74fb4b">BasicWatchdog</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html">IChatManager</a> chat, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller_factory.html">ISessionControllerFactory</a> sessionControllerFactory, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_factory.html">IDmbFactory</a> dmbFactory, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_persistor.html">ISessionPersistor</a> sessionPersistor, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a1688863ddcd7d0bbfa3ec13b7b015319">jobManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_control.html">IServerControl</a> serverControl, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_async_delayer.html">IAsyncDelayer</a> asyncDelayer, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8becb1115fe1c09c84534c798466e03f">diagnosticsIOManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html">IEventConsumer</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5768c37124d54e80c66dc63d28d0dea4">eventConsumer</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html">IRemoteDeploymentManagerFactory</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a72637a3ebe8925b7c3753416370ad83c">remoteDeploymentManagerFactory</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> gameIOManager, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html">BasicWatchdog</a> &gt; logger, <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a> initialLaunchParameters, <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Api.Models.Instance</a> instance, bool <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a410f168d84f80c138450fb42f222ba01">autoStart</a>)</td></tr>
<tr class="memdesc:a5ce6bc44740e1f565963d19eea74fb4b inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html" title="A IWatchdog that manages one server.">BasicWatchdog</a> class.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a5ce6bc44740e1f565963d19eea74fb4b">More...</a><br /></td></tr>
<tr class="separator:a5ce6bc44740e1f565963d19eea74fb4b inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e19b422334b36dbb2a7f84d5393b99 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">override ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a86e19b422334b36dbb2a7f84d5393b99">ResetRebootState</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a86e19b422334b36dbb2a7f84d5393b99 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels pending graceful actions. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a86e19b422334b36dbb2a7f84d5393b99">More...</a><br /></td></tr>
<tr class="separator:a86e19b422334b36dbb2a7f84d5393b99 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc6ea22b9e59466b041ebd6864813d0 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">sealed override ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#afdc6ea22b9e59466b041ebd6864813d0">InstanceRenamed</a> (string newInstanceName, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:afdc6ea22b9e59466b041ebd6864813d0 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the owning <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance.html">Instance</a> is renamed. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newInstanceName</td><td>The new <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_named_entity.html#a7e2f2eeddbc6315acbcfa00c54762183" title="The name of the entity represented by the NamedEntity.">Api.Models.NamedEntity.Name</a>.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#afdc6ea22b9e59466b041ebd6864813d0">More...</a><br /></td></tr>
<tr class="separator:afdc6ea22b9e59466b041ebd6864813d0 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html">Tgstation.Server.Host.Components.Watchdog.WatchdogBase</a></td></tr>
<tr class="memitem:a6f69db8c3ceae298404f5d8d5a7312b3 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a6f69db8c3ceae298404f5d8d5a7312b3">DisposeAsync</a> ()</td></tr>
<tr class="separator:a6f69db8c3ceae298404f5d8d5a7312b3 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d22a408a414abd08361ceff309c3bf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ad4d22a408a414abd08361ceff309c3bf">ChangeSettings</a> (<a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a> launchParameters, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ad4d22a408a414abd08361ceff309c3bf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a19270c2054e4431802fdf5a59f9b3518" title="The DreamDaemonLaunchParameters to be applied.">ActiveLaunchParameters</a>. If currently running, may trigger a graceful restart. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">launchParameters</td><td>The new DreamDaemonLaunchParameters. May be modified.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in <code>true</code> if a reboot is required, <code>false</code> otherwise.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ad4d22a408a414abd08361ceff309c3bf">More...</a><br /></td></tr>
<tr class="separator:ad4d22a408a414abd08361ceff309c3bf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fea3476c8ac941fc42087b9c3e36077 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_message_content.html">MessageContent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8fea3476c8ac941fc42087b9c3e36077">HandleChatCommand</a> (string commandName, string arguments, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_chat_user.html">ChatUser</a> sender, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a8fea3476c8ac941fc42087b9c3e36077 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a chat command. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commandName</td><td>The command name.</td></tr>
    <tr><td class="paramname">arguments</td><td>Everything typed after <em>commandName</em>  minus leading spaces.</td></tr>
    <tr><td class="paramname">sender</td><td>The sending <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_chat_user.html" title="Represents a tgs_chat_user datum.">ChatUser</a>.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the MessageContent text to send back.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8fea3476c8ac941fc42087b9c3e36077">More...</a><br /></td></tr>
<tr class="separator:a8fea3476c8ac941fc42087b9c3e36077 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7afe38b1ea6c4a0f1396a45a3ff013f inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ab7afe38b1ea6c4a0f1396a45a3ff013f">Launch</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ab7afe38b1ea6c4a0f1396a45a3ff013f inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html" title="Runs and monitors the twin server controllers.">IWatchdog</a>. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ab7afe38b1ea6c4a0f1396a45a3ff013f">More...</a><br /></td></tr>
<tr class="separator:ab7afe38b1ea6c4a0f1396a45a3ff013f inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77b687adbbd7f8963b5bab7c46e2acf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">virtual async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ad77b687adbbd7f8963b5bab7c46e2acf">ResetRebootState</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ad77b687adbbd7f8963b5bab7c46e2acf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels pending graceful actions. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ad77b687adbbd7f8963b5bab7c46e2acf">More...</a><br /></td></tr>
<tr class="separator:ad77b687adbbd7f8963b5bab7c46e2acf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805a90319a8bdf4862ce9879f125b853 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a805a90319a8bdf4862ce9879f125b853">Restart</a> (bool graceful, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a805a90319a8bdf4862ce9879f125b853 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the watchdog. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graceful</td><td>If <code>true</code> the restart will be delayed until a reboot is detected in the active server's DMAPI and this function will retrun immediately.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a805a90319a8bdf4862ce9879f125b853">More...</a><br /></td></tr>
<tr class="separator:a805a90319a8bdf4862ce9879f125b853 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30d4b582b04eb7c3ef3c5d848429bbd inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ae30d4b582b04eb7c3ef3c5d848429bbd">StartAsync</a> (CancellationToken cancellationToken)</td></tr>
<tr class="separator:ae30d4b582b04eb7c3ef3c5d848429bbd inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4f16b34fe08499a4aaff0235ecdc76 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aec4f16b34fe08499a4aaff0235ecdc76">StopAsync</a> (CancellationToken cancellationToken)</td></tr>
<tr class="separator:aec4f16b34fe08499a4aaff0235ecdc76 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee58f2a5e3ae97940e281d6975ed720 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a4ee58f2a5e3ae97940e281d6975ed720">Terminate</a> (bool graceful, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a4ee58f2a5e3ae97940e281d6975ed720 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the watchdog. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graceful</td><td>If <code>true</code> the termination will be delayed until a reboot is detected in the active server's DMAPI and this function will return immediately.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a4ee58f2a5e3ae97940e281d6975ed720">More...</a><br /></td></tr>
<tr class="separator:a4ee58f2a5e3ae97940e281d6975ed720 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04162b14c55443e4bf8d2f0956ea0b9b inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a04162b14c55443e4bf8d2f0956ea0b9b">HandleRestart</a> (Version? updateVersion, bool handlerMayDelayShutdownWithExtremelyLongRunningTasks, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a04162b14c55443e4bf8d2f0956ea0b9b inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a restart of the server. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updateVersion</td><td>The Version being updated to, <code>null</code> if not being changed.</td></tr>
    <tr><td class="paramname">handlerMayDelayShutdownWithExtremelyLongRunningTasks</td><td>If <code>false</code> the <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_restart_handler.html" title="Handler for server restarts.">IRestartHandler</a> should aim to complete the Task returned from this function ASAP.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a04162b14c55443e4bf8d2f0956ea0b9b">More...</a><br /></td></tr>
<tr class="separator:a04162b14c55443e4bf8d2f0956ea0b9b inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed998221c11ef7ab08e022113171dcf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">abstract ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a7ed998221c11ef7ab08e022113171dcf">InstanceRenamed</a> (string newInstanceName, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a7ed998221c11ef7ab08e022113171dcf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the owning <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance.html">Instance</a> is renamed. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newInstanceName</td><td>The new <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_named_entity.html#a7e2f2eeddbc6315acbcfa00c54762183" title="The name of the entity represented by the NamedEntity.">Api.Models.NamedEntity.Name</a>.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a7ed998221c11ef7ab08e022113171dcf">More...</a><br /></td></tr>
<tr class="separator:a7ed998221c11ef7ab08e022113171dcf inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9386d08a9eb76694c84db3ed5cf0dca2 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9386d08a9eb76694c84db3ed5cf0dca2">CreateDump</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a9386d08a9eb76694c84db3ed5cf0dca2 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to create a process dump for DreamDaemon. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9386d08a9eb76694c84db3ed5cf0dca2">More...</a><br /></td></tr>
<tr class="separator:a9386d08a9eb76694c84db3ed5cf0dca2 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041c4bb73201345e368f9e4879c9cc67 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a041c4bb73201345e368f9e4879c9cc67">Broadcast</a> (string message, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a041c4bb73201345e368f9e4879c9cc67 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a broadcast <em>message</em>  to the DMAPI. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to broadcast.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in <code>true</code> if the broadcast succeeded., <code>false</code> otherwise.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a041c4bb73201345e368f9e4879c9cc67">More...</a><br /></td></tr>
<tr class="separator:a041c4bb73201345e368f9e4879c9cc67 inherit pub_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4d067afa1dd9d2aacc83657f1639dd"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a9e4d067afa1dd9d2aacc83657f1639dd">Launch</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a9e4d067afa1dd9d2aacc83657f1639dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html" title="Runs and monitors the twin server controllers.">IWatchdog</a>.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a9e4d067afa1dd9d2aacc83657f1639dd">More...</a><br /></td></tr>
<tr class="separator:a9e4d067afa1dd9d2aacc83657f1639dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ab9706c8c07b39618a769b60bac61e"><td class="memItemLeft" align="right" valign="top">ValueTask&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a74ab9706c8c07b39618a769b60bac61e">ChangeSettings</a> (<a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a> launchParameters, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a74ab9706c8c07b39618a769b60bac61e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a19270c2054e4431802fdf5a59f9b3518" title="The DreamDaemonLaunchParameters to be applied.">ActiveLaunchParameters</a>. If currently running, may trigger a graceful restart.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a74ab9706c8c07b39618a769b60bac61e">More...</a><br /></td></tr>
<tr class="separator:a74ab9706c8c07b39618a769b60bac61e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ff5774e54084bd2ce8a45bebdb2ae2"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#aa7ff5774e54084bd2ce8a45bebdb2ae2">Restart</a> (bool graceful, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:aa7ff5774e54084bd2ce8a45bebdb2ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the watchdog.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#aa7ff5774e54084bd2ce8a45bebdb2ae2">More...</a><br /></td></tr>
<tr class="separator:aa7ff5774e54084bd2ce8a45bebdb2ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3483d8e410fa0651dcb211a93ad4ea"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#abd3483d8e410fa0651dcb211a93ad4ea">Terminate</a> (bool graceful, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:abd3483d8e410fa0651dcb211a93ad4ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the watchdog.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#abd3483d8e410fa0651dcb211a93ad4ea">More...</a><br /></td></tr>
<tr class="separator:abd3483d8e410fa0651dcb211a93ad4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac402f4a9d33aba4b8fd57256f31461bc"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#ac402f4a9d33aba4b8fd57256f31461bc">ResetRebootState</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ac402f4a9d33aba4b8fd57256f31461bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels pending graceful actions.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#ac402f4a9d33aba4b8fd57256f31461bc">More...</a><br /></td></tr>
<tr class="separator:ac402f4a9d33aba4b8fd57256f31461bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddde105ca2c70aa01eb5bdd116d3879"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a3ddde105ca2c70aa01eb5bdd116d3879">CreateDump</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a3ddde105ca2c70aa01eb5bdd116d3879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to create a process dump for DreamDaemon.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a3ddde105ca2c70aa01eb5bdd116d3879">More...</a><br /></td></tr>
<tr class="separator:a3ddde105ca2c70aa01eb5bdd116d3879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a191672b4ebeab3e9c7e1488e9d414e66"><td class="memItemLeft" align="right" valign="top">ValueTask&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a191672b4ebeab3e9c7e1488e9d414e66">Broadcast</a> (string message, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a191672b4ebeab3e9c7e1488e9d414e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a broadcast <em>message</em>  to the DMAPI.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a191672b4ebeab3e9c7e1488e9d414e66">More...</a><br /></td></tr>
<tr class="separator:a191672b4ebeab3e9c7e1488e9d414e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564f82eb43566dabd77e37191b4e3d37"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html#a564f82eb43566dabd77e37191b4e3d37">HandleEvent</a> (<a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_events.html#ac30c818717e92c8fb65f389adec739b7">EventType</a> eventType, IEnumerable&lt; string?&gt; parameters, bool deploymentPipeline, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a564f82eb43566dabd77e37191b4e3d37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a given <em>eventType</em> .   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html#a564f82eb43566dabd77e37191b4e3d37">More...</a><br /></td></tr>
<tr class="separator:a564f82eb43566dabd77e37191b4e3d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26718aaaf2f856144517928db9325ddc"><td class="memItemLeft" align="right" valign="top">ValueTask?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html#a26718aaaf2f856144517928db9325ddc">HandleCustomEvent</a> (string eventName, IEnumerable&lt; string?&gt; parameters, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a26718aaaf2f856144517928db9325ddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a given custom event.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html#a26718aaaf2f856144517928db9325ddc">More...</a><br /></td></tr>
<tr class="separator:a26718aaaf2f856144517928db9325ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1c4de7ff2aeb837b875d9a6ac99f0a"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_rename_notifyee.html#a7c1c4de7ff2aeb837b875d9a6ac99f0a">InstanceRenamed</a> (string newInstanceName, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a7c1c4de7ff2aeb837b875d9a6ac99f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the owning <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_instance.html">Instance</a> is renamed.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_i_rename_notifyee.html#a7c1c4de7ff2aeb837b875d9a6ac99f0a">More...</a><br /></td></tr>
<tr class="separator:a7c1c4de7ff2aeb837b875d9a6ac99f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab33cdeb0720901aa888813fce8c38fdf"><td class="memItemLeft" align="right" valign="top">ValueTask&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_interop_1_1_message_content.html">MessageContent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_custom_command_handler.html#ab33cdeb0720901aa888813fce8c38fdf">HandleChatCommand</a> (string commandName, string arguments, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_chat_user.html">ChatUser</a> sender, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ab33cdeb0720901aa888813fce8c38fdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a chat command.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_custom_command_handler.html#ab33cdeb0720901aa888813fce8c38fdf">More...</a><br /></td></tr>
<tr class="separator:ab33cdeb0720901aa888813fce8c38fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876fb70e47b6d6c39d7016b0b77d5f75"><td class="memItemLeft" align="right" valign="top">ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_restart_handler.html#a876fb70e47b6d6c39d7016b0b77d5f75">HandleRestart</a> (Version? updateVersion, bool handlerMayDelayShutdownWithExtremelyLongRunningTasks, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a876fb70e47b6d6c39d7016b0b77d5f75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a restart of the server.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_restart_handler.html#a876fb70e47b6d6c39d7016b0b77d5f75">More...</a><br /></td></tr>
<tr class="separator:a876fb70e47b6d6c39d7016b0b77d5f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad685dab25c922c43bff30f2822811c2b"><td class="memItemLeft" align="right" valign="top">sealed override async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad685dab25c922c43bff30f2822811c2b">DisposeAndNullControllersImpl</a> ()</td></tr>
<tr class="memdesc:ad685dab25c922c43bff30f2822811c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call IDisposable.Dispose and null the fields for all ISessionControllers. <dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad685dab25c922c43bff30f2822811c2b">More...</a><br /></td></tr>
<tr class="separator:ad685dab25c922c43bff30f2822811c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a94dccebeb6abb16f75b2ad03a5eb28"><td class="memItemLeft" align="right" valign="top">sealed override async ValueTask&lt; <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a9a94dccebeb6abb16f75b2ad03a5eb28">HandleNormalReboot</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a9a94dccebeb6abb16f75b2ad03a5eb28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for MonitorActivationReason.ActiveServerRebooted when the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a162156e619faf7f253fce4c39b35559b" title="The Session.RebootState of the active server.">RebootState</a> is RebootState.Normal. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812" title="The action for the monitor loop to take when control is returned to it.">MonitorAction</a> to take.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a9a94dccebeb6abb16f75b2ad03a5eb28">More...</a><br /></td></tr>
<tr class="separator:a9a94dccebeb6abb16f75b2ad03a5eb28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc18654a9da3b33e0c5201fe3c376374"><td class="memItemLeft" align="right" valign="top">sealed override async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#abc18654a9da3b33e0c5201fe3c376374">HandleNewDmbAvailable</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:abc18654a9da3b33e0c5201fe3c376374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for MonitorActivationReason.NewDmbAvailable. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#abc18654a9da3b33e0c5201fe3c376374">More...</a><br /></td></tr>
<tr class="separator:abc18654a9da3b33e0c5201fe3c376374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc14906a6fb391ce835039400575073"><td class="memItemLeft" align="right" valign="top">sealed override async ValueTask&lt; <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1bc14906a6fb391ce835039400575073">PrepServerForLaunch</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> dmbToUse, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a1bc14906a6fb391ce835039400575073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the server to launch a new instance with the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4" title="The DreamDaemonLaunchParameters to be applied.">WatchdogBase.ActiveLaunchParameters</a> and a given <em>dmbToUse</em> . <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dmbToUse</td><td>The IDmbProvider to be launched. Will not be disposed by this function.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the modified IDmbProvider to be used.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1bc14906a6fb391ce835039400575073">More...</a><br /></td></tr>
<tr class="separator:a1bc14906a6fb391ce835039400575073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1845db5b55426291619a02d2d56b4fd"><td class="memItemLeft" align="right" valign="top">abstract ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad1845db5b55426291619a02d2d56b4fd">ApplyInitialDmb</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ad1845db5b55426291619a02d2d56b4fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_reattach_information.html#a6eaaa135ddbf3ac563f769b8032530b2" title="The IDmbProvider initially used to launch DreamDaemon. Should be a different IDmbProvider than Dmb....">ReattachInformation.InitialDmb</a> for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1" title="The single ISessionController.">BasicWatchdog.Server</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad1845db5b55426291619a02d2d56b4fd">More...</a><br /></td></tr>
<tr class="separator:ad1845db5b55426291619a02d2d56b4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc40d34050aab6b62e2f3b16482f27a"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a">CreateSwappableDmbProvider</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> dmbProvider)</td></tr>
<tr class="memdesc:afdc40d34050aab6b62e2f3b16482f27a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a SwappableDmbProvider for a given <em>dmbProvider</em> .   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a">More...</a><br /></td></tr>
<tr class="separator:afdc40d34050aab6b62e2f3b16482f27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d804c11d6598add968037617a3e06f"><td class="memItemLeft" align="right" valign="top">override async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a60d804c11d6598add968037617a3e06f">SessionStartupPersist</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a60d804c11d6598add968037617a3e06f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to save the current <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_server.html">Server</a> into the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5a3bafe5d390332f896cdaf43a8db55d" title="The ISessionPersistor for the WatchdogBase.">WatchdogBase.SessionPersistor</a> when initially launched. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a60d804c11d6598add968037617a3e06f">More...</a><br /></td></tr>
<tr class="separator:a60d804c11d6598add968037617a3e06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af92913ca3e4ef60daa783fc3bc1a0807"><td class="memItemLeft" align="right" valign="top">override async ValueTask&lt; <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#af92913ca3e4ef60daa783fc3bc1a0807">HandleMonitorWakeup</a> (<a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9">MonitorActivationReason</a> reason, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:af92913ca3e4ef60daa783fc3bc1a0807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the actions to take when the monitor has to "wake up". <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">activationReason</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9" title="Reasons for the monitor to wake up.">MonitorActivationReason</a> that caused the invocation. Will never be MonitorActivationReason.HealthCheck.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812" title="The action for the monitor loop to take when control is returned to it.">MonitorAction</a> to take.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#af92913ca3e4ef60daa783fc3bc1a0807">More...</a><br /></td></tr>
<tr class="separator:af92913ca3e4ef60daa783fc3bc1a0807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog</a></td></tr>
<tr class="memitem:ada8f7b456ea5697f2d3bb3bb01491d64 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">override async ValueTask&lt; <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#ada8f7b456ea5697f2d3bb3bb01491d64">HandleMonitorWakeup</a> (<a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9">MonitorActivationReason</a> reason, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ada8f7b456ea5697f2d3bb3bb01491d64 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the actions to take when the monitor has to "wake up". <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">activationReason</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9" title="Reasons for the monitor to wake up.">MonitorActivationReason</a> that caused the invocation. Will never be MonitorActivationReason.HealthCheck.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812" title="The action for the monitor loop to take when control is returned to it.">MonitorAction</a> to take.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#ada8f7b456ea5697f2d3bb3bb01491d64">More...</a><br /></td></tr>
<tr class="separator:ada8f7b456ea5697f2d3bb3bb01491d64 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ec9ca3abd941947bcc2aa0ab1f92f4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">override async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a17ec9ca3abd941947bcc2aa0ab1f92f4">DisposeAndNullControllersImpl</a> ()</td></tr>
<tr class="memdesc:a17ec9ca3abd941947bcc2aa0ab1f92f4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call IDisposable.Dispose and null the fields for all ISessionControllers. <dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a17ec9ca3abd941947bcc2aa0ab1f92f4">More...</a><br /></td></tr>
<tr class="separator:a17ec9ca3abd941947bcc2aa0ab1f92f4 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667300b8a8fbdcdb40dfad604dba50c6 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">sealed override? <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller.html">ISessionController</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a667300b8a8fbdcdb40dfad604dba50c6">GetActiveController</a> ()</td></tr>
<tr class="memdesc:a667300b8a8fbdcdb40dfad604dba50c6 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the active ISessionController. <dl class="section return"><dt>Returns</dt><dd>The active ISessionController, if any.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a667300b8a8fbdcdb40dfad604dba50c6">More...</a><br /></td></tr>
<tr class="separator:a667300b8a8fbdcdb40dfad604dba50c6 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857f98eb5a2516c2a70c35d684c2c21b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">override async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a857f98eb5a2516c2a70c35d684c2c21b">InitController</a> (ValueTask eventTask, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_reattach_information.html">ReattachInformation</a>? reattachInfo, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a857f98eb5a2516c2a70c35d684c2c21b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts all ISessionControllers. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventTask</td><td>A, possibly active, Task for an event that's running.</td></tr>
    <tr><td class="paramname">reattachInfo</td><td>ReattachInformation to use, if any.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Task representing the running operation.</dd></dl>
  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a857f98eb5a2516c2a70c35d684c2c21b">More...</a><br /></td></tr>
<tr class="separator:a857f98eb5a2516c2a70c35d684c2c21b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f5d6067b84ad5c4d3ae5b389aa664d inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">virtual ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a60f5d6067b84ad5c4d3ae5b389aa664d">SessionStartupPersist</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a60f5d6067b84ad5c4d3ae5b389aa664d inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to save the current <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_server.html">Server</a> into the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5a3bafe5d390332f896cdaf43a8db55d" title="The ISessionPersistor for the WatchdogBase.">WatchdogBase.SessionPersistor</a> when initially launched.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a60f5d6067b84ad5c4d3ae5b389aa664d">More...</a><br /></td></tr>
<tr class="separator:a60f5d6067b84ad5c4d3ae5b389aa664d inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e91ce47610a691e8dd0c9d85c32d78 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">virtual ValueTask&lt; <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#ac4e91ce47610a691e8dd0c9d85c32d78">HandleNormalReboot</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ac4e91ce47610a691e8dd0c9d85c32d78 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for MonitorActivationReason.ActiveServerRebooted when the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a162156e619faf7f253fce4c39b35559b" title="The Session.RebootState of the active server.">RebootState</a> is RebootState.Normal.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#ac4e91ce47610a691e8dd0c9d85c32d78">More...</a><br /></td></tr>
<tr class="separator:ac4e91ce47610a691e8dd0c9d85c32d78 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa374db79a957d1aeb2ba660afd3c535b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">virtual async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#aa374db79a957d1aeb2ba660afd3c535b">HandleNewDmbAvailable</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:aa374db79a957d1aeb2ba660afd3c535b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for MonitorActivationReason.NewDmbAvailable.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#aa374db79a957d1aeb2ba660afd3c535b">More...</a><br /></td></tr>
<tr class="separator:aa374db79a957d1aeb2ba660afd3c535b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98155f6324a06165159d1d3249564f7f inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">virtual ValueTask&lt; <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a98155f6324a06165159d1d3249564f7f">PrepServerForLaunch</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> dmbToUse, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a98155f6324a06165159d1d3249564f7f inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the server to launch a new instance with the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4" title="The DreamDaemonLaunchParameters to be applied.">WatchdogBase.ActiveLaunchParameters</a> and a given <em>dmbToUse</em> .   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a98155f6324a06165159d1d3249564f7f">More...</a><br /></td></tr>
<tr class="separator:a98155f6324a06165159d1d3249564f7f inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html">Tgstation.Server.Host.Components.Watchdog.WatchdogBase</a></td></tr>
<tr class="memitem:a1a62de2c2fd2249c313a1a8d382d996b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a1a62de2c2fd2249c313a1a8d382d996b">WatchdogBase</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html">IChatManager</a> chat, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller_factory.html">ISessionControllerFactory</a> sessionControllerFactory, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_factory.html">IDmbFactory</a> dmbFactory, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_persistor.html">ISessionPersistor</a> sessionPersistor, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a1688863ddcd7d0bbfa3ec13b7b015319">jobManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_control.html">IServerControl</a> serverControl, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_async_delayer.html">IAsyncDelayer</a> asyncDelayer, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8becb1115fe1c09c84534c798466e03f">diagnosticsIOManager</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html">IEventConsumer</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5768c37124d54e80c66dc63d28d0dea4">eventConsumer</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html">IRemoteDeploymentManagerFactory</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a72637a3ebe8925b7c3753416370ad83c">remoteDeploymentManagerFactory</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a> gameIOManager, ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html">WatchdogBase</a> &gt; logger, <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a> initialLaunchParameters, <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Api.Models.Instance</a> <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a52038e1a769f1114c492c76640a6afc8">metadata</a>, bool <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a410f168d84f80c138450fb42f222ba01">autoStart</a>)</td></tr>
<tr class="memdesc:a1a62de2c2fd2249c313a1a8d382d996b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a> class.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a1a62de2c2fd2249c313a1a8d382d996b">More...</a><br /></td></tr>
<tr class="separator:a1a62de2c2fd2249c313a1a8d382d996b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817e8ca4284258e610bf6070a944c7dd inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">abstract ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a817e8ca4284258e610bf6070a944c7dd">InitController</a> (ValueTask eventTask, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_reattach_information.html">ReattachInformation</a>? reattachInfo, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a817e8ca4284258e610bf6070a944c7dd inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts all ISessionControllers.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a817e8ca4284258e610bf6070a944c7dd">More...</a><br /></td></tr>
<tr class="separator:a817e8ca4284258e610bf6070a944c7dd inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbff1b419510f84375b7ca3dcf315b03 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#abbff1b419510f84375b7ca3dcf315b03">LaunchNoLock</a> (bool startMonitor, bool announce, bool announceFailure, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_reattach_information.html">ReattachInformation</a>? reattachInfo, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:abbff1b419510f84375b7ca3dcf315b03 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launches the watchdog.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#abbff1b419510f84375b7ca3dcf315b03">More...</a><br /></td></tr>
<tr class="separator:abbff1b419510f84375b7ca3dcf315b03 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf80bd8e764b8199c5f63aba6bf3de7 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aabf80bd8e764b8199c5f63aba6bf3de7">StopMonitor</a> ()</td></tr>
<tr class="memdesc:aabf80bd8e764b8199c5f63aba6bf3de7 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#adfec26f530228b80d384b86ee979ef2f" title="The main loop of the watchdog. Ayschronously waits for events to occur and then responds to them.">MonitorLifetimes(CancellationToken)</a>. Doesn't kill the servers.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aabf80bd8e764b8199c5f63aba6bf3de7">More...</a><br /></td></tr>
<tr class="separator:aabf80bd8e764b8199c5f63aba6bf3de7 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4512b6d6c1772682cf7666fc31a323 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a4f4512b6d6c1772682cf7666fc31a323">CheckLaunchResult</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller.html">ISessionController</a> controller, string serverName, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a4f4512b6d6c1772682cf7666fc31a323 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the LaunchResult of a given <em>controller</em>  for errors and throw a JobException if any are detected.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a4f4512b6d6c1772682cf7666fc31a323">More...</a><br /></td></tr>
<tr class="separator:a4f4512b6d6c1772682cf7666fc31a323 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d53273beb40a057f7f9423b48850702 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2d53273beb40a057f7f9423b48850702">ReattachFailure</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a2d53273beb40a057f7f9423b48850702 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call from InitController(ValueTask, ReattachInformation, CancellationToken) when a reattach operation fails to attempt a fresh start.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2d53273beb40a057f7f9423b48850702">More...</a><br /></td></tr>
<tr class="separator:a2d53273beb40a057f7f9423b48850702 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb29ff97cd95a61ab370d24685171a2 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">abstract ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aecb29ff97cd95a61ab370d24685171a2">DisposeAndNullControllersImpl</a> ()</td></tr>
<tr class="memdesc:aecb29ff97cd95a61ab370d24685171a2 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call IDisposable.Dispose and null the fields for all ISessionControllers.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aecb29ff97cd95a61ab370d24685171a2">More...</a><br /></td></tr>
<tr class="separator:aecb29ff97cd95a61ab370d24685171a2 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84983fa4b27fcdf9044aaf68ae82a50 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ac84983fa4b27fcdf9044aaf68ae82a50">DisposeAndNullControllers</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ac84983fa4b27fcdf9044aaf68ae82a50 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aecb29ff97cd95a61ab370d24685171a2" title="Call IDisposable.Dispose and null the fields for all ISessionControllers.">DisposeAndNullControllersImpl</a> under a locked context.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ac84983fa4b27fcdf9044aaf68ae82a50">More...</a><br /></td></tr>
<tr class="separator:ac84983fa4b27fcdf9044aaf68ae82a50 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53c08e5a2f37233940f3492207a760b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">abstract ? <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller.html">ISessionController</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ab53c08e5a2f37233940f3492207a760b">GetActiveController</a> ()</td></tr>
<tr class="memdesc:ab53c08e5a2f37233940f3492207a760b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the active ISessionController.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ab53c08e5a2f37233940f3492207a760b">More...</a><br /></td></tr>
<tr class="separator:ab53c08e5a2f37233940f3492207a760b inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354a45aca09fbccbe15dbe79d6675c97 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">abstract ValueTask&lt; <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a354a45aca09fbccbe15dbe79d6675c97">HandleMonitorWakeup</a> (<a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9">MonitorActivationReason</a> activationReason, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a354a45aca09fbccbe15dbe79d6675c97 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the actions to take when the monitor has to "wake up".   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a354a45aca09fbccbe15dbe79d6675c97">More...</a><br /></td></tr>
<tr class="separator:a354a45aca09fbccbe15dbe79d6675c97 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9efa04dfe5428a8ce1271600e2388a4e inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9efa04dfe5428a8ce1271600e2388a4e">BeforeApplyDmb</a> (<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_compile_job.html">Models.CompileJob</a> newCompileJob, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a9efa04dfe5428a8ce1271600e2388a4e inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">To be called before a given <em>newCompileJob</em>  goes live.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9efa04dfe5428a8ce1271600e2388a4e">More...</a><br /></td></tr>
<tr class="separator:a9efa04dfe5428a8ce1271600e2388a4e inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a7765d8a839d318fee44e8d63b6369 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#af1a7765d8a839d318fee44e8d63b6369">HandleEventImpl</a> (<a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_events.html#ac30c818717e92c8fb65f389adec739b7">EventType</a> eventType, IEnumerable&lt; string &gt; parameters, bool relayToSession, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:af1a7765d8a839d318fee44e8d63b6369 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a given <em>eventType</em>  without re-throwing errors.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#af1a7765d8a839d318fee44e8d63b6369">More...</a><br /></td></tr>
<tr class="separator:af1a7765d8a839d318fee44e8d63b6369 inherit pro_methods_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a2cec430edc7f34e510f8b741d7ffba2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a><code> [get, private set]</code></td></tr>
<tr class="memdesc:a2cec430edc7f34e510f8b741d7ffba2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The SwappableDmbProvider for <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a38066e15427a18f6e71f00526e797088" title="The DreamDaemonLaunchParameters the active server is using. This may not be the exact same as ActiveL...">WatchdogBase.LastLaunchParameters</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">More...</a><br /></td></tr>
<tr class="separator:a2cec430edc7f34e510f8b741d7ffba2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadaea6d8f22e45c5c9dd9299657a2d5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory.html">IFilesystemLinkFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#aadaea6d8f22e45c5c9dd9299657a2d5f">LinkFactory</a><code> [get]</code></td></tr>
<tr class="memdesc:aadaea6d8f22e45c5c9dd9299657a2d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IFilesystemLinkFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa...">AdvancedWatchdog</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#aadaea6d8f22e45c5c9dd9299657a2d5f">More...</a><br /></td></tr>
<tr class="separator:aadaea6d8f22e45c5c9dd9299657a2d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td colspan="2" onclick="javascript:toggleInherit('properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog</a></td></tr>
<tr class="memitem:ae69887bebd2d65ed9157984bd4f53b7d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">sealed override bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#ae69887bebd2d65ed9157984bd4f53b7d">AlphaIsActive</a><code> [get]</code></td></tr>
<tr class="memdesc:ae69887bebd2d65ed9157984bd4f53b7d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the alpha server is the active server.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#ae69887bebd2d65ed9157984bd4f53b7d">More...</a><br /></td></tr>
<tr class="separator:ae69887bebd2d65ed9157984bd4f53b7d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162156e619faf7f253fce4c39b35559b inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top">sealed override? <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_session.html#a3a9adb69be732dbd67aef59559f830c2">RebootState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a162156e619faf7f253fce4c39b35559b">RebootState</a><code> [get]</code></td></tr>
<tr class="memdesc:a162156e619faf7f253fce4c39b35559b inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_session.html#a3a9adb69be732dbd67aef59559f830c2" title="Represents the action to take when /world/Reboot() is called.">Session.RebootState</a> of the active server.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a162156e619faf7f253fce4c39b35559b">More...</a><br /></td></tr>
<tr class="separator:a162156e619faf7f253fce4c39b35559b inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352c01d12e9c200ab7829dcf1ec861c1 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller.html">ISessionController</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1">Server</a><code> [get, private set]</code></td></tr>
<tr class="memdesc:a352c01d12e9c200ab7829dcf1ec861c1 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">The single ISessionController.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1">More...</a><br /></td></tr>
<tr class="separator:a352c01d12e9c200ab7829dcf1ec861c1 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td colspan="2" onclick="javascript:toggleInherit('properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html">Tgstation.Server.Host.Components.Watchdog.WatchdogBase</a></td></tr>
<tr class="memitem:ae1d11c811875d5ceefaa909d00a41e79 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">long?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ae1d11c811875d5ceefaa909d00a41e79">SessionId</a><code> [get]</code></td></tr>
<tr class="memdesc:ae1d11c811875d5ceefaa909d00a41e79 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">An incrementing ID for representing current server execution.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#ae1d11c811875d5ceefaa909d00a41e79">More...</a><br /></td></tr>
<tr class="separator:ae1d11c811875d5ceefaa909d00a41e79 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa8be05b0c448ea097a70e5d8708ffb inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#abcc98739b8feb9dd6744647f287e0683">WatchdogStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5fa8be05b0c448ea097a70e5d8708ffb">Status</a><code> [get, protected set]</code></td></tr>
<tr class="memdesc:a5fa8be05b0c448ea097a70e5d8708ffb inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#abcc98739b8feb9dd6744647f287e0683" title="The current status of the watchdog.">WatchdogStatus</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5fa8be05b0c448ea097a70e5d8708ffb">More...</a><br /></td></tr>
<tr class="separator:a5fa8be05b0c448ea097a70e5d8708ffb inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4fa4e8d788b4ab297342e88b5714e8 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">long?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8b4fa4e8d788b4ab297342e88b5714e8">MemoryUsage</a><code> [get]</code></td></tr>
<tr class="memdesc:a8b4fa4e8d788b4ab297342e88b5714e8 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the memory usage of the game server in bytes.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8b4fa4e8d788b4ab297342e88b5714e8">More...</a><br /></td></tr>
<tr class="separator:a8b4fa4e8d788b4ab297342e88b5714e8 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f77bb87d63b1a1a50aac89ad909f29 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">abstract bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a39f77bb87d63b1a1a50aac89ad909f29">AlphaIsActive</a><code> [get]</code></td></tr>
<tr class="memdesc:a39f77bb87d63b1a1a50aac89ad909f29 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the alpha server is the active server.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a39f77bb87d63b1a1a50aac89ad909f29">More...</a><br /></td></tr>
<tr class="separator:a39f77bb87d63b1a1a50aac89ad909f29 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9affc2eeae2903d1bdb0fa81a6550fc4 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4">ActiveLaunchParameters</a><code> [get, protected set]</code></td></tr>
<tr class="memdesc:a9affc2eeae2903d1bdb0fa81a6550fc4 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemonLaunchParameters to be applied.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4">More...</a><br /></td></tr>
<tr class="separator:a9affc2eeae2903d1bdb0fa81a6550fc4 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38066e15427a18f6e71f00526e797088 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a38066e15427a18f6e71f00526e797088">LastLaunchParameters</a><code> [get, protected set]</code></td></tr>
<tr class="memdesc:a38066e15427a18f6e71f00526e797088 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemonLaunchParameters the active server is using. This may not be the exact same as <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a19270c2054e4431802fdf5a59f9b3518" title="The DreamDaemonLaunchParameters to be applied.">ActiveLaunchParameters</a> but still be associated with the same session.  <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a38066e15427a18f6e71f00526e797088">More...</a><br /></td></tr>
<tr class="separator:a38066e15427a18f6e71f00526e797088 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c1f65bce4d161d81063e4c426265f4 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">Models.? <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job.html">CompileJob</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">ActiveCompileJob</a><code> [get]</code></td></tr>
<tr class="memdesc:a30c1f65bce4d161d81063e4c426265f4 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_compile_job.html">Models.CompileJob</a> currently running on the server.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">More...</a><br /></td></tr>
<tr class="separator:a30c1f65bce4d161d81063e4c426265f4 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc3f8e6c5569555d358578e612a1920 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">abstract ? <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_session.html#a3a9adb69be732dbd67aef59559f830c2">RebootState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5bc3f8e6c5569555d358578e612a1920">RebootState</a><code> [get]</code></td></tr>
<tr class="memdesc:a5bc3f8e6c5569555d358578e612a1920 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_session.html#a3a9adb69be732dbd67aef59559f830c2" title="Represents the action to take when /world/Reboot() is called.">Session.RebootState</a> of the active server.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5bc3f8e6c5569555d358578e612a1920">More...</a><br /></td></tr>
<tr class="separator:a5bc3f8e6c5569555d358578e612a1920 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3bafe5d390332f896cdaf43a8db55d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_persistor.html">ISessionPersistor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5a3bafe5d390332f896cdaf43a8db55d">SessionPersistor</a><code> [get]</code></td></tr>
<tr class="memdesc:a5a3bafe5d390332f896cdaf43a8db55d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ISessionPersistor for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5a3bafe5d390332f896cdaf43a8db55d">More...</a><br /></td></tr>
<tr class="separator:a5a3bafe5d390332f896cdaf43a8db55d inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2143ec7079d0ffd42c76f61cf7b71cf6 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top">ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html">WatchdogBase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a><code> [get]</code></td></tr>
<tr class="memdesc:a2143ec7079d0ffd42c76f61cf7b71cf6 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ILogger for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">More...</a><br /></td></tr>
<tr class="separator:a2143ec7079d0ffd42c76f61cf7b71cf6 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec24ff5e3b22b40e62f4a2443eb8cec9 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html">IChatManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aec24ff5e3b22b40e62f4a2443eb8cec9">Chat</a><code> [get]</code></td></tr>
<tr class="memdesc:aec24ff5e3b22b40e62f4a2443eb8cec9 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IChatManager for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aec24ff5e3b22b40e62f4a2443eb8cec9">More...</a><br /></td></tr>
<tr class="separator:aec24ff5e3b22b40e62f4a2443eb8cec9 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24eb5f0e32cd79487cd9bd80d5257abb inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller_factory.html">ISessionControllerFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a24eb5f0e32cd79487cd9bd80d5257abb">SessionControllerFactory</a><code> [get]</code></td></tr>
<tr class="memdesc:a24eb5f0e32cd79487cd9bd80d5257abb inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ISessionControllerFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a24eb5f0e32cd79487cd9bd80d5257abb">More...</a><br /></td></tr>
<tr class="separator:a24eb5f0e32cd79487cd9bd80d5257abb inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401d41a1b1b805f553f53b35f46275ef inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_factory.html">IDmbFactory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a401d41a1b1b805f553f53b35f46275ef">DmbFactory</a><code> [get]</code></td></tr>
<tr class="memdesc:a401d41a1b1b805f553f53b35f46275ef inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IDmbFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a401d41a1b1b805f553f53b35f46275ef">More...</a><br /></td></tr>
<tr class="separator:a401d41a1b1b805f553f53b35f46275ef inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbdc59de3b3556a08bd111264527f369 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_async_delayer.html">IAsyncDelayer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#abbdc59de3b3556a08bd111264527f369">AsyncDelayer</a><code> [get]</code></td></tr>
<tr class="memdesc:abbdc59de3b3556a08bd111264527f369 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IAsyncDelayer for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#abbdc59de3b3556a08bd111264527f369">More...</a><br /></td></tr>
<tr class="separator:abbdc59de3b3556a08bd111264527f369 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9954fc5d6d0fcc3625b171ac6877b565 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9954fc5d6d0fcc3625b171ac6877b565">GameIOManager</a><code> [get]</code></td></tr>
<tr class="memdesc:a9954fc5d6d0fcc3625b171ac6877b565 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IIOManager for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a> pointing to the Game directory.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9954fc5d6d0fcc3625b171ac6877b565">More...</a><br /></td></tr>
<tr class="separator:a9954fc5d6d0fcc3625b171ac6877b565 inherit properties_class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td colspan="2" onclick="javascript:toggleInherit('properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html">Tgstation.Server.Host.Components.Watchdog.IWatchdog</a></td></tr>
<tr class="memitem:a4f701ad6f7337369f5360ff583a3cc7a inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top">long?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a4f701ad6f7337369f5360ff583a3cc7a">SessionId</a><code> [get]</code></td></tr>
<tr class="memdesc:a4f701ad6f7337369f5360ff583a3cc7a inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">An incrementing ID for representing current server execution.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a4f701ad6f7337369f5360ff583a3cc7a">More...</a><br /></td></tr>
<tr class="separator:a4f701ad6f7337369f5360ff583a3cc7a inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f00a3e7109a861886d14e6233d8b43 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#abcc98739b8feb9dd6744647f287e0683">WatchdogStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a81f00a3e7109a861886d14e6233d8b43">Status</a><code> [get]</code></td></tr>
<tr class="memdesc:a81f00a3e7109a861886d14e6233d8b43 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current <a class="el" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#abcc98739b8feb9dd6744647f287e0683" title="The current status of the watchdog.">WatchdogStatus</a>.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a81f00a3e7109a861886d14e6233d8b43">More...</a><br /></td></tr>
<tr class="separator:a81f00a3e7109a861886d14e6233d8b43 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a33e2fa1f4650d86e90c731a1588aa inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top">long?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a02a33e2fa1f4650d86e90c731a1588aa">MemoryUsage</a><code> [get]</code></td></tr>
<tr class="memdesc:a02a33e2fa1f4650d86e90c731a1588aa inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the memory usage of the game server in bytes.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a02a33e2fa1f4650d86e90c731a1588aa">More...</a><br /></td></tr>
<tr class="separator:a02a33e2fa1f4650d86e90c731a1588aa inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbbd1824bcf972a1eb312c12780fc0bc inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#abbbd1824bcf972a1eb312c12780fc0bc">AlphaIsActive</a><code> [get]</code></td></tr>
<tr class="memdesc:abbbd1824bcf972a1eb312c12780fc0bc inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the alpha server is the active server.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#abbbd1824bcf972a1eb312c12780fc0bc">More...</a><br /></td></tr>
<tr class="separator:abbbd1824bcf972a1eb312c12780fc0bc inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7989a86bba4558c54e85f4e2028ee588 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top">Models.? <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job.html">CompileJob</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a7989a86bba4558c54e85f4e2028ee588">ActiveCompileJob</a><code> [get]</code></td></tr>
<tr class="memdesc:a7989a86bba4558c54e85f4e2028ee588 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_models_1_1_compile_job.html">Models.CompileJob</a> currently running on the server.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a7989a86bba4558c54e85f4e2028ee588">More...</a><br /></td></tr>
<tr class="separator:a7989a86bba4558c54e85f4e2028ee588 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19270c2054e4431802fdf5a59f9b3518 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a19270c2054e4431802fdf5a59f9b3518">ActiveLaunchParameters</a><code> [get]</code></td></tr>
<tr class="memdesc:a19270c2054e4431802fdf5a59f9b3518 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemonLaunchParameters to be applied.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a19270c2054e4431802fdf5a59f9b3518">More...</a><br /></td></tr>
<tr class="separator:a19270c2054e4431802fdf5a59f9b3518 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96dd16213c44b74ce05e98b4805361a8 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a96dd16213c44b74ce05e98b4805361a8">LastLaunchParameters</a><code> [get]</code></td></tr>
<tr class="memdesc:a96dd16213c44b74ce05e98b4805361a8 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DreamDaemonLaunchParameters the active server is using.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a96dd16213c44b74ce05e98b4805361a8">More...</a><br /></td></tr>
<tr class="separator:a96dd16213c44b74ce05e98b4805361a8 inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0145fd1816a703bcb80fd8e107034f4c inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_session.html#a3a9adb69be732dbd67aef59559f830c2">RebootState</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a0145fd1816a703bcb80fd8e107034f4c">RebootState</a><code> [get]</code></td></tr>
<tr class="memdesc:a0145fd1816a703bcb80fd8e107034f4c inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_session.html#a3a9adb69be732dbd67aef59559f830c2" title="Represents the action to take when /world/Reboot() is called.">Session.RebootState</a> of the active server.   <a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html#a0145fd1816a703bcb80fd8e107034f4c">More...</a><br /></td></tr>
<tr class="separator:a0145fd1816a703bcb80fd8e107034f4c inherit properties_interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0e09a241beb5aa99fcff9987bd6b5799"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0e09a241beb5aa99fcff9987bd6b5799">CanUseSwappableDmbProvider</a> (<a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> dmbProvider)</td></tr>
<tr class="memdesc:a0e09a241beb5aa99fcff9987bd6b5799"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the SwappableDmbProvider feature of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa...">AdvancedWatchdog</a> can be used with a given <em>dmbProvider</em> .   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0e09a241beb5aa99fcff9987bd6b5799">More...</a><br /></td></tr>
<tr class="separator:a0e09a241beb5aa99fcff9987bd6b5799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1845f3dca4597a726053daa649565c5f"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1845f3dca4597a726053daa649565c5f">InitialLink</a> (CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a1845f3dca4597a726053daa649565c5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the initial link to the live game directory using <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f" title="The SwappableDmbProvider for WatchdogBase.LastLaunchParameters.">ActiveSwappable</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1845f3dca4597a726053daa649565c5f">More...</a><br /></td></tr>
<tr class="separator:a1845f3dca4597a726053daa649565c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b9818a9a73bbf86d9353c30e23197f"><td class="memItemLeft" align="right" valign="top">async ValueTask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad7b9818a9a73bbf86d9353c30e23197f">PerformDmbSwap</a> (<a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a> newProvider, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:ad7b9818a9a73bbf86d9353c30e23197f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspends the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1" title="The single ISessionController.">BasicWatchdog.Server</a> and calls <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e" title="Make the SwappableDmbProvider active by replacing the live link with our CompileJob.">SwappableDmbProvider.MakeActive(CancellationToken)</a> on a <em>newProvider</em> .   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad7b9818a9a73bbf86d9353c30e23197f">More...</a><br /></td></tr>
<tr class="separator:ad7b9818a9a73bbf86d9353c30e23197f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59895d5671d2f658a9ac0f9dbda73dca"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca">DrainDeploymentCleanupTasks</a> (bool blocking)</td></tr>
<tr class="memdesc:a59895d5671d2f658a9ac0f9dbda73dca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously drain <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982" title="List&lt;T&gt; of Tasks that are waiting to clean up old deployments.">deploymentCleanupTasks</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca">More...</a><br /></td></tr>
<tr class="separator:a59895d5671d2f658a9ac0f9dbda73dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0484c9175cd700015e03340d48b20982"><td class="memItemLeft" align="right" valign="top">readonly List&lt; Task &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a></td></tr>
<tr class="memdesc:a0484c9175cd700015e03340d48b20982"><td class="mdescLeft">&#160;</td><td class="mdescRight">List&lt;T&gt; of Tasks that are waiting to clean up old deployments.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">More...</a><br /></td></tr>
<tr class="separator:a0484c9175cd700015e03340d48b20982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc4476bb374c24de6c4c8be76ad9746"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a>?&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a></td></tr>
<tr class="memdesc:a0fc4476bb374c24de6c4c8be76ad9746"><td class="mdescLeft">&#160;</td><td class="mdescRight">The active SwappableDmbProvider for <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4" title="The DreamDaemonLaunchParameters to be applied.">WatchdogBase.ActiveLaunchParameters</a>.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">More...</a><br /></td></tr>
<tr class="separator:a0fc4476bb374c24de6c4c8be76ad9746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac164bca1223c8bfced2f1774464b8648"><td class="memItemLeft" align="right" valign="top">volatile? TaskCompletionSource&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ac164bca1223c8bfced2f1774464b8648">deploymentCleanupGate</a></td></tr>
<tr class="memdesc:ac164bca1223c8bfced2f1774464b8648"><td class="mdescLeft">&#160;</td><td class="mdescRight">The TaskCompletionSource representing the cleanup of an unused IDmbProvider.   <a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ac164bca1223c8bfced2f1774464b8648">More...</a><br /></td></tr>
<tr class="separator:ac164bca1223c8bfced2f1774464b8648"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_i_watchdog.html" title="Runs and monitors the twin server controllers.">IWatchdog</a> that, instead of killing servers for updates, uses the wonders of filesystem links to swap out changes without killing the server process.  </p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00026">26</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acb48f966670f07a01c89a708fc82411a" name="acb48f966670f07a01c89a708fc82411a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb48f966670f07a01c89a708fc82411a">&#9670;&#160;</a></span>AdvancedWatchdog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.AdvancedWatchdog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html">IChatManager</a>&#160;</td>
          <td class="paramname"><em>chat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_controller_factory.html">ISessionControllerFactory</a>&#160;</td>
          <td class="paramname"><em>sessionControllerFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_factory.html">IDmbFactory</a>&#160;</td>
          <td class="paramname"><em>dmbFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_i_session_persistor.html">ISessionPersistor</a>&#160;</td>
          <td class="paramname"><em>sessionPersistor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_jobs_1_1_i_job_manager.html">IJobManager</a>&#160;</td>
          <td class="paramname"><em>jobManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_core_1_1_i_server_control.html">IServerControl</a>&#160;</td>
          <td class="paramname"><em>serverControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_utils_1_1_i_async_delayer.html">IAsyncDelayer</a>&#160;</td>
          <td class="paramname"><em>asyncDelayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a>&#160;</td>
          <td class="paramname"><em>diagnosticsIOManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html">IEventConsumer</a>&#160;</td>
          <td class="paramname"><em>eventConsumer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html">IRemoteDeploymentManagerFactory</a>&#160;</td>
          <td class="paramname"><em>remoteDeploymentManagerFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_i_o_manager.html">IIOManager</a>&#160;</td>
          <td class="paramname"><em>gameIOManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory.html">IFilesystemLinkFactory</a>&#160;</td>
          <td class="paramname"><em>linkFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ILogger&lt; <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html">AdvancedWatchdog</a> &gt;&#160;</td>
          <td class="paramname"><em>logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html">DreamDaemonLaunchParameters</a>&#160;</td>
          <td class="paramname"><em>initialLaunchParameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html">Api.Models.Instance</a>&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>autoStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new instance of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa...">AdvancedWatchdog</a> class.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chat</td><td>The IChatManager for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">sessionControllerFactory</td><td>The ISessionControllerFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">dmbFactory</td><td>The IDmbFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">sessionPersistor</td><td>The ISessionPersistor for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">jobManager</td><td>The IJobManager for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">serverControl</td><td>The IServerControl for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">asyncDelayer</td><td>The IAsyncDelayer for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">diagnosticsIOManager</td><td>The 'Diagnostics' IIOManager for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">eventConsumer</td><td>The IEventConsumer for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">remoteDeploymentManagerFactory</td><td>The IRemoteDeploymentManagerFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">gameIOManager</td><td>The 'Game' IIOManager for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">linkFactory</td><td>The value of <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#aadaea6d8f22e45c5c9dd9299657a2d5f" title="The IFilesystemLinkFactory for the AdvancedWatchdog.">LinkFactory</a>.</td></tr>
    <tr><td class="paramname">logger</td><td>The ILogger for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">initialLaunchParameters</td><td>The DreamDaemonLaunchParameters for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">instance</td><td>The <a class="el" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_instance.html" title="Metadata about a server instance.">Api.Models.Instance</a> for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
    <tr><td class="paramname">autoStart</td><td>The autostart value for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html" title="Base class for IWatchdogs.">WatchdogBase</a>.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00072">72</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>            : base(</div>
<div class="line"><span class="lineno">   90</span>                chat,</div>
<div class="line"><span class="lineno">   91</span>                sessionControllerFactory,</div>
<div class="line"><span class="lineno">   92</span>                dmbFactory,</div>
<div class="line"><span class="lineno">   93</span>                sessionPersistor,</div>
<div class="line"><span class="lineno">   94</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a1688863ddcd7d0bbfa3ec13b7b015319">jobManager</a>,</div>
<div class="line"><span class="lineno">   95</span>                serverControl,</div>
<div class="line"><span class="lineno">   96</span>                asyncDelayer,</div>
<div class="line"><span class="lineno">   97</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8becb1115fe1c09c84534c798466e03f">diagnosticsIOManager</a>,</div>
<div class="line"><span class="lineno">   98</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5768c37124d54e80c66dc63d28d0dea4">eventConsumer</a>,</div>
<div class="line"><span class="lineno">   99</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a72637a3ebe8925b7c3753416370ad83c">remoteDeploymentManagerFactory</a>,</div>
<div class="line"><span class="lineno">  100</span>                gameIOManager,</div>
<div class="line"><span class="lineno">  101</span>                logger,</div>
<div class="line"><span class="lineno">  102</span>                initialLaunchParameters,</div>
<div class="line"><span class="lineno">  103</span>                instance,</div>
<div class="line"><span class="lineno">  104</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a410f168d84f80c138450fb42f222ba01">autoStart</a>)</div>
<div class="line"><span class="lineno">  105</span>        {</div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  107</span>            {</div>
<div class="line"><span class="lineno">  108</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#aadaea6d8f22e45c5c9dd9299657a2d5f">LinkFactory</a> = linkFactory ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(linkFactory));</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a> = <span class="keyword">new</span> List&lt;Task&gt;();</div>
<div class="line"><span class="lineno">  111</span>            }</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">catch</span></div>
<div class="line"><span class="lineno">  113</span>            {</div>
<div class="line"><span class="lineno">  114</span>                <span class="comment">// Async dispose is for if we have controllers running, not the case here</span></div>
<div class="line"><span class="lineno">  115</span>                var disposeTask = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a6f69db8c3ceae298404f5d8d5a7312b3">DisposeAsync</a>();</div>
<div class="line"><span class="lineno">  116</span>                Debug.Assert(disposeTask.IsCompleted, <span class="stringliteral">&quot;This should always be true during construction!&quot;</span>);</div>
<div class="line"><span class="lineno">  117</span>                disposeTask.GetAwaiter().GetResult();</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  120</span>            }</div>
<div class="line"><span class="lineno">  121</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_a0484c9175cd700015e03340d48b20982"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupTasks</a></div><div class="ttdeci">readonly List&lt; Task &gt; deploymentCleanupTasks</div><div class="ttdoc">List&lt;T&gt; of Tasks that are waiting to clean up old deployments.</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00041">AdvancedWatchdog.cs:41</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_aadaea6d8f22e45c5c9dd9299657a2d5f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#aadaea6d8f22e45c5c9dd9299657a2d5f">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.LinkFactory</a></div><div class="ttdeci">IFilesystemLinkFactory LinkFactory</div><div class="ttdoc">The IFilesystemLinkFactory for the AdvancedWatchdog.</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00036">AdvancedWatchdog.cs:36</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a1688863ddcd7d0bbfa3ec13b7b015319"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a1688863ddcd7d0bbfa3ec13b7b015319">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.jobManager</a></div><div class="ttdeci">readonly IJobManager jobManager</div><div class="ttdoc">The IJobManager for the WatchdogBase.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00129">WatchdogBase.cs:129</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a410f168d84f80c138450fb42f222ba01"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a410f168d84f80c138450fb42f222ba01">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.autoStart</a></div><div class="ttdeci">readonly bool autoStart</div><div class="ttdoc">If the WatchdogBase should LaunchNoLock(bool, bool, bool, ReattachInformation, CancellationToken) in ...</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00149">WatchdogBase.cs:149</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a5768c37124d54e80c66dc63d28d0dea4"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5768c37124d54e80c66dc63d28d0dea4">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.eventConsumer</a></div><div class="ttdeci">readonly IEventConsumer eventConsumer</div><div class="ttdoc">The IEventConsumer that is not the WatchdogBase.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00124">WatchdogBase.cs:124</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a6f69db8c3ceae298404f5d8d5a7312b3"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a6f69db8c3ceae298404f5d8d5a7312b3">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.DisposeAsync</a></div><div class="ttdeci">async ValueTask DisposeAsync()</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00261">WatchdogBase.cs:261</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a72637a3ebe8925b7c3753416370ad83c"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a72637a3ebe8925b7c3753416370ad83c">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.remoteDeploymentManagerFactory</a></div><div class="ttdeci">readonly IRemoteDeploymentManagerFactory remoteDeploymentManagerFactory</div><div class="ttdoc">The IRemoteDeploymentManagerFactory for the WatchdogBase.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00144">WatchdogBase.cs:144</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a8becb1115fe1c09c84534c798466e03f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a8becb1115fe1c09c84534c798466e03f">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.diagnosticsIOManager</a></div><div class="ttdeci">readonly IIOManager diagnosticsIOManager</div><div class="ttdoc">The IIOManager pointing to the Diagnostics directory.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00139">WatchdogBase.cs:139</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_advanced_watchdog_8cs_source.html#l00041">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupTasks</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00261">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.DisposeAsync()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00036">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.LinkFactory</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_acb48f966670f07a01c89a708fc82411a_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_acb48f966670f07a01c89a708fc82411a_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_acb48f966670f07a01c89a708fc82411a_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_acb48f966670f07a01c89a708fc82411a_cgraph">
<area shape="rect" title="Initializes a new instance of the AdvancedWatchdog class." alt="" coords="5,13,324,53"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a6f69db8c3ceae298404f5d8d5a7312b3" title=" " alt="" coords="372,13,629,53"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aecb29ff97cd95a61ab370d24685171a2" title="Call IDisposable.Dispose and null the fields for all ISessionControllers." alt="" coords="677,5,944,60"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad1845db5b55426291619a02d2d56b4fd" name="ad1845db5b55426291619a02d2d56b4fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1845db5b55426291619a02d2d56b4fd">&#9670;&#160;</a></span>ApplyInitialDmb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract ValueTask Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ApplyInitialDmb </td>
          <td>(</td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_reattach_information.html#a6eaaa135ddbf3ac563f769b8032530b2" title="The IDmbProvider initially used to launch DreamDaemon. Should be a different IDmbProvider than Dmb....">ReattachInformation.InitialDmb</a> for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1" title="The single ISessionController.">BasicWatchdog.Server</a>.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>

<p>Implemented in <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_posix_watchdog.html#ad056bcf0ec2760d500e773ed89baf1f0">Tgstation.Server.Host.Components.Watchdog.PosixWatchdog</a>, and <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_windows_watchdog.html#afc1dbfba155a6320604f4068083d9787">Tgstation.Server.Host.Components.Watchdog.WindowsWatchdog</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00331">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.SessionStartupPersist()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad1845db5b55426291619a02d2d56b4fd_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad1845db5b55426291619a02d2d56b4fd_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad1845db5b55426291619a02d2d56b4fd_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad1845db5b55426291619a02d2d56b4fd_icgraph">
<area shape="rect" title="Set the ReattachInformation.InitialDmb for the BasicWatchdog.Server." alt="" coords="344,13,636,53"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a60d804c11d6598add968037617a3e06f" title="Called to save the current Server into the WatchdogBase.SessionPersistor when initially launched...." alt="" coords="5,5,296,60"/>
</map>
</div>

</div>
</div>
<a id="a0e09a241beb5aa99fcff9987bd6b5799" name="a0e09a241beb5aa99fcff9987bd6b5799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e09a241beb5aa99fcff9987bd6b5799">&#9670;&#160;</a></span>CanUseSwappableDmbProvider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CanUseSwappableDmbProvider </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a>&#160;</td>
          <td class="paramname"><em>dmbProvider</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the SwappableDmbProvider feature of the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa...">AdvancedWatchdog</a> can be used with a given <em>dmbProvider</em> .  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dmbProvider</td><td>The IDmbProvider that is to be activated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if swapping is possible, <code>false</code> otherwise.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00352">352</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  353</span>        {</div>
<div class="line"><span class="lineno">  354</span>            <span class="keywordflow">if</span> (dmbProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#a1b5874e4f5733aa7a04b397450f40792">EngineVersion</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_engine_version.html#ae13db4c5dbd6b06c79d37ad9afd25af2">Engine</a> != <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad8fb60934662752c4bbed899440208ea">EngineType</a>.Byond)</div>
<div class="line"><span class="lineno">  355</span>            {</div>
<div class="line"><span class="lineno">  356</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogDebug(<span class="stringliteral">&quot;Not using SwappableDmbProvider for engine type {engineType}&quot;</span>, dmbProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#a1b5874e4f5733aa7a04b397450f40792">EngineVersion</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_engine_version.html#ae13db4c5dbd6b06c79d37ad9afd25af2">Engine</a>);</div>
<div class="line"><span class="lineno">  357</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  358</span>            }</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  361</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_engine_version_html_ae13db4c5dbd6b06c79d37ad9afd25af2"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_engine_version.html#ae13db4c5dbd6b06c79d37ad9afd25af2">Tgstation.Server.Api.Models.EngineVersion.Engine</a></div><div class="ttdeci">EngineType? Engine</div><div class="ttdoc">The EngineType.</div><div class="ttdef"><b>Definition:</b> <a href="_engine_version_8cs_source.html#l00024">EngineVersion.cs:24</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a2143ec7079d0ffd42c76f61cf7b71cf6"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a></div><div class="ttdeci">ILogger&lt; WatchdogBase &gt; Logger</div><div class="ttdoc">The ILogger for the WatchdogBase.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00079">WatchdogBase.cs:79</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider_html_a1b5874e4f5733aa7a04b397450f40792"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#a1b5874e4f5733aa7a04b397450f40792">Tgstation.Server.Host.Components.Deployment.IDmbProvider.EngineVersion</a></div><div class="ttdeci">EngineVersion EngineVersion</div><div class="ttdoc">The Api.Models.EngineVersion used to build the .dmb.</div><div class="ttdef"><b>Definition:</b> <a href="_i_dmb_provider_8cs_source.html#l00030">IDmbProvider.cs:30</a></div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_api_1_1_models_html_ad8fb60934662752c4bbed899440208ea"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_api_1_1_models.html#ad8fb60934662752c4bbed899440208ea">Tgstation.Server.Api.Models.EngineType</a></div><div class="ttdeci">EngineType</div><div class="ttdoc">The type of engine the codebase is using.</div><div class="ttdef"><b>Definition:</b> <a href="_engine_type_8cs_source.html#l00006">EngineType.cs:7</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_engine_version_8cs_source.html#l00024">Tgstation.Server.Api.Models.EngineVersion.Engine</a>, <a class="el" href="_i_dmb_provider_8cs_source.html#l00030">Tgstation.Server.Host.Components.Deployment.IDmbProvider.EngineVersion</a>, and <a class="el" href="_watchdog_base_8cs_source.html#l00079">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00233">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNewDmbAvailable()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00289">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PrepServerForLaunch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a0e09a241beb5aa99fcff9987bd6b5799_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a0e09a241beb5aa99fcff9987bd6b5799_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a0e09a241beb5aa99fcff9987bd6b5799_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a0e09a241beb5aa99fcff9987bd6b5799_icgraph">
<area shape="rect" title="If the SwappableDmbProvider feature of the AdvancedWatchdog can be used with a given dmbProvider ." alt="" coords="324,45,637,100"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#abc18654a9da3b33e0c5201fe3c376374" title="Handler for MonitorActivationReason.NewDmbAvailable. A ValueTask representing the running operation." alt="" coords="5,5,276,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1bc14906a6fb391ce835039400575073" title="Prepare the server to launch a new instance with the WatchdogBase.ActiveLaunchParameters and a given ..." alt="" coords="7,84,274,139"/>
</map>
</div>

</div>
</div>
<a id="afdc40d34050aab6b62e2f3b16482f27a" name="afdc40d34050aab6b62e2f3b16482f27a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc40d34050aab6b62e2f3b16482f27a">&#9670;&#160;</a></span>CreateSwappableDmbProvider()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a> Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CreateSwappableDmbProvider </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a>&#160;</td>
          <td class="paramname"><em>dmbProvider</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a SwappableDmbProvider for a given <em>dmbProvider</em> .  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dmbProvider</td><td>The IDmbProvider to create a SwappableDmbProvider for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new SwappableDmbProvider.</dd></dl>

<p>Implemented in <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_posix_watchdog.html#aa902364eb189debc8123f866f41936e7">Tgstation.Server.Host.Components.Watchdog.PosixWatchdog</a>, and <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_windows_watchdog.html#abf10d916751f23d4cd401da9bc683208">Tgstation.Server.Host.Components.Watchdog.WindowsWatchdog</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00233">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNewDmbAvailable()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00289">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PrepServerForLaunch()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_afdc40d34050aab6b62e2f3b16482f27a_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_afdc40d34050aab6b62e2f3b16482f27a_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_afdc40d34050aab6b62e2f3b16482f27a_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_afdc40d34050aab6b62e2f3b16482f27a_icgraph">
<area shape="rect" title="Create a SwappableDmbProvider for a given dmbProvider ." alt="" coords="324,45,628,100"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#abc18654a9da3b33e0c5201fe3c376374" title="Handler for MonitorActivationReason.NewDmbAvailable. A ValueTask representing the running operation." alt="" coords="5,5,276,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1bc14906a6fb391ce835039400575073" title="Prepare the server to launch a new instance with the WatchdogBase.ActiveLaunchParameters and a given ..." alt="" coords="7,84,274,139"/>
</map>
</div>

</div>
</div>
<a id="ad685dab25c922c43bff30f2822811c2b" name="ad685dab25c922c43bff30f2822811c2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad685dab25c922c43bff30f2822811c2b">&#9670;&#160;</a></span>DisposeAndNullControllersImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sealed override async ValueTask Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DisposeAndNullControllersImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call IDisposable.Dispose and null the fields for all ISessionControllers. <dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
 </p>

<p>Implements <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aecb29ff97cd95a61ab370d24685171a2">Tgstation.Server.Host.Components.Watchdog.WatchdogBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00124">124</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>        {</div>
<div class="line"><span class="lineno">  126</span>            await base.DisposeAndNullControllersImpl();</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>            <span class="comment">// If we reach this point, we can guarantee PrepServerForLaunch will be called before starting again.</span></div>
<div class="line"><span class="lineno">  129</span>            <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  132</span>            {</div>
<div class="line"><span class="lineno">  133</span>                await <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#afd7fb5a2e71e584df10c62620fb5e174">DisposeAsync</a>();</div>
<div class="line"><span class="lineno">  134</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  135</span>            }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>            await <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca">DrainDeploymentCleanupTasks</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  138</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider_html_afd7fb5a2e71e584df10c62620fb5e174"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#afd7fb5a2e71e584df10c62620fb5e174">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.DisposeAsync</a></div><div class="ttdeci">virtual ValueTask DisposeAsync()</div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_a0fc4476bb374c24de6c4c8be76ad9746"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.pendingSwappable</a></div><div class="ttdeci">SwappableDmbProvider? pendingSwappable</div><div class="ttdoc">The active SwappableDmbProvider for WatchdogBase.ActiveLaunchParameters.</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00046">AdvancedWatchdog.cs:46</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_a2cec430edc7f34e510f8b741d7ffba2f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ActiveSwappable</a></div><div class="ttdeci">SwappableDmbProvider? ActiveSwappable</div><div class="ttdoc">The SwappableDmbProvider for WatchdogBase.LastLaunchParameters.</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00031">AdvancedWatchdog.cs:31</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_a59895d5671d2f658a9ac0f9dbda73dca"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DrainDeploymentCleanupTasks</a></div><div class="ttdeci">Task DrainDeploymentCleanupTasks(bool blocking)</div><div class="ttdoc">Asynchronously drain deploymentCleanupTasks.</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00417">AdvancedWatchdog.cs:417</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_advanced_watchdog_8cs_source.html#l00031">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ActiveSwappable</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#afd7fb5a2e71e584df10c62620fb5e174">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.DisposeAsync()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00417">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DrainDeploymentCleanupTasks()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00046">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.pendingSwappable</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad685dab25c922c43bff30f2822811c2b_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad685dab25c922c43bff30f2822811c2b_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad685dab25c922c43bff30f2822811c2b_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad685dab25c922c43bff30f2822811c2b_cgraph">
<area shape="rect" title="Call IDisposable.Dispose and null the fields for all ISessionControllers. A ValueTask representing th..." alt="" coords="5,34,277,89"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#afd7fb5a2e71e584df10c62620fb5e174" title=" " alt="" coords="325,5,644,45"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca" title="Asynchronously drain deploymentCleanupTasks." alt="" coords="335,70,635,125"/>
</map>
</div>

</div>
</div>
<a id="a59895d5671d2f658a9ac0f9dbda73dca" name="a59895d5671d2f658a9ac0f9dbda73dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59895d5671d2f658a9ac0f9dbda73dca">&#9670;&#160;</a></span>DrainDeploymentCleanupTasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Task Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DrainDeploymentCleanupTasks </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>blocking</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asynchronously drain <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982" title="List&lt;T&gt; of Tasks that are waiting to clean up old deployments.">deploymentCleanupTasks</a>.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blocking</td><td>If <code>true</code>, all Tasks will be <code>await</code>ed. Otherwise, only Tasks with Task.IsCompleted set will be <code>await</code>ed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Task representing the running operation.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00417">417</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  418</span>        {</div>
<div class="line"><span class="lineno">  419</span>            <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogTrace(<span class="stringliteral">&quot;DrainDeploymentCleanupTasks...&quot;</span>);</div>
<div class="line"><span class="lineno">  420</span>            var localDeploymentCleanupGate = Interlocked.Exchange(ref <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ac164bca1223c8bfced2f1774464b8648">deploymentCleanupGate</a>, <span class="keyword">null</span>);</div>
<div class="line"><span class="lineno">  421</span>            localDeploymentCleanupGate?.TrySetResult();</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>            List&lt;Task&gt; localDeploymentCleanupTasks;</div>
<div class="line"><span class="lineno">  424</span>            lock (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a>)</div>
<div class="line"><span class="lineno">  425</span>            {</div>
<div class="line"><span class="lineno">  426</span>                var totalActiveTasks = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a>.Count;</div>
<div class="line"><span class="lineno">  427</span>                localDeploymentCleanupTasks = <span class="keyword">new</span> List&lt;Task&gt;(totalActiveTasks);</div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordflow">for</span> (var i = totalActiveTasks - 1; i &gt;= 0; --i)</div>
<div class="line"><span class="lineno">  429</span>                {</div>
<div class="line"><span class="lineno">  430</span>                    var currentTask = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a>[i];</div>
<div class="line"><span class="lineno">  431</span>                    <span class="keywordflow">if</span> (!blocking &amp;&amp; !currentTask.IsCompleted)</div>
<div class="line"><span class="lineno">  432</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>                    localDeploymentCleanupTasks.Add(currentTask);</div>
<div class="line"><span class="lineno">  435</span>                    <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a>.RemoveAt(i);</div>
<div class="line"><span class="lineno">  436</span>                }</div>
<div class="line"><span class="lineno">  437</span>            }</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>            <span class="keywordflow">return</span> Task.WhenAll(localDeploymentCleanupTasks);</div>
<div class="line"><span class="lineno">  440</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_ac164bca1223c8bfced2f1774464b8648"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ac164bca1223c8bfced2f1774464b8648">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupGate</a></div><div class="ttdeci">volatile? TaskCompletionSource deploymentCleanupGate</div><div class="ttdoc">The TaskCompletionSource representing the cleanup of an unused IDmbProvider.</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00051">AdvancedWatchdog.cs:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_advanced_watchdog_8cs_source.html#l00051">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupGate</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00041">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupTasks</a>, and <a class="el" href="_watchdog_base_8cs_source.html#l00079">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00124">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DisposeAndNullControllersImpl()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00338">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleMonitorWakeup()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00141">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNormalReboot()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a59895d5671d2f658a9ac0f9dbda73dca_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a59895d5671d2f658a9ac0f9dbda73dca_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a59895d5671d2f658a9ac0f9dbda73dca_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a59895d5671d2f658a9ac0f9dbda73dca_icgraph">
<area shape="rect" title="Asynchronously drain deploymentCleanupTasks." alt="" coords="387,77,687,132"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad685dab25c922c43bff30f2822811c2b" title="Call IDisposable.Dispose and null the fields for all ISessionControllers. A ValueTask representing th..." alt="" coords="36,5,308,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#af92913ca3e4ef60daa783fc3bc1a0807" title="Handles the actions to take when the monitor has to &quot;wake up&quot;. A ValueTask&lt;TResult&gt; resulting in the ..." alt="" coords="5,85,339,125"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a9a94dccebeb6abb16f75b2ad03a5eb28" title="Handler for MonitorActivationReason.ActiveServerRebooted when the RebootState is RebootState...." alt="" coords="9,149,335,189"/>
</map>
</div>

</div>
</div>
<a id="af92913ca3e4ef60daa783fc3bc1a0807" name="af92913ca3e4ef60daa783fc3bc1a0807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af92913ca3e4ef60daa783fc3bc1a0807">&#9670;&#160;</a></span>HandleMonitorWakeup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override async ValueTask&lt; <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a> &gt; Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleMonitorWakeup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9">MonitorActivationReason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the actions to take when the monitor has to "wake up". <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">activationReason</td><td>The <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9" title="Reasons for the monitor to wake up.">MonitorActivationReason</a> that caused the invocation. Will never be MonitorActivationReason.HealthCheck.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812" title="The action for the monitor loop to take when control is returned to it.">MonitorAction</a> to take.</dd></dl>
 </p>

<p>Implements <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a354a45aca09fbccbe15dbe79d6675c97">Tgstation.Server.Host.Components.Watchdog.WatchdogBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00338">338</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  339</span>        {</div>
<div class="line"><span class="lineno">  340</span>            var result = await base.HandleMonitorWakeup(reason, cancellationToken);</div>
<div class="line"><span class="lineno">  341</span>            <span class="keywordflow">if</span> (reason == <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9">MonitorActivationReason</a>.ActiveServerStartup)</div>
<div class="line"><span class="lineno">  342</span>                await <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca">DrainDeploymentCleanupTasks</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  345</span>        }</div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_html_acb2ccc2dc05d01ec3a6448d3d57155c9"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#acb2ccc2dc05d01ec3a6448d3d57155c9">Tgstation.Server.Host.Components.Watchdog.MonitorActivationReason</a></div><div class="ttdeci">MonitorActivationReason</div><div class="ttdoc">Reasons for the monitor to wake up.</div><div class="ttdef"><b>Definition:</b> <a href="_monitor_activation_reason_8cs_source.html#l00006">MonitorActivationReason.cs:7</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_advanced_watchdog_8cs_source.html#l00417">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DrainDeploymentCleanupTasks()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_af92913ca3e4ef60daa783fc3bc1a0807_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_af92913ca3e4ef60daa783fc3bc1a0807_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_af92913ca3e4ef60daa783fc3bc1a0807_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_af92913ca3e4ef60daa783fc3bc1a0807_cgraph">
<area shape="rect" title="Handles the actions to take when the monitor has to &quot;wake up&quot;. A ValueTask&lt;TResult&gt; resulting in the ..." alt="" coords="5,13,339,53"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca" title="Asynchronously drain deploymentCleanupTasks." alt="" coords="387,5,687,60"/>
</map>
</div>

</div>
</div>
<a id="abc18654a9da3b33e0c5201fe3c376374" name="abc18654a9da3b33e0c5201fe3c376374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc18654a9da3b33e0c5201fe3c376374">&#9670;&#160;</a></span>HandleNewDmbAvailable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sealed override async ValueTask Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNewDmbAvailable </td>
          <td>(</td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler for MonitorActivationReason.NewDmbAvailable. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
 </p>

<p>Reimplemented from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#aa374db79a957d1aeb2ba660afd3c535b">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog</a>.</p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00233">233</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  234</span>        {</div>
<div class="line"><span class="lineno">  235</span>            <a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> compileJobProvider = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_dmb_factory.html">DmbFactory</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_dmb_factory.html#a3434b9eb750c21b1d4f4a86c6f6c076d">LockNextDmb</a>(<span class="stringliteral">&quot;AdvancedWatchdog next compile job preload&quot;</span>);</div>
<div class="line"><span class="lineno">  236</span>            <span class="keywordtype">bool</span> canSeamlesslySwap = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0e09a241beb5aa99fcff9987bd6b5799">CanUseSwappableDmbProvider</a>(compileJobProvider);</div>
<div class="line"><span class="lineno">  237</span>            <span class="keywordflow">if</span> (canSeamlesslySwap)</div>
<div class="line"><span class="lineno">  238</span>                <span class="keywordflow">if</span> (compileJobProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#aad154752808c57d3877f766894c24f4a">CompileJob</a>.EngineVersion != <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">ActiveCompileJob</a>!.EngineVersion)</div>
<div class="line"><span class="lineno">  239</span>                {</div>
<div class="line"><span class="lineno">  240</span>                    <span class="comment">// have to do a graceful restart</span></div>
<div class="line"><span class="lineno">  241</span>                    <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogDebug(</div>
<div class="line"><span class="lineno">  242</span>                        <span class="stringliteral">&quot;Not swapping to new compile job {compileJobId} as it uses a different engine version ({newEngineVersion}) than what is currently active {oldEngineVersion}.&quot;</span>,</div>
<div class="line"><span class="lineno">  243</span>                        compileJobProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#aad154752808c57d3877f766894c24f4a">CompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570">Id</a>,</div>
<div class="line"><span class="lineno">  244</span>                        compileJobProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#aad154752808c57d3877f766894c24f4a">CompileJob</a>.EngineVersion,</div>
<div class="line"><span class="lineno">  245</span>                        <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">ActiveCompileJob</a>.EngineVersion);</div>
<div class="line"><span class="lineno">  246</span>                    canSeamlesslySwap = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  247</span>                }</div>
<div class="line"><span class="lineno">  248</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (compileJobProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#aad154752808c57d3877f766894c24f4a">CompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job.html#a62c90f6d2a9a109318bb3fba05afead0">DmeName</a> != <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">ActiveCompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job.html#a62c90f6d2a9a109318bb3fba05afead0">DmeName</a>)</div>
<div class="line"><span class="lineno">  249</span>                {</div>
<div class="line"><span class="lineno">  250</span>                    <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogDebug(</div>
<div class="line"><span class="lineno">  251</span>                        <span class="stringliteral">&quot;Not swapping to new compile job {compileJobId} as it uses a different .dmb name ({newDmbName}) than what is currently active {oldDmbName}.&quot;</span>,</div>
<div class="line"><span class="lineno">  252</span>                        compileJobProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#aad154752808c57d3877f766894c24f4a">CompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570">Id</a>,</div>
<div class="line"><span class="lineno">  253</span>                        compileJobProvider.<a class="code hl_property" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#aad154752808c57d3877f766894c24f4a">CompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job.html#a62c90f6d2a9a109318bb3fba05afead0">DmeName</a>,</div>
<div class="line"><span class="lineno">  254</span>                        <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">ActiveCompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job.html#a62c90f6d2a9a109318bb3fba05afead0">DmeName</a>);</div>
<div class="line"><span class="lineno">  255</span>                    canSeamlesslySwap = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  256</span>                }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>            <span class="keywordflow">if</span> (!canSeamlesslySwap)</div>
<div class="line"><span class="lineno">  259</span>            {</div>
<div class="line"><span class="lineno">  260</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogDebug(<span class="stringliteral">&quot;Queueing graceful restart instead...&quot;</span>);</div>
<div class="line"><span class="lineno">  261</span>                await compileJobProvider.DisposeAsync();</div>
<div class="line"><span class="lineno">  262</span>                await base.HandleNewDmbAvailable(cancellationToken);</div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  264</span>            }</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>            <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a>? swappableProvider = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  267</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  268</span>            {</div>
<div class="line"><span class="lineno">  269</span>                swappableProvider = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a">CreateSwappableDmbProvider</a>(compileJobProvider);</div>
<div class="line"><span class="lineno">  270</span>                <span class="keywordflow">if</span> (<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">ActiveCompileJob</a>!.DMApiVersion == <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  271</span>                {</div>
<div class="line"><span class="lineno">  272</span>                    <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogWarning(<span class="stringliteral">&quot;Active compile job has no DMAPI! Commencing immediate .dmb swap. Note this behavior is known to be buggy in some DM code contexts. See https://github.com/tgstation/tgstation-server/issues/1550&quot;</span>);</div>
<div class="line"><span class="lineno">  273</span>                    await <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad7b9818a9a73bbf86d9353c30e23197f">PerformDmbSwap</a>(swappableProvider, cancellationToken);</div>
<div class="line"><span class="lineno">  274</span>                }</div>
<div class="line"><span class="lineno">  275</span>            }</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_exception.html">Exception</a> ex)</div>
<div class="line"><span class="lineno">  277</span>            {</div>
<div class="line"><span class="lineno">  278</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogError(ex, <span class="stringliteral">&quot;Exception while swapping&quot;</span>);</div>
<div class="line"><span class="lineno">  279</span>                <a class="code hl_interface" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> providerToDispose = swappableProvider ?? compileJobProvider;</div>
<div class="line"><span class="lineno">  280</span>                await providerToDispose.DisposeAsync();</div>
<div class="line"><span class="lineno">  281</span>                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  282</span>            }</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>            await (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>?.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a6f69db8c3ceae298404f5d8d5a7312b3">DisposeAsync</a>() ?? ValueTask.CompletedTask);</div>
<div class="line"><span class="lineno">  285</span>            <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a> = swappableProvider;</div>
<div class="line"><span class="lineno">  286</span>        }</div>
<div class="ttc" id="aclass_exception_html"><div class="ttname"><a href="class_exception.html">Exception</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id_html_ae31e478e1d338b37a14565df6fd58570"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570">Tgstation.Server.Api.Models.EntityId.Id</a></div><div class="ttdeci">virtual ? long Id</div><div class="ttdoc">The ID of the entity.</div><div class="ttdef"><b>Definition:</b> <a href="_entity_id_8cs_source.html#l00013">EntityId.cs:13</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job_html_a62c90f6d2a9a109318bb3fba05afead0"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_compile_job.html#a62c90f6d2a9a109318bb3fba05afead0">Tgstation.Server.Api.Models.Internal.CompileJob.DmeName</a></div><div class="ttdeci">string? DmeName</div><div class="ttdoc">The .dme file used for compilation.</div><div class="ttdef"><b>Definition:</b> <a href="_tgstation_8_server_8_api_2_models_2_internal_2_compile_job_8cs_source.html#l00016">CompileJob.cs:16</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_dmb_factory_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_dmb_factory.html">Tgstation.Server.Host.Components.Deployment.DmbFactory</a></div><div class="ttdoc">Standard IDmbFactory.</div><div class="ttdef"><b>Definition:</b> <a href="_dmb_factory_8cs_source.html#l00028">DmbFactory.cs:29</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_dmb_factory_html_a3434b9eb750c21b1d4f4a86c6f6c076d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_dmb_factory.html#a3434b9eb750c21b1d4f4a86c6f6c076d">Tgstation.Server.Host.Components.Deployment.DmbFactory.LockNextDmb</a></div><div class="ttdeci">IDmbProvider LockNextDmb(string reason, [CallerFilePath] string? callerFile=null, [CallerLineNumber] int callerLine=default)</div><div class="ttdoc">Gets the next IDmbProvider. DmbAvailable is a precondition. A new IDmbProvider.</div><div class="ttdef"><b>Definition:</b> <a href="_dmb_factory_8cs_source.html#l00195">DmbFactory.cs:195</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider</a></div><div class="ttdoc">A IDmbProvider that uses filesystem links to change directory structure underneath the server process...</div><div class="ttdef"><b>Definition:</b> <a href="_swappable_dmb_provider_8cs_source.html#l00013">SwappableDmbProvider.cs:14</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_a0e09a241beb5aa99fcff9987bd6b5799"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0e09a241beb5aa99fcff9987bd6b5799">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CanUseSwappableDmbProvider</a></div><div class="ttdeci">bool CanUseSwappableDmbProvider(IDmbProvider dmbProvider)</div><div class="ttdoc">If the SwappableDmbProvider feature of the AdvancedWatchdog can be used with a given dmbProvider .</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00352">AdvancedWatchdog.cs:352</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_ad7b9818a9a73bbf86d9353c30e23197f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad7b9818a9a73bbf86d9353c30e23197f">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PerformDmbSwap</a></div><div class="ttdeci">async ValueTask PerformDmbSwap(SwappableDmbProvider newProvider, CancellationToken cancellationToken)</div><div class="ttdoc">Suspends the BasicWatchdog.Server and calls SwappableDmbProvider.MakeActive(CancellationToken) on a n...</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00381">AdvancedWatchdog.cs:381</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_afdc40d34050aab6b62e2f3b16482f27a"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CreateSwappableDmbProvider</a></div><div class="ttdeci">abstract SwappableDmbProvider CreateSwappableDmbProvider(IDmbProvider dmbProvider)</div><div class="ttdoc">Create a SwappableDmbProvider for a given dmbProvider .</div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a30c1f65bce4d161d81063e4c426265f4"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a30c1f65bce4d161d81063e4c426265f4">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.ActiveCompileJob</a></div><div class="ttdeci">Models.? CompileJob ActiveCompileJob</div><div class="ttdoc">Retrieves the Models.CompileJob currently running on the server.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00066">WatchdogBase.cs:66</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider_html"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">Tgstation.Server.Host.Components.Deployment.IDmbProvider</a></div><div class="ttdoc">Provides absolute paths to the latest compiled .dmbs.</div><div class="ttdef"><b>Definition:</b> <a href="_i_dmb_provider_8cs_source.html#l00010">IDmbProvider.cs:11</a></div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider_html_aad154752808c57d3877f766894c24f4a"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html#aad154752808c57d3877f766894c24f4a">Tgstation.Server.Host.Components.Deployment.IDmbProvider.CompileJob</a></div><div class="ttdeci">Models.CompileJob CompileJob</div><div class="ttdoc">The CompileJob of the .dmb.</div><div class="ttdef"><b>Definition:</b> <a href="_i_dmb_provider_8cs_source.html#l00025">IDmbProvider.cs:25</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_watchdog_base_8cs_source.html#l00066">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.ActiveCompileJob</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00352">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CanUseSwappableDmbProvider()</a>, <a class="el" href="_i_dmb_provider_8cs_source.html#l00025">Tgstation.Server.Host.Components.Deployment.IDmbProvider.CompileJob</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CreateSwappableDmbProvider()</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00261">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.DisposeAsync()</a>, <a class="el" href="_tgstation_8_server_8_api_2_models_2_internal_2_compile_job_8cs_source.html#l00016">Tgstation.Server.Api.Models.Internal.CompileJob.DmeName</a>, <a class="el" href="_entity_id_8cs_source.html#l00013">Tgstation.Server.Api.Models.EntityId.Id</a>, <a class="el" href="_dmb_factory_8cs_source.html#l00195">Tgstation.Server.Host.Components.Deployment.DmbFactory.LockNextDmb()</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00079">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00046">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.pendingSwappable</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00381">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PerformDmbSwap()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_abc18654a9da3b33e0c5201fe3c376374_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_abc18654a9da3b33e0c5201fe3c376374_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_abc18654a9da3b33e0c5201fe3c376374_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_abc18654a9da3b33e0c5201fe3c376374_cgraph">
<area shape="rect" title="Handler for MonitorActivationReason.NewDmbAvailable. A ValueTask representing the running operation." alt="" coords="5,156,276,211"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0e09a241beb5aa99fcff9987bd6b5799" title="If the SwappableDmbProvider feature of the AdvancedWatchdog can be used with a given dmbProvider ." alt="" coords="324,5,637,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a" title="Create a SwappableDmbProvider for a given dmbProvider ." alt="" coords="329,84,633,139"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a6f69db8c3ceae298404f5d8d5a7312b3" title=" " alt="" coords="352,163,609,203"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_dmb_factory.html#a3434b9eb750c21b1d4f4a86c6f6c076d" title="Gets the next IDmbProvider. DmbAvailable is a precondition. A new IDmbProvider." alt="" coords="356,227,605,267"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad7b9818a9a73bbf86d9353c30e23197f" title="Suspends the BasicWatchdog.Server and calls SwappableDmbProvider.MakeActive(CancellationToken) on a n..." alt="" coords="327,299,635,339"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aecb29ff97cd95a61ab370d24685171a2" title="Call IDisposable.Dispose and null the fields for all ISessionControllers." alt="" coords="704,148,971,203"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_deployment_lock_manager.html#a39d7e3a1358f3bcd08ca17cf4640ed51" title="Add a lock to the managed IDmbProvider." alt="" coords="690,227,985,267"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_deployment_lock_manager.html#ae03467243a3241ddd1b7038871a8b397" title="Creates a DmbLock and adds it to locks." alt="" coords="1037,227,1348,267"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_deployment_lock_manager.html#a2abafa30d9487b73499e18ff9c3d2d96" title="Generates a verbose description of a given dmbLock ." alt="" coords="1396,220,1660,275"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3" title="Should be awaited. before calling MakeActive(CancellationToken) to ensure the SwappableDmbProvider is..." alt="" coords="702,292,973,347"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e" title="Make the SwappableDmbProvider active by replacing the live link with our CompileJob." alt="" coords="685,371,989,411"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a92d654ad97877a24e3abab5c0cd595ab" title="Perform the swapping action." alt="" coords="1051,371,1335,411"/>
</map>
</div>

</div>
</div>
<a id="a9a94dccebeb6abb16f75b2ad03a5eb28" name="a9a94dccebeb6abb16f75b2ad03a5eb28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a94dccebeb6abb16f75b2ad03a5eb28">&#9670;&#160;</a></span>HandleNormalReboot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sealed override async ValueTask&lt; <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a> &gt; Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNormalReboot </td>
          <td>(</td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler for MonitorActivationReason.ActiveServerRebooted when the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a162156e619faf7f253fce4c39b35559b" title="The Session.RebootState of the active server.">RebootState</a> is RebootState.Normal. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the <a class="el" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812" title="The action for the monitor loop to take when control is returned to it.">MonitorAction</a> to take.</dd></dl>
 </p>

<p>Reimplemented from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#ac4e91ce47610a691e8dd0c9d85c32d78">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog</a>.</p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00141">141</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  142</span>        {</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  144</span>            {</div>
<div class="line"><span class="lineno">  145</span>                var needToSwap = !<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#aa556acd2f54e38ce22f5e623a12222c7">Swapped</a>;</div>
<div class="line"><span class="lineno">  146</span>                var controller = <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1">Server</a>!;</div>
<div class="line"><span class="lineno">  147</span>                <span class="keywordflow">if</span> (needToSwap)</div>
<div class="line"><span class="lineno">  148</span>                {</div>
<div class="line"><span class="lineno">  149</span>                    <span class="comment">// IMPORTANT: THE SESSIONCONTROLLER SHOULD STILL BE PROCESSING THE BRIDGE REQUEST SO WE KNOW DD IS SLEEPING</span></div>
<div class="line"><span class="lineno">  150</span>                    <span class="comment">// OTHERWISE, IT COULD RETURN TO /world/Reboot() TOO EARLY AND LOAD THE WRONG .DMB</span></div>
<div class="line"><span class="lineno">  151</span>                    <span class="keywordflow">if</span> (!controller.ProcessingRebootBridgeRequest)</div>
<div class="line"><span class="lineno">  152</span>                    {</div>
<div class="line"><span class="lineno">  153</span>                        <span class="comment">// integration test logging will catch this</span></div>
<div class="line"><span class="lineno">  154</span>                        <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogError(</div>
<div class="line"><span class="lineno">  155</span>                            <span class="stringliteral">&quot;The reboot bridge request completed before the watchdog could suspend the server! This can lead to buggy DreamDaemon behaviour and should be reported! To ensure stability, we will need to hard reboot the server&quot;</span>);</div>
<div class="line"><span class="lineno">  156</span>                        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a>.Restart;</div>
<div class="line"><span class="lineno">  157</span>                    }</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>                    <span class="comment">// DCT: Not necessary</span></div>
<div class="line"><span class="lineno">  160</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3">FinishActivationPreparation</a>(CancellationToken.None).IsCompleted)</div>
<div class="line"><span class="lineno">  161</span>                    {</div>
<div class="line"><span class="lineno">  162</span>                        <span class="comment">// rare pokemon</span></div>
<div class="line"><span class="lineno">  163</span>                        <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogInformation(<span class="stringliteral">&quot;Deployed .dme is not ready to swap, delaying until next reboot!&quot;</span>);</div>
<div class="line"><span class="lineno">  164</span>                        <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aec24ff5e3b22b40e62f4a2443eb8cec9">Chat</a>.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html#a103e061814fc6760410734c7a83f9a83">QueueWatchdogMessage</a>(<span class="stringliteral">&quot;The pending deployment was not ready to be activated this reboot. It will be applied at the next one.&quot;</span>);</div>
<div class="line"><span class="lineno">  165</span>                        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">MonitorAction</a>.Continue;</div>
<div class="line"><span class="lineno">  166</span>                    }</div>
<div class="line"><span class="lineno">  167</span>                }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>                var updateTask = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9efa04dfe5428a8ce1271600e2388a4e">BeforeApplyDmb</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a7b81a4a7c82ee7315a525f1cd7b31bc9">CompileJob</a>, cancellationToken);</div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordflow">if</span> (needToSwap)</div>
<div class="line"><span class="lineno">  171</span>                    await <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad7b9818a9a73bbf86d9353c30e23197f">PerformDmbSwap</a>(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>, cancellationToken);</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>                var currentCompileJobId = controller.ReattachInformation.Dmb.CompileJob.Id;</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>                await <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca">DrainDeploymentCleanupTasks</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>                <a class="code hl_class" href="class_i_async_disposable.html">IAsyncDisposable</a> lingeringDeployment;</div>
<div class="line"><span class="lineno">  178</span>                var localDeploymentCleanupGate = <span class="keyword">new</span> TaskCompletionSource();</div>
<div class="line"><span class="lineno">  179</span>                async Task CleanupLingeringDeployment()</div>
<div class="line"><span class="lineno">  180</span>                {</div>
<div class="line"><span class="lineno">  181</span>                    var lingeringDeploymentExpirySeconds = <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4">ActiveLaunchParameters</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html#aa3ac63088b89bf67dd5fdbe67970b03d">StartupTimeout</a>!.Value;</div>
<div class="line"><span class="lineno">  182</span>                    <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogDebug(</div>
<div class="line"><span class="lineno">  183</span>                        <span class="stringliteral">&quot;Holding old deployment {compileJobId} for up to {expiry} seconds...&quot;</span>,</div>
<div class="line"><span class="lineno">  184</span>                        currentCompileJobId,</div>
<div class="line"><span class="lineno">  185</span>                        lingeringDeploymentExpirySeconds);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>                    <span class="comment">// DCT: A cancel firing here can result in us leaving a dmbprovider undisposed, localDeploymentCleanupGate will always fire in that case</span></div>
<div class="line"><span class="lineno">  188</span>                    var timeout = <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer.html">AsyncDelayer</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer.html#a866d0f61c2a2311e5fbe5d8de329df33">Delay</a>(TimeSpan.FromSeconds(lingeringDeploymentExpirySeconds), CancellationToken.None);</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>                    var completedTask = await Task.WhenAny(</div>
<div class="line"><span class="lineno">  191</span>                        localDeploymentCleanupGate.Task,</div>
<div class="line"><span class="lineno">  192</span>                        timeout);</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>                    var timedOut = completedTask == timeout;</div>
<div class="line"><span class="lineno">  195</span>                    <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.Log(</div>
<div class="line"><span class="lineno">  196</span>                        timedOut</div>
<div class="line"><span class="lineno">  197</span>                            ? LogLevel.Warning</div>
<div class="line"><span class="lineno">  198</span>                            : LogLevel.Trace,</div>
<div class="line"><span class="lineno">  199</span>                        <span class="stringliteral">&quot;Releasing old deployment {compileJobId}{afterTimeout}&quot;</span>,</div>
<div class="line"><span class="lineno">  200</span>                        currentCompileJobId,</div>
<div class="line"><span class="lineno">  201</span>                        timedOut</div>
<div class="line"><span class="lineno">  202</span>                            ? <span class="stringliteral">&quot; due to timeout!&quot;</span></div>
<div class="line"><span class="lineno">  203</span>                            : <span class="stringliteral">&quot;...&quot;</span>);</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>                    await lingeringDeployment.DisposeAsync();</div>
<div class="line"><span class="lineno">  206</span>                }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>                var oldDeploymentCleanupGate = Interlocked.Exchange(ref <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ac164bca1223c8bfced2f1774464b8648">deploymentCleanupGate</a>, localDeploymentCleanupGate);</div>
<div class="line"><span class="lineno">  209</span>                oldDeploymentCleanupGate?.TrySetResult();</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogTrace(<span class="stringliteral">&quot;Replacing activeSwappable with pendingSwappable...&quot;</span>);</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>                lock (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a>)</div>
<div class="line"><span class="lineno">  214</span>                {</div>
<div class="line"><span class="lineno">  215</span>                    lingeringDeployment = controller.ReplaceDmbProvider(<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>);</div>
<div class="line"><span class="lineno">  216</span>                    <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0484c9175cd700015e03340d48b20982">deploymentCleanupTasks</a>.Add(</div>
<div class="line"><span class="lineno">  217</span>                        CleanupLingeringDeployment());</div>
<div class="line"><span class="lineno">  218</span>                }</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a> = <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a>;</div>
<div class="line"><span class="lineno">  221</span>                <a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>                await <a class="code hl_class" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor.html">SessionPersistor</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor.html#a5b474f446d9e672be12af82e7f7213bd">Update</a>(controller.ReattachInformation, cancellationToken);</div>
<div class="line"><span class="lineno">  224</span>                await updateTask;</div>
<div class="line"><span class="lineno">  225</span>            }</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  227</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogTrace(<span class="stringliteral">&quot;Nothing to do as pendingSwappable is null.&quot;</span>);</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>            <span class="keywordflow">return</span> await base.HandleNormalReboot(cancellationToken);</div>
<div class="line"><span class="lineno">  230</span>        }</div>
<div class="ttc" id="aclass_i_async_disposable_html"><div class="ttname"><a href="class_i_async_disposable.html">IAsyncDisposable</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters_html_aa3ac63088b89bf67dd5fdbe67970b03d"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_internal_1_1_dream_daemon_launch_parameters.html#aa3ac63088b89bf67dd5fdbe67970b03d">Tgstation.Server.Api.Models.Internal.DreamDaemonLaunchParameters.StartupTimeout</a></div><div class="ttdeci">uint? StartupTimeout</div><div class="ttdoc">The DreamDaemon startup timeout in seconds.</div><div class="ttdef"><b>Definition:</b> <a href="_dream_daemon_launch_parameters_8cs_source.html#l00062">DreamDaemonLaunchParameters.cs:62</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider_html_a62c2020413dd770a7b3b0482e91ffbf3"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.FinishActivationPreparation</a></div><div class="ttdeci">abstract Task FinishActivationPreparation(CancellationToken cancellationToken)</div><div class="ttdoc">Should be awaited. before calling MakeActive(CancellationToken) to ensure the SwappableDmbProvider is...</div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider_html_a7b81a4a7c82ee7315a525f1cd7b31bc9"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a7b81a4a7c82ee7315a525f1cd7b31bc9">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.CompileJob</a></div><div class="ttdeci">Models.CompileJob CompileJob</div><div class="ttdoc">The CompileJob of the .dmb.</div><div class="ttdef"><b>Definition:</b> <a href="_swappable_dmb_provider_8cs_source.html#l00027">SwappableDmbProvider.cs:27</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider_html_aa556acd2f54e38ce22f5e623a12222c7"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#aa556acd2f54e38ce22f5e623a12222c7">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.Swapped</a></div><div class="ttdeci">bool Swapped</div><div class="ttdoc">If MakeActive(CancellationToken) has been run.</div><div class="ttdef"><b>Definition:</b> <a href="_swappable_dmb_provider_8cs_source.html#l00035">SwappableDmbProvider.cs:35</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor.html">Tgstation.Server.Host.Components.Session.SessionPersistor</a></div><div class="ttdef"><b>Definition:</b> <a href="_session_persistor_8cs_source.html#l00017">SessionPersistor.cs:18</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor_html_a5b474f446d9e672be12af82e7f7213bd"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor.html#a5b474f446d9e672be12af82e7f7213bd">Tgstation.Server.Host.Components.Session.SessionPersistor.Update</a></div><div class="ttdeci">ValueTask Update(ReattachInformation reattachInformation, CancellationToken cancellationToken)</div><div class="ttdoc">Update some reattachInformation . A ValueTask representing the running operation.</div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog_html_a352c01d12e9c200ab7829dcf1ec861c1"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog.Server</a></div><div class="ttdeci">ISessionController? Server</div><div class="ttdoc">The single ISessionController.</div><div class="ttdef"><b>Definition:</b> <a href="_basic_watchdog_8cs_source.html#l00036">BasicWatchdog.cs:36</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a9affc2eeae2903d1bdb0fa81a6550fc4"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.ActiveLaunchParameters</a></div><div class="ttdeci">DreamDaemonLaunchParameters ActiveLaunchParameters</div><div class="ttdoc">The DreamDaemonLaunchParameters to be applied.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00060">WatchdogBase.cs:60</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_a9efa04dfe5428a8ce1271600e2388a4e"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9efa04dfe5428a8ce1271600e2388a4e">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.BeforeApplyDmb</a></div><div class="ttdeci">async ValueTask BeforeApplyDmb(Models.CompileJob newCompileJob, CancellationToken cancellationToken)</div><div class="ttdoc">To be called before a given newCompileJob  goes live.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00718">WatchdogBase.cs:718</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base_html_aec24ff5e3b22b40e62f4a2443eb8cec9"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#aec24ff5e3b22b40e62f4a2443eb8cec9">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Chat</a></div><div class="ttdeci">IChatManager Chat</div><div class="ttdoc">The IChatManager for the WatchdogBase.</div><div class="ttdef"><b>Definition:</b> <a href="_watchdog_base_8cs_source.html#l00084">WatchdogBase.cs:84</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer_html"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer.html">Tgstation.Server.Host.Utils.AsyncDelayer</a></div><div class="ttdef"><b>Definition:</b> <a href="_async_delayer_8cs_source.html#l00008">AsyncDelayer.cs:9</a></div></div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer_html_a866d0f61c2a2311e5fbe5d8de329df33"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer.html#a866d0f61c2a2311e5fbe5d8de329df33">Tgstation.Server.Host.Utils.AsyncDelayer.Delay</a></div><div class="ttdeci">Task Delay(TimeSpan timeSpan, CancellationToken cancellationToken)</div><div class="ttdoc">Create a Task that completes after a given timeSpan . A Task representing the running operation.</div></div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager_html_a103e061814fc6760410734c7a83f9a83"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html#a103e061814fc6760410734c7a83f9a83">Tgstation.Server.Host.Components.Chat.IChatManager.QueueWatchdogMessage</a></div><div class="ttdeci">void QueueWatchdogMessage(string message)</div><div class="ttdoc">Queue a chat message  to configured watchdog channels.</div></div>
<div class="ttc" id="anamespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_html_a97c1a4a168451bd7e3be23c467aa2812"><div class="ttname"><a href="namespace_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog.html#a97c1a4a168451bd7e3be23c467aa2812">Tgstation.Server.Host.Components.Watchdog.MonitorAction</a></div><div class="ttdeci">MonitorAction</div><div class="ttdoc">The action for the monitor loop to take when control is returned to it.</div><div class="ttdef"><b>Definition:</b> <a href="_monitor_action_8cs_source.html#l00006">MonitorAction.cs:7</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_watchdog_base_8cs_source.html#l00060">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.ActiveLaunchParameters</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00031">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ActiveSwappable</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00718">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.BeforeApplyDmb()</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00084">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Chat</a>, <a class="el" href="_swappable_dmb_provider_8cs_source.html#l00027">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.CompileJob</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer.html#a866d0f61c2a2311e5fbe5d8de329df33">Tgstation.Server.Host.Utils.AsyncDelayer.Delay()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00051">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupGate</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00041">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupTasks</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00417">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DrainDeploymentCleanupTasks()</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.FinishActivationPreparation()</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00079">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00046">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.pendingSwappable</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00381">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PerformDmbSwap()</a>, <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html#a103e061814fc6760410734c7a83f9a83">Tgstation.Server.Host.Components.Chat.IChatManager.QueueWatchdogMessage()</a>, <a class="el" href="_dream_daemon_launch_parameters_8cs_source.html#l00062">Tgstation.Server.Api.Models.Internal.DreamDaemonLaunchParameters.StartupTimeout</a>, <a class="el" href="_swappable_dmb_provider_8cs_source.html#l00035">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.Swapped</a>, and <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor.html#a5b474f446d9e672be12af82e7f7213bd">Tgstation.Server.Host.Components.Session.SessionPersistor.Update()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a9a94dccebeb6abb16f75b2ad03a5eb28_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a9a94dccebeb6abb16f75b2ad03a5eb28_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a9a94dccebeb6abb16f75b2ad03a5eb28_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a9a94dccebeb6abb16f75b2ad03a5eb28_cgraph">
<area shape="rect" title="Handler for MonitorActivationReason.ActiveServerRebooted when the RebootState is RebootState...." alt="" coords="5,250,332,290"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9efa04dfe5428a8ce1271600e2388a4e" title="To be called before a given newCompileJob &#160;goes live." alt="" coords="399,49,669,89"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_utils_1_1_async_delayer.html#a866d0f61c2a2311e5fbe5d8de329df33" title="Create a Task that completes after a given timeSpan . A Task representing the running operation." alt="" coords="443,113,625,153"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a59895d5671d2f658a9ac0f9dbda73dca" title="Asynchronously drain deploymentCleanupTasks." alt="" coords="384,177,684,232"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3" title="Should be awaited. before calling MakeActive(CancellationToken) to ensure the SwappableDmbProvider is..." alt="" coords="760,243,1031,297"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad7b9818a9a73bbf86d9353c30e23197f" title="Suspends the BasicWatchdog.Server and calls SwappableDmbProvider.MakeActive(CancellationToken) on a n..." alt="" coords="380,307,688,347"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_chat_1_1_i_chat_manager.html#a103e061814fc6760410734c7a83f9a83" title="Queue a chat message &#160;to configured watchdog channels." alt="" coords="391,371,677,411"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_session_1_1_session_persistor.html#a5b474f446d9e672be12af82e7f7213bd" title="Update some reattachInformation . A ValueTask representing the running operation." alt="" coords="421,435,647,475"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_remote_1_1_i_remote_deployment_manager_factory.html#a4115cea1f220c4fdaede74566aa848d3" title="Creates a IRemoteDeploymentManager for a given remoteGitProvider ." alt="" coords="736,5,1055,60"/>
<area shape="rect" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_events_1_1_i_event_consumer.html#a564f82eb43566dabd77e37191b4e3d37" title="Handle a given eventType ." alt="" coords="776,85,1015,125"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e" title="Make the SwappableDmbProvider active by replacing the live link with our CompileJob." alt="" coords="743,322,1047,362"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a92d654ad97877a24e3abab5c0cd595ab" title="Perform the swapping action." alt="" coords="1103,322,1387,362"/>
</map>
</div>

</div>
</div>
<a id="a1845f3dca4597a726053daa649565c5f" name="a1845f3dca4597a726053daa649565c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1845f3dca4597a726053daa649565c5f">&#9670;&#160;</a></span>InitialLink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.InitialLink </td>
          <td>(</td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the initial link to the live game directory using <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f" title="The SwappableDmbProvider for WatchdogBase.LastLaunchParameters.">ActiveSwappable</a>.  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00368">368</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  369</span>        {</div>
<div class="line"><span class="lineno">  370</span>            await <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a>!.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3">FinishActivationPreparation</a>(cancellationToken);</div>
<div class="line"><span class="lineno">  371</span>            <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogTrace(<span class="stringliteral">&quot;Linking compile job...&quot;</span>);</div>
<div class="line"><span class="lineno">  372</span>            await <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a>.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e">MakeActive</a>(cancellationToken);</div>
<div class="line"><span class="lineno">  373</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider_html_ad6e832b7e37fcfb95f47294a9a084c2e"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.MakeActive</a></div><div class="ttdeci">ValueTask MakeActive(CancellationToken cancellationToken)</div><div class="ttdoc">Make the SwappableDmbProvider active by replacing the live link with our CompileJob.</div><div class="ttdef"><b>Definition:</b> <a href="_swappable_dmb_provider_8cs_source.html#l00081">SwappableDmbProvider.cs:81</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_advanced_watchdog_8cs_source.html#l00031">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ActiveSwappable</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.FinishActivationPreparation()</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00079">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a>, and <a class="el" href="_swappable_dmb_provider_8cs_source.html#l00081">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.MakeActive()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00289">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PrepServerForLaunch()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_cgraph">
<area shape="rect" title="Create the initial link to the live game directory using ActiveSwappable." alt="" coords="5,49,264,89"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3" title="Should be awaited. before calling MakeActive(CancellationToken) to ensure the SwappableDmbProvider is..." alt="" coords="329,5,599,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e" title="Make the SwappableDmbProvider active by replacing the live link with our CompileJob." alt="" coords="312,85,616,125"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a92d654ad97877a24e3abab5c0cd595ab" title="Perform the swapping action." alt="" coords="664,85,948,125"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1845f3dca4597a726053daa649565c5f_icgraph">
<area shape="rect" title="Create the initial link to the live game directory using ActiveSwappable." alt="" coords="320,13,579,53"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1bc14906a6fb391ce835039400575073" title="Prepare the server to launch a new instance with the WatchdogBase.ActiveLaunchParameters and a given ..." alt="" coords="5,5,272,60"/>
</map>
</div>

</div>
</div>
<a id="ad7b9818a9a73bbf86d9353c30e23197f" name="ad7b9818a9a73bbf86d9353c30e23197f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7b9818a9a73bbf86d9353c30e23197f">&#9670;&#160;</a></span>PerformDmbSwap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async ValueTask Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PerformDmbSwap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a>&#160;</td>
          <td class="paramname"><em>newProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Suspends the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1" title="The single ISessionController.">BasicWatchdog.Server</a> and calls <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e" title="Make the SwappableDmbProvider active by replacing the live link with our CompileJob.">SwappableDmbProvider.MakeActive(CancellationToken)</a> on a <em>newProvider</em> .  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newProvider</td><td>The SwappableDmbProvider to activate.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00381">381</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  382</span>        {</div>
<div class="line"><span class="lineno">  383</span>            <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogDebug(<span class="stringliteral">&quot;Swapping to compile job {id}...&quot;</span>, newProvider.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a7b81a4a7c82ee7315a525f1cd7b31bc9">CompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570">Id</a>);</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>            await newProvider.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3">FinishActivationPreparation</a>(cancellationToken);</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>            var suspended = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  388</span>            var server = <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a352c01d12e9c200ab7829dcf1ec861c1">Server</a>!;</div>
<div class="line"><span class="lineno">  389</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  390</span>            {</div>
<div class="line"><span class="lineno">  391</span>                server.<a class="code hl_function" href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_base.html#a8cffc46262e4fd8678b3377f24415f5b">SuspendProcess</a>();</div>
<div class="line"><span class="lineno">  392</span>                suspended = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  393</span>            }</div>
<div class="line"><span class="lineno">  394</span>            <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_exception.html">Exception</a> ex)</div>
<div class="line"><span class="lineno">  395</span>            {</div>
<div class="line"><span class="lineno">  396</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogWarning(ex, <span class="stringliteral">&quot;Exception while suspending server!&quot;</span>);</div>
<div class="line"><span class="lineno">  397</span>            }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  400</span>            {</div>
<div class="line"><span class="lineno">  401</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogTrace(<span class="stringliteral">&quot;Making new provider {id} active...&quot;</span>, newProvider.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a7b81a4a7c82ee7315a525f1cd7b31bc9">CompileJob</a>.<a class="code hl_property" href="class_tgstation_1_1_server_1_1_api_1_1_models_1_1_entity_id.html#ae31e478e1d338b37a14565df6fd58570">Id</a>);</div>
<div class="line"><span class="lineno">  402</span>                await newProvider.<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e">MakeActive</a>(cancellationToken);</div>
<div class="line"><span class="lineno">  403</span>            }</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">finally</span></div>
<div class="line"><span class="lineno">  405</span>            {</div>
<div class="line"><span class="lineno">  406</span>                <span class="comment">// Let this throw hard if it fails</span></div>
<div class="line"><span class="lineno">  407</span>                <span class="keywordflow">if</span> (suspended)</div>
<div class="line"><span class="lineno">  408</span>                    server.ResumeProcess();</div>
<div class="line"><span class="lineno">  409</span>            }</div>
<div class="line"><span class="lineno">  410</span>        }</div>
<div class="ttc" id="ainterface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_base_html_a8cffc46262e4fd8678b3377f24415f5b"><div class="ttname"><a href="interface_tgstation_1_1_server_1_1_host_1_1_system_1_1_i_process_base.html#a8cffc46262e4fd8678b3377f24415f5b">Tgstation.Server.Host.System.IProcessBase.SuspendProcess</a></div><div class="ttdeci">void SuspendProcess()</div><div class="ttdoc">Suspends the process.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_swappable_dmb_provider_8cs_source.html#l00027">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.CompileJob</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.FinishActivationPreparation()</a>, <a class="el" href="_entity_id_8cs_source.html#l00013">Tgstation.Server.Api.Models.EntityId.Id</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00079">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a>, and <a class="el" href="_swappable_dmb_provider_8cs_source.html#l00081">Tgstation.Server.Host.Components.Deployment.SwappableDmbProvider.MakeActive()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00233">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNewDmbAvailable()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00141">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNormalReboot()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_cgraph">
<area shape="rect" title="Suspends the BasicWatchdog.Server and calls SwappableDmbProvider.MakeActive(CancellationToken) on a n..." alt="" coords="5,49,313,89"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3" title="Should be awaited. before calling MakeActive(CancellationToken) to ensure the SwappableDmbProvider is..." alt="" coords="378,5,649,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e" title="Make the SwappableDmbProvider active by replacing the live link with our CompileJob." alt="" coords="361,85,665,125"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a92d654ad97877a24e3abab5c0cd595ab" title="Perform the swapping action." alt="" coords="713,85,997,125"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_icgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_icgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_icgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_ad7b9818a9a73bbf86d9353c30e23197f_icgraph">
<area shape="rect" title="Suspends the BasicWatchdog.Server and calls SwappableDmbProvider.MakeActive(CancellationToken) on a n..." alt="" coords="380,49,688,89"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#abc18654a9da3b33e0c5201fe3c376374" title="Handler for MonitorActivationReason.NewDmbAvailable. A ValueTask representing the running operation." alt="" coords="33,5,304,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a9a94dccebeb6abb16f75b2ad03a5eb28" title="Handler for MonitorActivationReason.ActiveServerRebooted when the RebootState is RebootState...." alt="" coords="5,85,332,125"/>
</map>
</div>

</div>
</div>
<a id="a1bc14906a6fb391ce835039400575073" name="a1bc14906a6fb391ce835039400575073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bc14906a6fb391ce835039400575073">&#9670;&#160;</a></span>PrepServerForLaunch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sealed override async ValueTask&lt; <a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a> &gt; Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PrepServerForLaunch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_i_dmb_provider.html">IDmbProvider</a>&#160;</td>
          <td class="paramname"><em>dmbToUse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare the server to launch a new instance with the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4" title="The DreamDaemonLaunchParameters to be applied.">WatchdogBase.ActiveLaunchParameters</a> and a given <em>dmbToUse</em> . <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dmbToUse</td><td>The IDmbProvider to be launched. Will not be disposed by this function.</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask&lt;TResult&gt; resulting in the modified IDmbProvider to be used.</dd></dl>
 </p>

<p>Reimplemented from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a98155f6324a06165159d1d3249564f7f">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog</a>.</p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00289">289</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  290</span>        {</div>
<div class="line"><span class="lineno">  291</span>            <span class="keywordflow">if</span> (<a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  292</span>                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;Expected activeSwappable to be null!&quot;</span>);</div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0fc4476bb374c24de6c4c8be76ad9746">pendingSwappable</a> != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  294</span>                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;Expected pendingSwappable to be null!&quot;</span>);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>            <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogTrace(<span class="stringliteral">&quot;Prep for server launch&quot;</span>);</div>
<div class="line"><span class="lineno">  297</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0e09a241beb5aa99fcff9987bd6b5799">CanUseSwappableDmbProvider</a>(dmbToUse))</div>
<div class="line"><span class="lineno">  298</span>                <span class="keywordflow">return</span> dmbToUse;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>            <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a> = <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a">CreateSwappableDmbProvider</a>(dmbToUse);</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  302</span>            {</div>
<div class="line"><span class="lineno">  303</span>                await <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1845f3dca4597a726053daa649565c5f">InitialLink</a>(cancellationToken);</div>
<div class="line"><span class="lineno">  304</span>            }</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_exception.html">Exception</a> ex)</div>
<div class="line"><span class="lineno">  306</span>            {</div>
<div class="line"><span class="lineno">  307</span>                <span class="comment">// We won&#39;t worry about disposing activeSwappable here as we can&#39;t dispose dmbToUse here.</span></div>
<div class="line"><span class="lineno">  308</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a2143ec7079d0ffd42c76f61cf7b71cf6">Logger</a>.LogTrace(ex, <span class="stringliteral">&quot;Initial link error, nulling ActiveSwappable&quot;</span>);</div>
<div class="line"><span class="lineno">  309</span>                <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a> = <span class="keyword">null</span>;</div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  311</span>            }</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>            <span class="keywordflow">return</span> <a class="code hl_property" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a2cec430edc7f34e510f8b741d7ffba2f">ActiveSwappable</a>;</div>
<div class="line"><span class="lineno">  314</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_a1845f3dca4597a726053daa649565c5f"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1845f3dca4597a726053daa649565c5f">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.InitialLink</a></div><div class="ttdeci">async ValueTask InitialLink(CancellationToken cancellationToken)</div><div class="ttdoc">Create the initial link to the live game directory using ActiveSwappable.</div><div class="ttdef"><b>Definition:</b> <a href="_advanced_watchdog_8cs_source.html#l00368">AdvancedWatchdog.cs:368</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_advanced_watchdog_8cs_source.html#l00031">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ActiveSwappable</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00352">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CanUseSwappableDmbProvider()</a>, <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.CreateSwappableDmbProvider()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00368">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.InitialLink()</a>, <a class="el" href="_watchdog_base_8cs_source.html#l00079">Tgstation.Server.Host.Components.Watchdog.WatchdogBase.Logger</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00046">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.pendingSwappable</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1bc14906a6fb391ce835039400575073_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1bc14906a6fb391ce835039400575073_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1bc14906a6fb391ce835039400575073_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a1bc14906a6fb391ce835039400575073_cgraph">
<area shape="rect" title="Prepare the server to launch a new instance with the WatchdogBase.ActiveLaunchParameters and a given ..." alt="" coords="5,84,272,139"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a0e09a241beb5aa99fcff9987bd6b5799" title="If the SwappableDmbProvider feature of the AdvancedWatchdog can be used with a given dmbProvider ." alt="" coords="320,5,633,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#afdc40d34050aab6b62e2f3b16482f27a" title="Create a SwappableDmbProvider for a given dmbProvider ." alt="" coords="325,84,629,139"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#a1845f3dca4597a726053daa649565c5f" title="Create the initial link to the live game directory using ActiveSwappable." alt="" coords="347,163,606,203"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a62c2020413dd770a7b3b0482e91ffbf3" title="Should be awaited. before calling MakeActive(CancellationToken) to ensure the SwappableDmbProvider is..." alt="" coords="698,120,969,175"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#ad6e832b7e37fcfb95f47294a9a084c2e" title="Make the SwappableDmbProvider active by replacing the live link with our CompileJob." alt="" coords="681,199,985,239"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html#a92d654ad97877a24e3abab5c0cd595ab" title="Perform the swapping action." alt="" coords="1033,199,1317,239"/>
</map>
</div>

</div>
</div>
<a id="a60d804c11d6598add968037617a3e06f" name="a60d804c11d6598add968037617a3e06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60d804c11d6598add968037617a3e06f">&#9670;&#160;</a></span>SessionStartupPersist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">override async ValueTask Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.SessionStartupPersist </td>
          <td>(</td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called to save the current <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_server.html">Server</a> into the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a5a3bafe5d390332f896cdaf43a8db55d" title="The ISessionPersistor for the WatchdogBase.">WatchdogBase.SessionPersistor</a> when initially launched. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ValueTask representing the running operation.</dd></dl>
 </p>

<p>Reimplemented from <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_basic_watchdog.html#a60f5d6067b84ad5c4d3ae5b389aa664d">Tgstation.Server.Host.Components.Watchdog.BasicWatchdog</a>.</p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00331">331</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  332</span>        {</div>
<div class="line"><span class="lineno">  333</span>            await <a class="code hl_function" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad1845db5b55426291619a02d2d56b4fd">ApplyInitialDmb</a>(cancellationToken);</div>
<div class="line"><span class="lineno">  334</span>            await base.SessionStartupPersist(cancellationToken);</div>
<div class="line"><span class="lineno">  335</span>        }</div>
<div class="ttc" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_html_ad1845db5b55426291619a02d2d56b4fd"><div class="ttname"><a href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad1845db5b55426291619a02d2d56b4fd">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ApplyInitialDmb</a></div><div class="ttdeci">abstract ValueTask ApplyInitialDmb(CancellationToken cancellationToken)</div><div class="ttdoc">Set the ReattachInformation.InitialDmb for the BasicWatchdog.Server.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad1845db5b55426291619a02d2d56b4fd">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ApplyInitialDmb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a60d804c11d6598add968037617a3e06f_cgraph.png" border="0" usemap="#aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a60d804c11d6598add968037617a3e06f_cgraph" alt=""/></div>
<map name="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a60d804c11d6598add968037617a3e06f_cgraph" id="aclass_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog_a60d804c11d6598add968037617a3e06f_cgraph">
<area shape="rect" title="Called to save the current Server into the WatchdogBase.SessionPersistor when initially launched...." alt="" coords="5,5,296,60"/>
<area shape="rect" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html#ad1845db5b55426291619a02d2d56b4fd" title="Set the ReattachInformation.InitialDmb for the BasicWatchdog.Server." alt="" coords="344,13,636,53"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac164bca1223c8bfced2f1774464b8648" name="ac164bca1223c8bfced2f1774464b8648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac164bca1223c8bfced2f1774464b8648">&#9670;&#160;</a></span>deploymentCleanupGate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile? TaskCompletionSource Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupGate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The TaskCompletionSource representing the cleanup of an unused IDmbProvider.  </p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00051">51</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00417">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DrainDeploymentCleanupTasks()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00141">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNormalReboot()</a>.</p>

</div>
</div>
<a id="a0484c9175cd700015e03340d48b20982" name="a0484c9175cd700015e03340d48b20982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0484c9175cd700015e03340d48b20982">&#9670;&#160;</a></span>deploymentCleanupTasks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly List&lt;Task&gt; Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.deploymentCleanupTasks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List&lt;T&gt; of Tasks that are waiting to clean up old deployments.  </p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00041">41</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00072">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.AdvancedWatchdog()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00417">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DrainDeploymentCleanupTasks()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00141">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNormalReboot()</a>.</p>

</div>
</div>
<a id="a0fc4476bb374c24de6c4c8be76ad9746" name="a0fc4476bb374c24de6c4c8be76ad9746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fc4476bb374c24de6c4c8be76ad9746">&#9670;&#160;</a></span>pendingSwappable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a>? Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.pendingSwappable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The active SwappableDmbProvider for <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a9affc2eeae2903d1bdb0fa81a6550fc4" title="The DreamDaemonLaunchParameters to be applied.">WatchdogBase.ActiveLaunchParameters</a>.  </p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00046">46</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00124">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DisposeAndNullControllersImpl()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00233">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNewDmbAvailable()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00141">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNormalReboot()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00289">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PrepServerForLaunch()</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a2cec430edc7f34e510f8b741d7ffba2f" name="a2cec430edc7f34e510f8b741d7ffba2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cec430edc7f34e510f8b741d7ffba2f">&#9670;&#160;</a></span>ActiveSwappable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_deployment_1_1_swappable_dmb_provider.html">SwappableDmbProvider</a>? Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.ActiveSwappable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">private set</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The SwappableDmbProvider for <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_watchdog_base.html#a38066e15427a18f6e71f00526e797088" title="The DreamDaemonLaunchParameters the active server is using. This may not be the exact same as ActiveL...">WatchdogBase.LastLaunchParameters</a>.  </p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00031">31</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>{ <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00124">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.DisposeAndNullControllersImpl()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00141">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.HandleNormalReboot()</a>, <a class="el" href="_advanced_watchdog_8cs_source.html#l00368">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.InitialLink()</a>, and <a class="el" href="_advanced_watchdog_8cs_source.html#l00289">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.PrepServerForLaunch()</a>.</p>

</div>
</div>
<a id="aadaea6d8f22e45c5c9dd9299657a2d5f" name="aadaea6d8f22e45c5c9dd9299657a2d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadaea6d8f22e45c5c9dd9299657a2d5f">&#9670;&#160;</a></span>LinkFactory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_tgstation_1_1_server_1_1_host_1_1_i_o_1_1_i_filesystem_link_factory.html">IFilesystemLinkFactory</a> Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.LinkFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IFilesystemLinkFactory for the <a class="el" href="class_tgstation_1_1_server_1_1_host_1_1_components_1_1_watchdog_1_1_advanced_watchdog.html" title="A IWatchdog that, instead of killing servers for updates, uses the wonders of filesystem links to swa...">AdvancedWatchdog</a>.  </p>

<p class="definition">Definition at line <a class="el" href="_advanced_watchdog_8cs_source.html#l00036">36</a> of file <a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{ <span class="keyword">get</span>; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="_advanced_watchdog_8cs_source.html#l00072">Tgstation.Server.Host.Components.Watchdog.AdvancedWatchdog.AdvancedWatchdog()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Tgstation.Server.Host/Components/Watchdog/<a class="el" href="_advanced_watchdog_8cs_source.html">AdvancedWatchdog.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
